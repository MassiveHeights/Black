/*

 Blacksmith 2D v0.5.15

 SIMPLIFIED BSD LICENSE
 ======================

 Copyright 2019 Borna Technology Ltd. All rights reserved.

 Redistribution and use in source and binary forms, with or without modification,
 are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice, this list of
 conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright notice, this list
 of conditions and the following disclaimer in the documentation and/or other materials
 provided with the distribution.

 THIS SOFTWARE IS PROVIDED BY BORNA TECHNOLOGY "AS IS" AND ANY EXPRESS OR IMPLIED
 WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL BORNA TECHNOLOGY OR
 CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

 The views and conclusions contained in the software and documentation are those of the
 authors and should not be interpreted as representing official policies, either expressed
 or implied, of Borna Technology.
*/
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(k){return k.raw=k};$jscomp.createTemplateTagFirstArgWithRaw=function(k,n){k.raw=n;return k};$jscomp.arrayIteratorImpl=function(k){var n=0;return function(){return n<k.length?{done:!1,value:k[n++]}:{done:!0}}};$jscomp.arrayIterator=function(k){return{next:$jscomp.arrayIteratorImpl(k)}};
$jscomp.makeIterator=function(k){var n="undefined"!=typeof Symbol&&Symbol.iterator&&k[Symbol.iterator];return n?n.call(k):$jscomp.arrayIterator(k)};$jscomp.arrayFromIterator=function(k){for(var n,w=[];!(n=k.next()).done;)w.push(n.value);return w};$jscomp.arrayFromIterable=function(k){return k instanceof Array?k:$jscomp.arrayFromIterator($jscomp.makeIterator(k))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(k){var n=function(){};n.prototype=k;return new n};$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(k,n,w){if(k==Array.prototype||k==Object.prototype)return k;k[n]=w.value;return k};
$jscomp.getGlobal=function(k){k=["object"==typeof globalThis&&globalThis,k,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<k.length;++n){var w=k[n];if(w&&w.Math==Math)return w}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(k,n){var w=$jscomp.propertyToPolyfillSymbol[n];if(null==w)return k[n];w=k[w];return void 0!==w?w:k[n]};$jscomp.polyfill=function(k,n,w,A){n&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(k,n,w,A):$jscomp.polyfillUnisolated(k,n,w,A))};
$jscomp.polyfillUnisolated=function(k,n,w,A){w=$jscomp.global;k=k.split(".");for(A=0;A<k.length-1;A++){var F=k[A];if(!(F in w))return;w=w[F]}k=k[k.length-1];A=w[k];n=n(A);n!=A&&null!=n&&$jscomp.defineProperty(w,k,{configurable:!0,writable:!0,value:n})};
$jscomp.polyfillIsolated=function(k,n,w,A){var F=k.split(".");k=1===F.length;A=F[0];A=!k&&A in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var V=0;V<F.length-1;V++){var ha=F[V];if(!(ha in A))return;A=A[ha]}F=F[F.length-1];w=$jscomp.IS_SYMBOL_NATIVE&&"es6"===w?A[F]:null;n=n(w);null!=n&&(k?$jscomp.defineProperty($jscomp.polyfills,F,{configurable:!0,writable:!0,value:n}):n!==w&&($jscomp.propertyToPolyfillSymbol[F]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(F):$jscomp.POLYFILL_PREFIX+F,
F=$jscomp.propertyToPolyfillSymbol[F],$jscomp.defineProperty(A,F,{configurable:!0,writable:!0,value:n})))};
$jscomp.getConstructImplementation=function(){function k(){function w(){}new w;Reflect.construct(w,[],function(){});return new w instanceof w}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(k())return Reflect.construct;var n=Reflect.construct;return function(w,A,F){w=n(w,A);F&&Reflect.setPrototypeOf(w,F.prototype);return w}}return function(w,A,F){void 0===F&&(F=w);F=$jscomp.objectCreate(F.prototype||Object.prototype);return Function.prototype.apply.call(w,F,A)||
F}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var k={a:!0},n={};try{return n.__proto__=k,n.a}catch(w){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(k,n){k.__proto__=n;if(k.__proto__!==n)throw new TypeError(k+" is not extensible");return k}:null;
$jscomp.inherits=function(k,n){k.prototype=$jscomp.objectCreate(n.prototype);k.prototype.constructor=k;if($jscomp.setPrototypeOf){var w=$jscomp.setPrototypeOf;w(k,n)}else for(w in n)if("prototype"!=w)if(Object.defineProperties){var A=Object.getOwnPropertyDescriptor(n,w);A&&Object.defineProperty(k,w,A)}else k[w]=n[w];k.superClass_=n.prototype};$jscomp.polyfill("Reflect",function(k){return k?k:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(k){return $jscomp.construct},"es6","es3");
$jscomp.polyfill("Reflect.setPrototypeOf",function(k){if(k)return k;if($jscomp.setPrototypeOf){var n=$jscomp.setPrototypeOf;return function(w,A){try{return n(w,A),!0}catch(F){return!1}}}return null},"es6","es5");$jscomp.polyfill("Number.EPSILON",function(k){return Math.pow(2,-52)},"es6","es3");$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var k={},n=Object.create(new $jscomp.global.Proxy(k,{get:function(w,A,F){return w==k&&"q"==A&&F==n}}));return!0===n.q}catch(w){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(k){if(k)return k;var n=function(F,V){this.$jscomp$symbol$id_=F;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:V})};n.prototype.toString=function(){return this.$jscomp$symbol$id_};var w=0,A=function(F){if(this instanceof A)throw new TypeError("Symbol is not a constructor");return new n("jscomp_symbol_"+(F||"")+"_"+w++,F)};return A},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(k){if(k)return k;k=Symbol("Symbol.iterator");for(var n="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),w=0;w<n.length;w++){var A=$jscomp.global[n[w]];"function"===typeof A&&"function"!=typeof A.prototype[k]&&$jscomp.defineProperty(A.prototype,k,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return k},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(k){k={next:k};k[Symbol.iterator]=function(){return this};return k};$jscomp.owns=function(k,n){return Object.prototype.hasOwnProperty.call(k,n)};
$jscomp.polyfill("WeakMap",function(k){function n(){if(!k||!Object.seal)return!1;try{var C=Object.seal({}),E=Object.seal({}),q=new k([[C,2],[E,3]]);if(2!=q.get(C)||3!=q.get(E))return!1;q.delete(C);q.set(E,4);return!q.has(C)&&4==q.get(E)}catch(Q){return!1}}function w(){}function A(C){var E=typeof C;return"object"===E&&null!==C||"function"===E}function F(C){if(!$jscomp.owns(C,ha)){var E=new w;$jscomp.defineProperty(C,ha,{value:E})}}function V(C){if(!$jscomp.ISOLATE_POLYFILLS){var E=Object[C];E&&(Object[C]=
function(q){if(q instanceof w)return q;Object.isExtensible(q)&&F(q);return E(q)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(k&&$jscomp.ES6_CONFORMANCE)return k}else if(n())return k;var ha="$jscomp_hidden_"+Math.random();V("freeze");V("preventExtensions");V("seal");var jb=0,x=function(C){this.id_=(jb+=Math.random()+1).toString();if(C){C=$jscomp.makeIterator(C);for(var E;!(E=C.next()).done;)E=E.value,this.set(E[0],E[1])}};x.prototype.set=function(C,E){if(!A(C))throw Error("Invalid WeakMap key");
F(C);if(!$jscomp.owns(C,ha))throw Error("WeakMap key fail: "+C);C[ha][this.id_]=E;return this};x.prototype.get=function(C){return A(C)&&$jscomp.owns(C,ha)?C[ha][this.id_]:void 0};x.prototype.has=function(C){return A(C)&&$jscomp.owns(C,ha)&&$jscomp.owns(C[ha],this.id_)};x.prototype.delete=function(C){return A(C)&&$jscomp.owns(C,ha)&&$jscomp.owns(C[ha],this.id_)?delete C[ha][this.id_]:!1};return x},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(k){function n(){if($jscomp.ASSUME_NO_NATIVE_MAP||!k||"function"!=typeof k||!k.prototype.entries||"function"!=typeof Object.seal)return!1;try{var x=Object.seal({x:4}),C=new k($jscomp.makeIterator([[x,"s"]]));if("s"!=C.get(x)||1!=C.size||C.get({x:4})||C.set({x:4},"t")!=C||2!=C.size)return!1;var E=C.entries(),q=E.next();if(q.done||q.value[0]!=x||"s"!=q.value[1])return!1;q=E.next();return q.done||4!=q.value[0].x||"t"!=q.value[1]||!E.next().done?!1:!0}catch(Q){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(k&&$jscomp.ES6_CONFORMANCE)return k}else if(n())return k;var w=new WeakMap,A=function(x){this.data_={};this.head_=ha();this.size=0;if(x){x=$jscomp.makeIterator(x);for(var C;!(C=x.next()).done;)C=C.value,this.set(C[0],C[1])}};A.prototype.set=function(x,C){x=0===x?0:x;var E=F(this,x);E.list||(E.list=this.data_[E.id]=[]);E.entry?E.entry.value=C:(E.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:x,value:C},E.list.push(E.entry),
this.head_.previous.next=E.entry,this.head_.previous=E.entry,this.size++);return this};A.prototype.delete=function(x){x=F(this,x);return x.entry&&x.list?(x.list.splice(x.index,1),x.list.length||delete this.data_[x.id],x.entry.previous.next=x.entry.next,x.entry.next.previous=x.entry.previous,x.entry.head=null,this.size--,!0):!1};A.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=ha();this.size=0};A.prototype.has=function(x){return!!F(this,x).entry};A.prototype.get=function(x){return(x=
F(this,x).entry)&&x.value};A.prototype.entries=function(){return V(this,function(x){return[x.key,x.value]})};A.prototype.keys=function(){return V(this,function(x){return x.key})};A.prototype.values=function(){return V(this,function(x){return x.value})};A.prototype.forEach=function(x,C){for(var E=this.entries(),q;!(q=E.next()).done;)q=q.value,x.call(C,q[1],q[0],this)};A.prototype[Symbol.iterator]=A.prototype.entries;var F=function(x,C){var E=C&&typeof C;"object"==E||"function"==E?w.has(C)?E=w.get(C):
(E=""+ ++jb,w.set(C,E)):E="p_"+C;var q=x.data_[E];if(q&&$jscomp.owns(x.data_,E))for(x=0;x<q.length;x++){var Q=q[x];if(C!==C&&Q.key!==Q.key||C===Q.key)return{id:E,list:q,index:x,entry:Q}}return{id:E,list:q,index:-1,entry:void 0}},V=function(x,C){var E=x.head_;return $jscomp.iteratorPrototype(function(){if(E){for(;E.head!=x.head_;)E=E.previous;for(;E.next!=E.head;)return E=E.next,{done:!1,value:C(E)};E=null}return{done:!0,value:void 0}})},ha=function(){var x={};return x.previous=x.next=x.head=x},jb=
0;return A},"es6","es3");$jscomp.findInternal=function(k,n,w){k instanceof String&&(k=String(k));for(var A=k.length,F=0;F<A;F++){var V=k[F];if(n.call(w,V,F,k))return{i:F,v:V}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(k){return k?k:function(n,w){return $jscomp.findInternal(this,n,w).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(k){return k?k:function(n,w,A){var F=this.length||0;0>w&&(w=Math.max(0,F+w));if(null==A||A>F)A=F;A=Number(A);0>A&&(A=Math.max(0,F+A));for(w=Number(w||0);w<A;w++)this[w]=n;return this}},"es6","es3");$jscomp.typedArrayFill=function(k){return k?k:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
(function(k,n){"object"===typeof exports&&"undefined"!==typeof module?n(exports):"function"===typeof define&&define.amd?define(["exports"],n):(k=k||self,n(k["black-engine"]={}))})(this,function(k){var n=function(){n.assert(!1,"Static class.")};n.isNumber=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b.forEach(function(d){if("number"!==typeof d||!1!==isNaN(parseFloat(d))||!0!==isFinite(d))if(n.logOnFail&&console.error("[ASSERT]","Not a number."),n.throwOnFail)throw Error("Not a number.");
})};n.assert=function(a,b){if(!0!==a&&(b=null==b?"Assertion failed.":b,n.logOnFail&&console.error("[ASSERT]",b),n.throwOnFail))throw Error(b);};n.assertWarn=function(a,b){!0!==a&&n.warn(null==b?"Assertion warning.":b)};n.assertInfo=function(a,b){!0!==a&&n.info(null==b?"Assertion info.":b)};n.log=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];console.info.apply(console,["%c%s","color: #000000","LOG:"].concat($jscomp.arrayFromIterable(b)))};n.info=function(a){for(var b=[],c=
0;c<arguments.length;++c)b[c-0]=arguments[c];console.info.apply(console,["%c%s","color: #003bd2","INFO:"].concat($jscomp.arrayFromIterable(b)))};n.warn=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];console.info.apply(console,["%c%s","color: #f67400","WARN:"].concat($jscomp.arrayFromIterable(b)))};n.error=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];console.info.apply(console,["%c%s","color: #d50000","ERROR:"].concat($jscomp.arrayFromIterable(b)))};
n.time=function(a){n.timeProfiles[a]=performance.now()};n.timeEnd=function(a){n.timeProfiles[a]=performance.now()-n.timeProfiles[a]};n.throwOnFail=!0;n.logOnFail=!1;n.timeProfiles={};var w=function(){};w.randomBetween=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)};w.clamp=function(a,b,c){return a<b?b:a>c?c:a};w.distance=function(a,b,c,d){a-=c;b-=d;return Math.sqrt(a*a+b*b)};w.distanceSqr=function(a,b,c,d){a-=c;b-=d;return a*a+b*b};w.angleBetween=function(a,b,c,d){return Math.atan2(d-b,
c-a)};w.mapRange=function(a,b,c,d,e){return d+(e-d)*(a-b)/(c-b)};w.lerp=function(a,b,c){return a+c*(b-a)};w.equals=function(a,b,c){c=void 0===c?Number.EPSILON:c;return a-c<b&&a+c>b};w.PI_Q=Math.PI/4;w.PI2=2*Math.PI;w.DEG2RAD=.017453292519943295;w.RAD2DEG=57.29577951308232;var A=function(a){this.mRepeat=0;this.mPerm=[];for(a=0;512>a;a++)this.mPerm.push(A.__permutation[a%256])};A.prototype.__perlin=function(a,b,c){0<this.mRepeat&&(a%=this.mRepeat,b%=this.mRepeat,c%=this.mRepeat);var d=this.mPerm,e=
~~a&255,f=~~b&255,g=~~c&255;a-=~~a;b-=~~b;var h=c-~~c,l=a*a*a*(a*(6*a-15)+10),p=b*b*b*(b*(6*b-15)+10);c=h*h*h*(h*(6*h-15)+10);var t=d[d[d[e]+f]+g],m=d[d[d[e]+this.inc(f)]+g],v=d[d[d[e]+f]+this.inc(g)],u=d[d[d[e]+this.inc(f)]+this.inc(g)],y=d[d[d[this.inc(e)]+f]+g],G=d[d[d[this.inc(e)]+this.inc(f)]+g],H=d[d[d[this.inc(e)]+f]+this.inc(g)];d=d[d[d[this.inc(e)]+this.inc(f)]+this.inc(g)];e=this.lerp(this.grad(t,a,b,h),this.grad(y,a-1,b,h),l);g=this.lerp(this.grad(m,a,b-1,h),this.grad(G,a-1,b-1,h),l);f=
this.lerp(e,g,p);e=this.lerp(this.grad(v,a,b,h-1),this.grad(H,a-1,b,h-1),l);g=this.lerp(this.grad(u,a,b-1,h-1),this.grad(d,a-1,b-1,h-1),l);a=this.lerp(e,g,p);return.5*(this.lerp(f,a,c)+1)};A.prototype.perlin=function(a,b,c,d,e){d=void 0===d?1:d;e=void 0===e?1:e;if(1===d&&1===e)return this.__perlin(a,b,c);for(var f=0,g=1,h=1,l=0,p=0;p<d;p++)f+=this.__perlin(a*g,b*g,c*g)*h,l+=h,h*=e,g*=2;return f/l};A.prototype.inc=function(a){a++;0<this.mRepeat&&(a%=this.mRepeat);return a};A.prototype.grad=function(a,
b,c,d){switch(a&15){case 0:return b+c;case 1:return-b+c;case 2:return b-c;case 3:return-b-c;case 4:return b+d;case 5:return-b+d;case 6:return b-d;case 7:return-b-d;case 8:return c+d;case 9:return-c+d;case 10:return c-d;case 11:return-c-d;case 12:return c+b;case 13:return-c+d;case 14:return c-b;case 15:return-c-d}};A.prototype.lerp=function(a,b,c){return a+c*(b-a)};A.__permutation=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,
75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,
129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];var F=function(){this.mMap=new Map};F.prototype.has=function(a,b){return this.mMap.has(a)&&this.mMap.get(a).has(b)};F.prototype.set=function(a,b,c){var d=this.mMap.get(a);null==d&&(d=new Map,this.mMap.set(a,
d));d.set(b,c)};F.prototype.get=function(a,b){return null!=this.mMap.get(a)?this.mMap.get(a)&&this.mMap.get(a).get(b):null};var V=function(a,b){this.mReleased=[];this.mCapacity=void 0===b?100:b;this.mType=a};V.prototype.releaseAll=function(){this.mReleased.splice(0,this.mReleased.length)};V.prototype.get=function(){return 0<this.mReleased.length?this.mReleased.pop():new this.mType};V.prototype.release=function(a){(-1===this.mCapacity||this.mReleased.length<this.mCapacity)&&this.mReleased.push(a)};
$jscomp.global.Object.defineProperties(V.prototype,{capacity:{configurable:!0,enumerable:!0,get:function(){return this.mCapacity},set:function(a){n.assert(0!==a,"Capacity cannot be equal to zero.");n.assert(-1<a,"Capacity cannot be smaller then -1.");this.mCapacity=a;this.mCapacity>this.mReleased.length&&this.mReleased.splice(0,this.mReleased.length-this.mCapacity)}}});var ha=function(a,b,c){this.r=void 0===a?0:a;this.g=void 0===b?0:b;this.b=void 0===c?0:c},jb=function(a,b,c){this.h=void 0===a?0:
a;this.s=void 0===b?0:b;this.v=void 0===c?0:c},x=function(){};x.hex2rgb=function(a){return new ha(a>>16&255,a>>8&255,a&255)};x.rgb2hex=function(a){return a.r<<16|a.g<<8|a.b};x.hsv2rgb=function(a){var b=a.h,c=a.s;a=a.v;var d=0,e=0,f=0,g=Math.floor(6*b),h=6*b-g;b=a*(1-c);var l=a*(1-h*c);c=a*(1-(1-h)*c);switch(g%6){case 0:d=a;e=c;f=b;break;case 1:d=l;e=a;f=b;break;case 2:d=b;e=a;f=c;break;case 3:d=b;e=l;f=a;break;case 4:d=c;e=b;f=a;break;case 5:d=a,e=b,f=l}return new ha(255*d,255*e,255*f)};x.rgb2hsv=
function(a){var b=a.r,c=a.g;a=a.b;b/=255;c/=255;a/=255;var d=Math.max(b,c,a),e=Math.min(b,c,a),f=0,g=d-e;if(d===e)f=0;else{switch(d){case b:f=(c-a)/g+(c<a?6:0);break;case c:f=(a-b)/g+2;break;case a:f=(b-c)/g+4}f/=6}return new jb(f,0===d?0:g/d,d)};x.lerpHSV=function(a,b,c){c=void 0===c?.5:c;a=x.rgb2hsv(x.hex2rgb(a));b=x.rgb2hsv(x.hex2rgb(b));var d=0,e=b.h-a.h;if(a.h>b.h){var f=b.h;b.h=a.h;a.h=f;e=-e;c=1-c}.5<e&&(a.h+=1,d=(a.h+c*(b.h-a.h))%1);.5>=e&&(d=a.h+c*e);return x.rgb2hex(x.hsv2rgb(new jb(d,a.s+
c*(b.s-a.s),a.v+c*(b.v-a.v))))};x.hexColorToString=function(a){a=a.toString(16);return"#000000".substring(0,7-a.length)+a};x.intToRGBA=function(a,b){return"rgba("+(a>>16&255)+", "+(a>>8&255)+", "+(a&255)+", "+(void 0===b?1:b)+")"};var C={"*":"[^/]+","**":".+/?[^/]+","**/":".+/?"},E=function(a){this.mRegExp=new RegExp("^"+a.replace(/\./g,"\\.").replace(/\*\*$/g,".+").replace(/(?:\*\*\/|\*\*|\*)/g,function(b){return C[b]})+"$")};E.prototype.test=function(a){return this.mRegExp.test(a)};var q=function(a,
b){a=void 0===a?0:a;b=void 0===b?0:b;n.isNumber(a,b);this.x=a;this.y=b};q.prototype.set=function(a,b){a=void 0===a?0:a;b=void 0===b?0:b;n.isNumber(a,b);this.x=a;this.y=b;return this};q.prototype.add=function(a){this.x+=a.x;this.y+=a.y;return this};q.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;return this};q.prototype.distance=function(a){var b=this.x-a.x;a=this.y-a.y;return Math.sqrt(b*b+a*a)};q.prototype.distanceSqr=function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a};q.prototype.multiply=
function(a){this.x*=a.x;this.y*=a.y;return this};q.prototype.multiplyScalar=function(a){n.isNumber(a);this.x*=a;this.y*=a;return this};q.prototype.dot=function(a){return this.x*a.x+this.y*a.y};q.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};q.prototype.lengthSqr=function(){return this.x*this.x+this.y*this.y};q.prototype.normalize=function(){var a=this.lengthSqr();0<a?(a=Math.sqrt(a),this.x/=a,this.y/=a):this.y=this.x=0;return this};q.prototype.clamp=function(a,b){n.isNumber(a,
b);this.x=w.clamp(this.x,a,b);this.y=w.clamp(this.y,a,b);return this};q.prototype.clampLength=function(a,b){n.isNumber(a,b);a=w.clamp(this.length(),a,b);this.normalize();this.multiplyScalar(a);return this};q.prototype.lerp=function(a,b){n.isNumber(b);this.x=w.lerp(this.x,a.x,b);this.y=w.lerp(this.y,a.y,b);return this};q.prototype.copyTo=function(a){a.x=this.x;a.y=this.y;return a};q.prototype.copyFrom=function(a){this.x=a.x;this.y=a.y;return this};q.prototype.clone=function(){return new q(this.x,this.y)};
q.prototype.equals=function(a,b){b=void 0===b?Number.EPSILON:b;return null!==a&&Math.abs(a.x-this.x)<b&&Math.abs(a.y-this.y)<b};q.prototype.isEmpty=function(){return 0===this.x&&0===this.y};q.prototype.setRotationFrom=function(a,b){n.isNumber(b);return this.subtract(a).setRotation(b).add(a)};q.prototype.setRotation=function(a){n.isNumber(a);var b=Math.cos(a);a=Math.sin(a);return this.set(this.x*b-this.y*a,this.x*a+this.y*b)};q.prototype.angleBetween=function(a){return Math.atan2(a.y-this.y,a.x-this.x)};
q.prototype.angle=function(){return Math.atan2(this.y,this.x)};q.prototype.perp=function(){return this.set(this.y,-this.x)};q.fromAngle=function(a,b){n.isNumber(a);b=b||new q;return b.set(Math.cos(a),Math.sin(a))};q.randomRange=function(a,b,c){c=c||new q;c.x=Math.random()*(b.x-a.x)+a.x;c.y=Math.random()*(b.y-a.y)+a.y;return c};q.prototype.toString=function(a){a=void 0===a?2:a;return"Vector: { x: "+this.x.toFixed(a)+", y: "+this.y.toFixed(a)+" }"};$jscomp.global.Object.defineProperties(q.prototype,
{random:{configurable:!0,enumerable:!0,get:function(){return w.randomBetween(this.x,this.y)}}});q.__cache=new q;q.pool=new V(q);var Q=function(a,b){this.start=a;this.end=b};Q.prototype.set=function(a,b){this.start=a;this.end=b;return this};Q.prototype.clone=function(){return new Q(this.start.clone(),this.end.clone())};Q.prototype.copyTo=function(a){return a.set(this.start.clone(),this.end.clone())};Q.prototype.copyFrom=function(a){return this.set(a.start.clone(),a.end.clone())};Q.prototype.equals=
function(a,b){b=void 0===b?Number.EPSILON:b;return this.start.equals(a.start,b)&&this.end.equals(a.end,b)||this.start.equals(a.end,b)&&this.end.equals(a.start,b)};Q.prototype.reverse=function(){var a=this.start;this.start=this.end;this.end=a;return this};Q.prototype.normalize=function(){this.end.subtract(this.start).normalize().add(this.start);return this};Q.prototype.scale=function(a){this.end.subtract(this.start).multiplyScalar(a).add(this.start);return this};Q.prototype.zero=function(){return this.set(new q,
new q)};Q.prototype.length=function(){return this.start.distance(this.end)};Q.prototype.center=function(a){a=a||new q;return a.set((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)};Q.prototype.containsXY=function(a,b){return this.contains(new q(a,b))};Q.prototype.contains=function(a){return this.start.distance(a)+this.end.distance(a)===this.length()};Q.prototype.intersects=function(a){var b=this.start,c=this.end,d=a.start;a=a.end;var e=(a.y-d.y)*(c.x-b.x)-(a.x-d.x)*(c.y-b.y);if(0===e)return!1;
var f=b.y-d.y,g=b.x-d.x;b=(c.x-b.x)*f-(c.y-b.y)*g;f=((a.x-d.x)*f-(a.y-d.y)*g)/e;g=b/e;return 0<=f&&1>=f&&0<g&&1>g};Q.prototype.intersectsCircle=function(a){var b=this.start,c=this.end;if(a.contains(b)||a.contains(c))return!0;var d=b.distance(c),e=(c.x-b.x)/d;c=(c.y-b.y)/d;d=e*(a.x-b.x)+c*(a.y-b.y);var f=(new q(d*e+b.x,d*c+b.y)).distance(new q(a.x,a.y));if(f<a.r){a=Math.sqrt(Math.pow(a.r,2)-Math.pow(f,2));f=(d+a)*e+b.x;var g=(d+a)*c+b.y;return this.__isInBoundsXY((d-a)*e+b.x,(d-a)*c+b.y)||this.__isInBoundsXY(f,
g)}return!1};Q.prototype.__isInBoundsXY=function(a,b){var c=this.start.x,d=this.start.y,e=this.end.x,f=this.end.y;return a>Math.min(c,e)&&a<Math.max(c,e)&&b>Math.min(d,f)&&b<Math.max(d,f)};Q.prototype.toString=function(a){a=void 0===a?2:a;return"Line { start: "+this.start.toString(a)+", end: "+this.end.toString(a)+" }"};$jscomp.global.Object.defineProperties(Q.prototype,{left:{configurable:!0,enumerable:!0,get:function(){return Math.min(this.start.x,this.end.x)}},right:{configurable:!0,enumerable:!0,
get:function(){return Math.max(this.start.x,this.end.x)}},top:{configurable:!0,enumerable:!0,get:function(){return Math.min(this.start.y,this.end.y)}},bottom:{configurable:!0,enumerable:!0,get:function(){return Math.max(this.start.y,this.end.y)}},type:{configurable:!0,enumerable:!0,get:function(){return"Line"}}});Q.__cache=new Q(new q,new q);var z=function(a,b,c,d){a=void 0===a?0:a;b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?0:d;n.isNumber(a,b,c,d);this.x=a;this.y=b;this.width=c;this.height=d};
z.prototype.set=function(a,b,c,d){n.isNumber(a,b,c,d);this.x=a;this.y=b;this.width=c;this.height=d;return this};z.prototype.copyFrom=function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this};z.prototype.copyTo=function(a){a.x=this.x;a.y=this.y;a.width=this.width;a.height=this.height;return a};z.prototype.size=function(a){a=a||new q;return a.set(this.width,this.height)};z.prototype.zero=function(){return this.set(0,0,0,0)};z.prototype.equals=function(a,b){b=void 0===b?
Number.EPSILON:b;return null!==a&&Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.width-a.width)<b&&Math.abs(this.height-a.height)<b};z.prototype.containsXY=function(a,b){return a>=this.x&&a<=this.right&&b>=this.y&&b<=this.bottom};z.prototype.contains=function(a){return a.x>=this.x&&a.y>=this.y&&a.right<=this.right&&a.bottom<=this.bottom};z.prototype.intersects=function(a){return a.right>this.x&&a.bottom>this.y&&a.x<this.right&&a.y<this.bottom};z.prototype.intersection=function(a,b){b=
b||new z;var c=this.x<a.x?a.x:this.x,d=this.right>a.right?a.right:this.right;if(d<=c)return new z;var e=this.y<a.y?a.y:this.y;a=this.bottom>a.bottom?a.bottom:this.bottom;if(a<=e)return new z;b.set(c,e,d-c,a-e);return b};z.prototype.union=function(a){var b=this.x>a.x?a.x:this.x,c=this.y>a.y?a.y:this.y;return this.set(b,c,(this.right<a.right?a.right:this.right)-b,(this.bottom<a.bottom?a.bottom:this.bottom)-c)};z.prototype.expand=function(a,b,c,d){n.isNumber(a,b,c,d);if(0===this.volume)return this.set(a,
b,c,d);var e=this.right,f=this.bottom;this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y);return this};z.prototype.expandXY=function(a,b){a<this.x&&(this.width+=this.x-a,this.x=a);b<this.y&&(this.height+=this.y-b,this.y=b);a>this.x+this.width&&(this.width=a-this.x);b>this.y+this.height&&(this.height=b-this.y);return this};z.prototype.inflate=function(a,b){a=void 0===a?0:a;b=void 0===b?0:b;n.isNumber(a,b);this.x-=a;
this.y-=b;this.width+=2*a;this.height+=2*b;return this};z.prototype.clone=function(){return new z(this.x,this.y,this.width,this.height)};z.prototype.center=function(a){a=a||new q;return a.set(this.x+.5*this.width,this.y+.5*this.height)};z.prototype.scale=function(a,b){this.width*=a;this.height*=b;return this};z.fromPoints=function(a){var b=new z;if(0===a.length)return b;for(var c=a.length,d=a[0].x,e=a[0].y,f=a[0].x,g=a[0].y,h=1;h<c;h++){var l=a[h],p=l.x;l=l.y;d=Math.min(p,d);f=Math.max(p,f);e=Math.min(l,
e);g=Math.max(l,g)}b.x=d;b.y=e;b.width=f-d;b.height=g-e;return b};z.fromPointsXY=function(a){var b=new z;if(2>a.length)return b;for(var c=a.length,d=a[0],e=a[1],f=a[0],g=a[1],h=2;h<c;h+=2){var l=a[h],p=a[h+1];d=Math.min(l,d);f=Math.max(l,f);e=Math.min(p,e);g=Math.max(p,g)}b.x=d;b.y=e;b.width=f-d;b.height=g-e;return b};z.prototype.toString=function(a){a=void 0===a?2:a;return"Rectangle { x: "+this.x.toFixed(a)+", y: "+this.y.toFixed(a)+", width: "+this.width.toFixed(a)+", height: "+this.height.toFixed(a)+
" }"};$jscomp.global.Object.defineProperties(z.prototype,{left:{configurable:!0,enumerable:!0,get:function(){return this.x},set:function(a){n.isNumber(a);this.x=a}},right:{configurable:!0,enumerable:!0,get:function(){return this.x+this.width},set:function(a){n.isNumber(a);this.x=a-this.width}},top:{configurable:!0,enumerable:!0,get:function(){return this.y},set:function(a){n.isNumber(a);this.y=a}},bottom:{configurable:!0,enumerable:!0,get:function(){return this.y+this.height},set:function(a){n.isNumber(a);
this.y=a-this.height}},topLeft:{configurable:!0,enumerable:!0,get:function(){return new q(this.x,this.y)},set:function(a){this.left=a.x;this.top=a.y}},topRight:{configurable:!0,enumerable:!0,get:function(){return new q(this.right,this.y)},set:function(a){this.right=a.x;this.top=a.y}},bottomRight:{configurable:!0,enumerable:!0,get:function(){return new q(this.right,this.bottom)},set:function(a){this.right=a.x;this.bottom=a.y}},bottomLeft:{configurable:!0,enumerable:!0,get:function(){return new q(this.x,
this.bottom)},set:function(a){this.x=a.x;this.bottom=a.y}},volume:{configurable:!0,enumerable:!0,get:function(){return this.width*this.height}},perimeter:{configurable:!0,enumerable:!0,get:function(){return 2*(this.width+this.height)}},isEmpty:{configurable:!0,enumerable:!0,get:function(){return 0>=this.width||0>=this.height}},lines:{configurable:!0,enumerable:!0,get:function(){return[new Q(this.topLeft,this.topRight),new Q(this.topRight,this.bottomRight),new Q(this.bottomRight,this.bottomLeft),new Q(this.bottomLeft,
this.topLeft)]}},random:{configurable:!0,enumerable:!0,get:function(){var a=w.randomBetween(this.x,this.width),b=w.randomBetween(this.y,this.height);return new q(a,b)}}});z.__cache=new z;z.pool=new V(z);var D=function(a,b,c,d,e,f){a=void 0===a?1:a;b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?1:d;e=void 0===e?0:e;f=void 0===f?0:f;this.data=new Float32Array(6);this.set(a,b,c,d,e,f)};D.prototype.set=function(a,b,c,d,e,f){a=void 0===a?1:a;b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?1:d;e=void 0===
e?0:e;f=void 0===f?0:f;n.isNumber(a,b,c,d,e,f);var g=this.data;g[0]=a;g[1]=b;g[2]=c;g[3]=d;g[4]=e;g[5]=f;return this};D.prototype.translate=function(a,b){n.isNumber(a,b);var c=this.data,d=c[1],e=c[3],f=c[5];this.data[4]=c[0]*a+c[2]*b+c[4];this.data[5]=d*a+e*b+f;return this};D.prototype.setTranslation=function(a,b){n.isNumber(a,b);this.data[4]=a;this.data[5]=b;return this};D.prototype.setRotation=function(a,b){b=void 0===b?1:b;n.isNumber(a,b);var c=this.data;c[0]=Math.cos(a)*b;c[2]=Math.sin(a)*b;c[1]=
-c[2];c[3]=c[0];return this};D.prototype.rotate=function(a){n.isNumber(a);var b=this.data,c=Math.cos(a);a=Math.sin(a);var d=b[0],e=b[2],f=b[4];b[0]=d*c-b[1]*a;b[1]=d*a+b[1]*c;b[2]=e*c-b[3]*a;b[3]=e*a+b[3]*c;b[4]=f*c-b[5]*a;b[5]=f*a+b[5]*c;return this};D.prototype.scale=function(a,b){n.isNumber(a,b);var c=this.data,d=c[1],e=c[2],f=c[3];this.data[0]=c[0]*a;this.data[1]=d*a;this.data[2]=e*b;this.data[3]=f*b;return this};D.prototype.skew=function(a,b){var c=Math.sin(a);a=Math.cos(a);var d=Math.sin(b);
b=Math.cos(b);var e=this.data;this.set(e[0]*b-e[1]*c,e[0]*d+e[1]*a,e[2]*b-e[3]*c,e[2]*d+e[3]*a,e[4]*b-e[5]*c,e[4]*d+e[5]*a)};D.prototype.identity=function(){return this.set(1,0,0,1,0,0)};D.prototype.prepend=function(a){var b=this.data,c=a.data;a=b[0];var d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=c[0],p=c[1],t=c[2],m=c[3],v=c[4];c=c[5];if(1!==l||0!==p||0!==t||1!==m)b[1]=a*p+d*m,b[0]=a*l+d*t,b[3]=e*p+f*m,b[2]=e*l+f*t;b[5]=g*p+h*m+c;b[4]=g*l+h*t+v;return this};D.prototype.append=function(a){var b=this.data,
c=a.data;a=b[0];var d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],l=c[0],p=c[1],t=c[2],m=c[3],v=c[4];c=c[5];b[0]=a*l+e*p;b[1]=d*l+f*p;b[2]=a*t+e*m;b[3]=d*t+f*m;b[4]=a*v+e*c+g;b[5]=d*v+f*c+h;return this};D.prototype.transformXY=function(a,b,c){n.isNumber(a,b);c=c||new q;var d=this.data;c.x=d[0]*a+d[2]*b+d[4];c.y=d[1]*a+d[3]*b+d[5];return c};D.prototype.transformDirectionXY=function(a,b,c){n.isNumber(a,b);var d=this.data;c=c||new q;c.x=d[0]*a+d[2]*b;c.y=d[1]*a+d[3]*b;return c};D.prototype.transformVector=function(a,
b){b=b||new q;var c=this.data;return b.set(c[0]*a.x+c[2]*a.y+c[4],c[1]*a.x+c[3]*a.y+c[5])};D.prototype.transformRect=function(a,b){b=b||new z;var c=Number.MAX_VALUE,d=-Number.MAX_VALUE,e=Number.MAX_VALUE,f=-Number.MAX_VALUE,g=this.data,h=q.pool.get();a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];for(var l=0;l<a.length;l+=2)h.x=g[0]*a[l]+g[2]*a[l+1]+g[4],h.y=g[1]*a[l]+g[3]*a[l+1]+g[5],c>h.x&&(c=h.x),d<h.x&&(d=h.x),e>h.y&&(e=h.y),f<h.y&&(f=h.y);q.pool.release(h);return b.set(c,
e,d-c,f-e)};D.prototype.invert=function(){var a=this.data,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=b*e-c*d;if(0===h)return a[0]=a[1]=a[2]=a[3]=0,a[4]=-f,a[5]=-g,this;h=1/h;a[0]=e*h;a[1]=-c*h;a[2]=-d*h;a[3]=b*h;a[4]=(d*g-e*f)*h;a[5]=(c*f-b*g)*h;return this};D.prototype.__decompose=function(){var a=this.data,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4];a=a[5];var g=-Math.atan2(-d,e),h=Math.atan2(c,b),l=0,p=0,t=0;1E-5>Math.abs(g+h)?(l=h,0>b&&0<=e&&(l+=0>=l?Math.PI:-Math.PI)):(p=g,t=h);return[f,a,l,Math.sqrt(b*
b+c*c),Math.sqrt(d*d+e*e),p,t]};D.prototype.clone=function(){var a=new D,b=this.data;a.set(b[0],b[1],b[2],b[3],b[4],b[5]);return a};D.prototype.copyTo=function(a){var b=this.data,c=a.data;c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];c[5]=b[5];return a};D.prototype.copyFrom=function(a){return a.copyTo(this)};D.prototype.exactEquals=function(a){if(!a)return!1;var b=this.data;a=a.data;return b[0]===a[0]&&b[1]===a[1]&&b[2]===a[2]&&b[3]===a[3]&&b[4]===a[4]&&b[5]===a[5]};D.prototype.equals=function(a,
b){b=void 0===b?Number.EPSILON:b;if(!a)return!1;var c=this.data;a=a.data;return Math.abs(c[0]-a[0])<b&&Math.abs(c[1]-a[1])<b&&Math.abs(c[2]-a[2])<b&&Math.abs(c[3]-a[3])<b&&Math.abs(c[4]-a[4])<b&&Math.abs(c[5]-a[5])<b};D.prototype.toString=function(a){a=void 0===a?2:a;return"        | "+this.value[0].toFixed(a)+" | "+this.value[1].toFixed(a)+" | "+this.value[4].toFixed(a)+" |\nMatrix: | "+this.value[2].toFixed(a)+" | "+this.value[3].toFixed(a)+" | "+this.value[5].toFixed(a)+" |"};$jscomp.global.Object.defineProperties(D.prototype,
{isIdentity:{configurable:!0,enumerable:!0,get:function(){return this.exactEquals(D.__identity)}},value:{configurable:!0,enumerable:!0,get:function(){return this.data}}});D.__cache=new D;D.__identity=new D;D.pool=new V(D);var ia=function(a,b,c){this.x=void 0===a?0:a;this.y=void 0===b?0:b;this.r=void 0===c?1:c};ia.prototype.set=function(a,b,c){this.x=a;this.y=b;this.r=c;return this};ia.prototype.clone=function(){return new ia(this.x,this.y,this.r)};ia.prototype.copyTo=function(a){return a.set(this.x,
this.y,this.r)};ia.prototype.copyFrom=function(a){return this.set(a.x,a.y,a.r)};ia.prototype.equals=function(a,b){b=void 0===b?Number.EPSILON:b;return null!==a&&Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.r-a.r)<b};ia.prototype.containsXY=function(a,b){return this.contains(new q(a,b))};ia.prototype.contains=function(a){return(new q(this.x,this.y)).subtract(a).length()<=this.r};ia.prototype.zero=function(){return this.set(0,0,0)};ia.prototype.intersects=function(a){var b=(new q(this.x,
this.y)).distance(new q(a.x,a.y));return b<=this.r+a.r&&b>=this.r-a.r};ia.prototype.collide=function(a){return(new q(this.x,this.y)).distance(new q(a.x,a.y))<=this.r+a.r};ia.prototype.overlap=function(a){return this.r<a.r?!1:(new q(this.x,this.y)).distance(new q(a.x,a.y))<=this.r-a.r};ia.prototype.center=function(a){a=a||new q;return a.set(this.x,this.y)};ia.getCircumferencePoint=function(a,b,c,d,e){e=e||new q;e.set(a+c*Math.sin(d),b+c*-Math.cos(d));return e};ia.prototype.toString=function(a){a=void 0===
a?2:a;return"Circle { x: "+this.x.toFixed(a)+", y: "+this.y.toFixed(a)+", r: "+this.r.toFixed(a)+" }"};$jscomp.global.Object.defineProperties(ia.prototype,{volume:{configurable:!0,enumerable:!0,get:function(){return Math.PI*this.r*this.r}},perimeter:{configurable:!0,enumerable:!0,get:function(){return 2*Math.PI*this.r}},left:{configurable:!0,enumerable:!0,get:function(){return this.x-this.r}},right:{configurable:!0,enumerable:!0,get:function(){return this.x+this.r}},top:{configurable:!0,enumerable:!0,
get:function(){return this.y-this.r}},bottom:{configurable:!0,enumerable:!0,get:function(){return this.y+this.r}},topPoint:{configurable:!0,enumerable:!0,get:function(){return new q(this.x,this.top)}},bottomPoint:{configurable:!0,enumerable:!0,get:function(){return new q(this.x,this.bottom)}}});ia.__cache=new ia;var aa=function(a){this.mVertices=a=void 0===a?[]:a;this.mLines=[];this.mBounds=new z;this.mCenter=new q;2<a.length&&this.refresh()};aa.prototype.set=function(a){this.mVertices=a;this.refresh();
return this};aa.prototype.copyTo=function(a){for(var b=this.mVertices.length,c=[],d=0;d<b;d++)c.push(this.mVertices[d].clone());return a.set(c)};aa.prototype.copyFrom=function(a){a=a.mVertices;for(var b=a.length,c=[],d=0;d<b;d++)c.push(a[d].clone());return this.set(c)};aa.prototype.clone=function(){for(var a=this.mVertices,b=a.length,c=[],d=0;d<b;d++)c.push(a[d].clone());return new aa(c)};aa.prototype.containsXY=function(a,b){return this.contains(new q(a,b))};aa.prototype.contains=function(a){if(a.x<
this.mBounds.x||this.mBounds.x+this.mBounds.width<a.x||a.y<this.mBounds.y||this.mBounds.y+this.mBounds.height<a.y)return!1;var b=this.mCenter,c=this.mLines,d=c.length;if(b.equals(a))return!0;a=new Q(a,b.clone());b=0;a.scale((this.width+this.height)/a.length());for(var e=0;e<d;e++)b+=c[e].intersects(a)?1:0;return 0!==b%2};aa.prototype.collide=function(a){if(!this.mBounds.intersects(a.mBounds))return!1;var b=this.mLines,c=b.length;a=a.mLines;for(var d=a.length,e=0;e<c;e++)for(var f=0;f<d;f++)if(b[e].intersects(a[f]))return!0;
return!1};aa.prototype.collideCircle=function(a){var b=this.mBounds,c=this.mLines;if(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<a.top)return!1;b=c.length;for(var d=0;d<b;d++)if(c[d].intersectsCircle(a))return!0;return!1};aa.prototype.collideRectangle=function(a){if(!this.mBounds.intersects(a))return!1;var b=this.mLines,c=b.length;a=a.lines;for(var d=a.length,e=0;e<c;e++)for(var f=0;f<d;f++)if(b[e].intersects(a[f]))return!0;return!1};aa.prototype.overlap=function(a){if(this.mBounds.width<
a.mBounds.width||this.mBounds.height<a.mBounds.height||!this.contains(a.mCenter))return!1;var b=this.mLines,c=b.length;a=a.mLines;for(var d=a.length,e=0;e<c;e++)for(var f=0;f<d;f++)if(b[e].intersects(a[f]))return!1;return!0};aa.prototype.overlapCircle=function(a){if(!this.containsXY(a.x,a.y))return!1;for(var b=this.mLines,c=b.length,d=0;d<c;d++)if(b[d].intersectsCircle(a))return!1;return!0};aa.prototype.overlapRectangle=function(a){if(!this.contains(a.center()))return!1;var b=this.mLines,c=b.length;
a=a.lines;for(var d=a.length,e=0;e<c;e++)for(var f=0;f<d;f++)if(b[e].intersects(a[f]))return!1;return!0};aa.prototype.refresh=function(){var a=this.mCenter,b=this.mBounds,c=this.mVertices,d=this.mLines=[];a.set(0,0);for(var e=-Number.MAX_VALUE,f=-Number.MAX_VALUE,g=Number.MAX_VALUE,h=Number.MAX_VALUE,l=0;l<c.length;l++){var p=c[l];a.add(p);var t=p,m=t.x;t=t.y;e=m>e?m:e;f=t>f?t:f;g=m<g?m:g;h=t<h?t:h;d.push(new Q(p,c[l+1]||c[0]))}a.multiplyScalar(1/c.length);b.set(g,h,e-g,f-h);return this};aa.prototype.refreshCenter=
function(){var a=this.mCenter,b=this.mVertices,c=b.length;a.set(0,0);for(var d=0;d<c;d++)a.add(b[d]);a.multiplyScalar(1/b.length);return this};aa.prototype.refreshBounds=function(){for(var a=this.mBounds,b=this.mVertices,c=-Number.MAX_VALUE,d=-Number.MAX_VALUE,e=Number.MAX_VALUE,f=Number.MAX_VALUE,g=b.length,h,l,p=0;p<g;p++)h=b[p].x,l=b[p].y,c=h>c?h:c,d=l>d?l:d,e=h<e?h:e,f=l<f?l:f;a.set(e,f,c-e,d-f);return this};aa.prototype.refreshLines=function(){for(var a=this.mVertices,b=this.mLines=[],c=0;c<
a.length;c+=2)b.push(new Q(a[c],a[c+1]||a[0]));return this};aa.fromPath=function(a){var b=[];a=a.split(" ");for(var c=0;c<a.length;c+=2)b.push(new q(Number(a[c]),Number(a[c+1])));return new aa(b)};aa.prototype.setRotation=function(a){var b=this.mCenter,c=this.mVertices,d=Math.cos(a);a=Math.sin(a);for(var e=0,f=c.length;e<f;e++){var g=c[e];g.subtract(b).set(g.x*d-g.y*a,g.x*a+g.y*d).add(b)}return this.refresh()};aa.prototype.setTranslation=function(a){var b=this.mVertices,c=b.length;a.subtract(this.mCenter);
for(var d=0;d<c;d++)b[d].add(a);return this.refresh()};aa.prototype.toString=function(a){a=void 0===a?2:a;for(var b=this.mLines,c=this.mVertices,d=b.length,e="",f="",g=0;g<d;g++)f+=b[g].toString(a);d=c.length;for(b=0;b<d;b++)e+=c[b].toString(a);return"Polygon { vertices: "+e+", bounds: "+this.mBounds.toString(a)+", center: "+this.mCenter.toString()+", lines: "+f+" }"};$jscomp.global.Object.defineProperties(aa.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.mBounds.width}},
height:{configurable:!0,enumerable:!0,get:function(){return this.mBounds.height}},perimeter:{configurable:!0,enumerable:!0,get:function(){for(var a=this.mLines,b=a.length,c=0,d=0;d<b;d++)c+=a[d].length();return c}},vertices:{configurable:!0,enumerable:!0,get:function(){return this.mVertices}},center:{configurable:!0,enumerable:!0,get:function(){return this.mCenter}}});aa.__cache=new aa;var ca=function(){this.mPoints=[];this.mLookup=null;this.mBaked=!1;this.mStep=1/60;this.mEachT=[]};ca.prototype.set=
function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.mPoints=this.__initPoints(b);this.__refreshEachT();this.mBaked&&this.__refreshCache();return this};ca.prototype.__initPoints=function(a){for(var b=[],c=6;c<a.length;c+=6)b=b.concat(a.slice(c-6,c+2));return b};ca.prototype.__refreshCache=function(){for(var a=this.mLookup=[],b=this.getFullLength(),c=this.mPoints,d=c.length,e=0;e<d;e+=8)for(var f=ca.getLength.apply(ca,$jscomp.arrayFromIterable(c.slice(e,e+8))),g=f=this.mStep*
b/f;1>g;g+=f)a.push(ca.lerp.apply(ca,[g].concat($jscomp.arrayFromIterable(c.slice(e,e+8)))));return this};ca.prototype.__refreshEachT=function(){for(var a=this.mPoints,b=this.mEachT=[],c=a.length,d=[],e=0;e<c;e+=8)d.push(ca.getLength.apply(ca,$jscomp.arrayFromIterable(a.slice(e,e+8))));a=this.getFullLength();for(var f=e=0;f<c;f+=8)e+=d[f/8],b.push(e/a);return this};ca.lerp=function(a,b,c,d,e,f,g,h,l,p){var t=1-a,m=a*a,v=t*t,u=v*t,y=m*a;p=p||new q;p.set(b,c);p.x*=u;p.y*=u;p.x+=3*v*a*d;p.y+=3*v*a*e;
p.x+=3*t*m*f;p.y+=3*t*m*g;p.x+=y*h;p.y+=y*l;return p};ca.prototype.interpolate=function(a,b){b=b||new q;var c=this.mLookup;if(this.mBaked)return b.copyFrom(c[Math.ceil((c.length-1)*a)]),b;for(var d=this.mEachT,e=this.mPoints,f=0;d[f]<a;)f++;c=d[f-1]||0;d=d[f];e=e.slice(8*f,8*f+8);return ca.lerp.apply(ca,[(a-c)/(d-c)].concat($jscomp.arrayFromIterable(e),[b]))};ca.getLength=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=new q(b[0],b[1]);var d=new q(b[2],b[3]),e=new q(b[4],
b[5]);b=new q(b[6],b[7]);return(b.distance(c)+c.distance(d)+d.distance(e)+e.distance(b))/2};ca.prototype.getFullLength=function(){for(var a=this.mPoints,b=a.length,c=0,d=0;d<b;d+=8)c+=ca.getLength.apply(ca,$jscomp.arrayFromIterable(a.slice(d,d+8)));return c};$jscomp.global.Object.defineProperties(ca.prototype,{baked:{configurable:!0,enumerable:!0,get:function(){return this.mBaked},set:function(a){this.mBaked=a;!this.mLookup&&this.mPoints&&this.__refreshCache()}}});ca.__cache=new ca;var qb={DIRECT:"direct",
BUBBLE:"bubble"},rb={REGULAR:"regular",OVERHEARD:"overheard"},O=function(){this.sender=null;this.name="";this.origin=this.target=null;this.canceled=!1;this.type=qb.DIRECT};O.prototype.cancel=function(){this.canceled=!0};O.prototype.toString=function(){return"MESSAGE: { name: '"+this.name+"', sender: '"+(void 0!==this.sender.name?this.sender.name:"")+"', target: '"+this.target.name+"', path: '"+this.path+"' }"};O.prototype.__reset=function(){this.sender=null;this.name="";this.target=null;this.canceled=
!1;this.type=qb.DIRECT;return this};$jscomp.global.Object.defineProperties(O,{PROGRESS:{configurable:!0,enumerable:!0,get:function(){return"progress"}},COMPLETE:{configurable:!0,enumerable:!0,get:function(){return"complete"}},ERROR:{configurable:!0,enumerable:!0,get:function(){return"error"}},CHANGE:{configurable:!0,enumerable:!0,get:function(){return"change"}},READY:{configurable:!0,enumerable:!0,get:function(){return"ready"}},UPDATE:{configurable:!0,enumerable:!0,get:function(){return"update"}},
RESIZE:{configurable:!0,enumerable:!0,get:function(){return"resize"}},pool:{configurable:!0,enumerable:!0,get:function(){return id}}});var id=new V(O),Db=function(a,b,c,d,e,f,g){f=void 0===f?rb.REGULAR:f;g=void 0===g?null:g;this.owner=a;this.name=b;this.callback=c;this.isOnce=d;this.context=void 0===e?null:e;this.pathPattern=g;this.glob=null==g?null:new E(g);this.type=f};Db.prototype.off=function(){this.owner.__off(this)};Db.prototype.__reset=function(){this.pathPattern=this.owner=null;return this};
var ma=null,r=function(){ma=this;this.mCamera=this.mAssets=this.mDevice=this.mTime=this.mAudio=this.mInput=this.mEngine=null};$jscomp.global.Object.defineProperties(r,{engine:{configurable:!0,enumerable:!0,get:function(){return ma.mEngine},set:function(a){ma.mEngine=a}},input:{configurable:!0,enumerable:!0,get:function(){return ma.mInput},set:function(a){ma.mInput=a}},audio:{configurable:!0,enumerable:!0,get:function(){return ma.mAudio},set:function(a){ma.mAudio=a}},time:{configurable:!0,enumerable:!0,
get:function(){return ma.mTime},set:function(a){ma.mTime=a}},device:{configurable:!0,enumerable:!0,get:function(){return ma.mDevice},set:function(a){ma.mDevice=a}},assets:{configurable:!0,enumerable:!0,get:function(){return ma.mAssets},set:function(a){ma.mAssets=a}},stage:{configurable:!0,enumerable:!0,get:function(){return ma.mEngine.mStage}},driver:{configurable:!0,enumerable:!0,get:function(){return ma.mEngine.mVideo}},camera:{configurable:!0,enumerable:!0,get:function(){return null!==ma.mCamera&&
!0===ma.mCamera.mAdded?ma.mCamera:null},set:function(a){ma.mCamera=a}},magic:{configurable:!0,enumerable:!0,get:function(){return Math.random()}}});new r;var M=function(a){this.mBindings=null;this.checkForStage=void 0===a?!1:a};M.prototype.on=function(a,b,c){return this.__on(a,b,!1,c)};M.prototype.off=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(-1!==d.indexOf("@")){n.error("Removing overheard bindings is not allowed.");break}if(null!==
this.mBindings&&!0===this.mBindings.hasOwnProperty(d)){d=this.mBindings[d].slice();for(var e=0;e<d.length;e++)this.__off(d[e])}}};M.prototype.once=function(a,b,c){return this.__on(a,b,!0,c)};M.prototype.post=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];d=this.__draftMessage(a);d.type===qb.DIRECT?this.__invoke.apply(this,[this,d].concat($jscomp.arrayFromIterable(c))):d.type===qb.BUBBLE&&this.__postBubbles.apply(this,[this,d,!0].concat($jscomp.arrayFromIterable(c)));!1===
d.canceled&&this.__invokeOverheard.apply(this,[this,d].concat($jscomp.arrayFromIterable(c)));O.pool.release(d)};M.prototype.__on=function(a,b,c,d){c=void 0===c?!1:c;d=void 0===d?null:d;n.assert(null!==a,"name cannot be null.");n.assert(0<a.trim().length,"name cannot be null.");n.assert(0!==a.indexOf("~"),"Using `~` is not tot allowed here.");n.assert(null!==b,"callback cannot be null.");var e=a.indexOf("@");if(-1!==e){var f=a.substring(0,e);a=a.substring(e+1);e=M.mOverheardHandlers;!1===e.hasOwnProperty(f)&&
(e[f]=[]);e=e[f];b=new Db(this,f,b,c,d,rb.OVERHEARD,a);e.push(b);return b}null===this.mBindings&&(this.mBindings={});!1===this.mBindings.hasOwnProperty(a)&&(this.mBindings[a]=[]);b=new Db(this,a,b,c,d,rb.REGULAR);this.mBindings[a].push(b);return b};M.prototype.__off=function(a){if(a.type===rb.REGULAR){if(null!==this.mBindings&&!1!==this.mBindings.hasOwnProperty(a.name)){var b=this.mBindings[a.name];a=b.indexOf(a);-1!==a&&b.splice(a,1)}}else a.type===rb.OVERHEARD&&(b=M.mOverheardHandlers,!1!==b.hasOwnProperty(a.name)&&
(b=b[a.name],a=b.indexOf(a),-1!==a&&b.splice(a,1)))};M.prototype.__invoke=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!0!==b.canceled&&null!==this.mBindings&&(!0!==this.checkForStage||this===r.stage||null!==this.stage)&&(e=this.mBindings[b.name],void 0!==e&&0!==e.length)){e=e.slice(0);for(var f=0;f<e.length;f++){b.target=this;var g=e[f];if(!0!==this.checkForStage||g.owner.stage!==r.stage||null!==g.owner.stage)if(g.callback.call.apply(g.callback,[g.context,b].concat($jscomp.arrayFromIterable(d))),
!0===g.isOnce&&this.__off(g),!0===b.canceled)break}}};M.prototype.__invokeOverheard=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!0!==b.canceled&&(e=M.mOverheardHandlers[b.name],void 0!==e&&0!==e.length)){e=e.slice(0);for(var f=0;f<e.length;f++){var g=e[f];if((!0!==this.checkForStage||g.owner.stage!==r.stage||null!==g.owner.stage)&&this.__checkPath(a.path,g)&&(b.target=this,g.callback.call.apply(g.callback,[g.context,b].concat($jscomp.arrayFromIterable(d))),!0===
g.isOnce&&this.__off(g),!0===b.canceled))break}}};M.prototype.__postBubbles=function(a,b,c,d){for(var e=[],f=3;f<arguments.length;++f)e[f-3]=arguments[f];b.origin=this;f=[this];for(var g=this;null!==g.parent;)f.push(g.parent),g=g.parent;for(g=0;g<f.length;g++){var h=f[g];h.__invoke.apply(h,[a,b].concat($jscomp.arrayFromIterable(e)));if(!0===b.canceled)break}};M.prototype.__draftMessage=function(a){var b=O.pool.get();b.__reset();b.sender=this;"~"===a.charAt(0)?(b.name=a.substr(1),b.type=qb.BUBBLE):
b.name=a;return b};M.prototype.__checkPath=function(a,b){return null===a||null===b.pathPattern?!1:a===b.pathPattern?!0:-1===b.pathPattern.indexOf("*")?a===b.pathPattern:b.glob.test(a)};M.dispose=function(){M.mOverheardHandlers={}};$jscomp.global.Object.defineProperties(M.prototype,{parent:{configurable:!0,enumerable:!0,get:function(){return null}},stage:{configurable:!0,enumerable:!0,get:function(){return null}},path:{configurable:!0,enumerable:!0,get:function(){return null}}});M.mOverheardHandlers=
{};var Eb={NORMAL:"normal",ITALIC:"italic"},Ub={NORMAL:"400",BOLD:"700"},kc=null,Za=function(a,b,c,d,e,f,g){d=void 0===d?Eb.NORMAL:d;e=void 0===e?Ub.NORMAL:e;this.name="def";this.family=void 0===a?"sans-serif":a;this.size=void 0===c?14:c;this.color=void 0===b?0:b;this.alpha=1;this.style=d;this.weight=e;this.strokeThickness=void 0===f?0:f;this.strokeColor=void 0===g?16777215:g;this.strokeAlpha=1;this.dropShadow=!1;this.shadowColor=this.shadowDistanceY=this.shadowDistanceX=0;this.shadowAlpha=1;this.shadowBlur=
0};Za.prototype.clone=function(a,b,c,d,e,f,g){a=void 0===a?null:a;b=void 0===b?NaN:b;c=void 0===c?NaN:c;d=void 0===d?null:d;e=void 0===e?null:e;f=void 0===f?NaN:f;g=void 0===g?NaN:g;var h=new Za;h.family=null===a?this.family:a;h.size=isNaN(c)?this.size:c;h.color=isNaN(b)?this.color:b;h.style=null===d?this.style:d;h.weight=null===e?this.weight:e;h.strokeThickness=isNaN(f)?this.strokeThickness:f;h.strokeColor=isNaN(g)?this.strokeColor:g;h.dropShadow=this.dropShadow;h.shadowAlpha=this.shadowAlpha;h.shadowBlur=
this.shadowBlur;h.shadowColor=this.shadowColor;h.shadowDistanceX=this.shadowDistanceX;h.shadowDistanceY=this.shadowDistanceY;return h};$jscomp.global.Object.defineProperties(Za,{default:{configurable:!0,enumerable:!0,get:function(){null===kc&&(kc=new Za("sans-serif",0,14,Eb.NORMAL,Ub.NORMAL,0,0));return kc}}});var Tc={},Vb=null,$a=null,lc=!1,za=function(a){null===Vb&&("undefined"!==typeof OffscreenCanvas&&!0===lc?($a=new OffscreenCanvas(10,200),Vb=$a.getContext("2d")):($a=document.createElement("canvas"),
Vb=$a.getContext("2d"),$a.width=10,$a.height=200));a.size=24;this.mCanvas=$a;this.mCtx=Vb;this.mStyle=a;var b=Math.floor(.7766*$a.height);this.mCtx.clearRect(0,0,this.mCanvas.width,this.mCanvas.height);this.mCtx.font=a.weight+" "+a.size+'px "'+a.family+'"';this.mCtx.fillText("x",0,b,1);var c=this.mCtx.getImageData(0,0,1,this.mCanvas.height).data;a=this.__getBottom(c)-this.__getTop(c);for(var d=32;126>=d;d++)this.mCtx.fillText(String.fromCharCode(d),0,b,1);c=this.mCtx.getImageData(0,0,1,this.mCanvas.height).data;
d=this.__getTop(c);c=this.__getBottom(c);b-=d;d=c-d;this.baseline=b;this.bottom=d;this.ascent=b-a;this.descent=d-b;this.xHeight=a;this.capHeight=b};za.prototype.__getTop=function(a){for(var b=3,c=a.length;b<c;b+=4)if(0<a[b])return(b-3)/4;return a.length/4};za.prototype.__getBottom=function(a){for(var b=a.length-1;0<b;b-=4)if(0<a[b])return(b+1)/4;return 0};za.get=function(a){var b=Tc[a];null==b&&(b=new Za(a,0,24),b=new za(b),Tc[a]=b);return b};$jscomp.global.Object.defineProperties(za.prototype,{capHeightNormalized:{configurable:!0,
enumerable:!0,get:function(){return this.capHeight/this.mStyle.size}},xHeightNormalized:{configurable:!0,enumerable:!0,get:function(){return this.xHeight/this.mStyle.size}},ascentNormalized:{configurable:!0,enumerable:!0,get:function(){return this.ascent/this.mStyle.size}},descentNormalized:{configurable:!0,enumerable:!0,get:function(){return this.descent/this.mStyle.size}},baselineNormalized:{configurable:!0,enumerable:!0,get:function(){return this.baseline/this.mStyle.size}},bottomNormalized:{configurable:!0,
enumerable:!0,get:function(){return this.bottom/this.mStyle.size}}});$jscomp.global.Object.defineProperties(za,{useOffscreenCanvas:{configurable:!0,enumerable:!0,get:function(){return lc},set:function(a){lc=a}}});var Uc=function(){this.segments=[];this.bounds=new z;this.shadowBounds=this.strokeBounds=null;this.lineWidth=[]},Vc=function(a,b,c,d){this.text=a;this.style=b;this.lineIndex=c;this.bounds=d},mc=null,nc=null,ab=function(){throw Error("Singleton");};ab.measure=function(a,b,c){for(var d=[],
e=2;e<arguments.length;++e)d[e-2]=arguments[e];e=[];for(var f=/(~{([^}]+)}|^)(.+?(?=~{.+}|$|^))|(\n)/gm,g,h="def",l=0;null!==(g=f.exec(a));)g[4]&&l++,g[2]&&(h=g[2]),g[3]&&e.push({tag:h,text:g[3],style:d.filter(function(sa){return sa.name===h})[0],lineIndex:l});f=new Uc;var p=d.filter(function(sa){return"def"===sa.name})[0]||Za.default;d=p.size*b;g=new z;l=new z;var t=null,m=-1,v=0,u=0;p=za.get(p.family).baselineNormalized*p.size;for(var y=0;y<e.length;y++){var G=e[y],H=G.style,W=ab.__measure(G.text,
H);u=za.get(H.family).baselineNormalized*H.size;m!==G.lineIndex&&(v=f.lineWidth[G.lineIndex]=0);u=d*G.lineIndex+p-u;W.x=v+2;W.y=u+2;v+=W.width;m=G.lineIndex;G.bounds=W;f.lineWidth[G.lineIndex]+=W.width;g.union(W);l.union(W.clone().inflate(H.strokeThickness,H.strokeThickness));!0===H.dropShadow&&(u=W.clone(),u.inflate(H.shadowBlur,H.shadowBlur),u.x+=H.shadowDistanceX,u.y+=H.shadowDistanceY,t=t||u,t.union(u));f.segments.push(new Vc(G.text,H,G.lineIndex,G.bounds))}f.bounds=g;f.strokeBounds=l;f.shadowBounds=
t||new z;return f};ab.__measure=function(a,b,c){c=void 0===c?null:c;n.assert(null!=b,"Style cannot be null");c=c||new z;c.zero();var d=za.get(b.family);null===mc&&(mc="undefined"!==typeof OffscreenCanvas&&!0===za.useOffscreenCanvas?new OffscreenCanvas(0,0):document.createElement("canvas"),nc=mc.getContext("2d"));var e=0;b.style===Eb.ITALIC&&(e=d.bottomNormalized*b.size/4);nc.font=b.weight+" "+b.style+" "+b.size+'px "'+b.family+'"';a=Math.ceil(nc.measureText(a).width);return c.set(0,d.baselineNormalized*
b.size,a+2+e,d.bottomNormalized*b.size+2)};ab.measureBitmap=function(a,b,c,d){d=d||new z;for(var e=-1,f=0,g=0,h=0,l=0,p=0;p<a.length;p++){var t=a.charCodeAt(p);if(/(?:\r\n|\r|\n)/.test(a.charAt(p)))f=0,g+=b.lineHeight*c,e=-1;else{var m=b.chars[t];null!=m&&(0<=e&&m.kerning[e]&&(f+=m.kerning[e]),f+=m.xAdvance,l=Math.max(l,f+m.xOffset),h=Math.max(h,g+m.height+m.yOffset),e=t)}}return d.set(0,0,l,h)};var oc=function(){this.mActualTime=this.mTime=0;this.mDeltaTimeMs=1E3/60;this.mDeltaTime=1E3/60*.001;this.mScale=
1;this.mRenderOffset=this.mAlphaTime=0};$jscomp.global.Object.defineProperties(oc.prototype,{now:{configurable:!0,enumerable:!0,get:function(){return this.mTime}},dt:{configurable:!0,enumerable:!0,get:function(){return this.mDeltaTime*this.mScale}},alpha:{configurable:!0,enumerable:!0,get:function(){return this.mAlphaTime}},delta:{configurable:!0,enumerable:!0,get:function(){return this.mDeltaTime*this.mScale}},scale:{configurable:!0,enumerable:!0,get:function(){return this.mScale},set:function(a){n.assert(0<=
a,"Time scale must be >= 0.");this.mScale=a}}});var ja=function(){return M.call(this)||this};$jscomp.inherits(ja,M);ja.prototype.onPause=function(){};ja.prototype.onResume=function(){};ja.prototype.onUpdate=function(){};ja.prototype.onPostUpdate=function(){};ja.prototype.onRender=function(){};ja.prototype.onChildrenAdded=function(a){};ja.prototype.onChildrenRemoved=function(a){};ja.prototype.onChildrenChanged=function(a){};ja.prototype.onComponentAdded=function(a,b){};ja.prototype.onComponentRemoved=
function(a,b){};ja.prototype.dispose=function(){};var Wb={UNIVERSAL:"universal",LANDSCAPE:"landscape",PORTRAIT:"portrait"},Ha=function(a){a=void 0===a?null:a;var b=M.call(this)||this;b.mContainerElement=a;b.mViewportElement=null;b.mSize=new z;b.isTransparent=!0;b.backgroundColor=0;b.mChecksLeftSeconds=0;b.mOrientation=Wb.UNIVERSAL;b.mOrientationLock=!1;b.mRotation=0;b.mIsPrimary=!1;b.mReflect=!1;b.__initialize();return b};$jscomp.inherits(Ha,M);Ha.prototype.__initialize=function(){var a=this;this.mViewportElement=
document.createElement("div");this.mViewportElement.style.position="relative";this.mContainerElement.appendChild(this.mViewportElement);var b=this.mContainerElement.style;b.userSelect="none";b.touchAction="none";b.cursor="auto";b.WebkitTapHighlightColor="rgba(0, 0, 0, 0)";b=this.mContainerElement.getBoundingClientRect();this.mSize.set(b.left,b.top,b.width,b.height);this.mIsPrimary=this.isPrimary();this.__onResize();this.mBoundResize=function(c){return a.__onResize()};window.addEventListener("resize",
this.mBoundResize)};Ha.prototype.isPrimary=function(){var a=screen.msOrientation||(screen.orientation||screen.mozOrientation||{}).type;if("landscape-primary"===a||"portrait-primary"===a)return!0;if("landscape-secondary"===a||"portrait-secondary"===a)return!1;n.warn("The orientation API isn't supported in this browser");return!0};Ha.prototype.__update=function(){0>=this.mChecksLeftSeconds||(this.__onResize(),this.mChecksLeftSeconds-=r.time.delta)};Ha.prototype.refresh=function(){this.__onResize()};
Ha.prototype.__onResize=function(){var a=this.mViewportElement.style,b=this.mContainerElement.getBoundingClientRect(),c=b.width>b.height?Wb.LANDSCAPE:Wb.PORTRAIT,d=z.pool.get().copyFrom(b),e=this.mIsPrimary;this.mIsPrimary=this.isPrimary();this.mIsPrimary!==e&&(this.mReflect=!this.mReflect);this.mOrientationLock&&this.mOrientation!==c?(this.mRotation=this.mReflect?-1:1,a.transform=this.mReflect?"rotate(-90deg)":"rotate(90deg)",a.left=.5*(b.width-b.height)+"px",a.top=.5*(b.height-b.width)+"px",a.width=
b.height+"px",a.height=b.width+"px",d.width=b.height,d.height=b.width):(this.mRotation=0,this.mReflect=!1,a.transform="rotate(0deg)",a.left="0px",a.top="0px",a.width=b.width+"px",a.height=b.height+"px");!0!==this.mSize.equals(d)&&(this.mSize.copyFrom(d),this.post(O.RESIZE,d),this.mChecksLeftSeconds=1,z.pool.release(d))};Ha.prototype.dispose=function(){this.mViewportElement.remove();window.removeEventListener("resize",this.mBoundResize)};$jscomp.global.Object.defineProperties(Ha.prototype,{orientation:{configurable:!0,
enumerable:!0,get:function(){return this.mOrientation},set:function(a){this.mOrientation=a;this.__onResize()}},orientationLock:{configurable:!0,enumerable:!0,get:function(){return this.mOrientationLock},set:function(a){this.mOrientationLock=a;this.__onResize()}},size:{configurable:!0,enumerable:!0,get:function(){return this.mSize}},nativeElement:{configurable:!0,enumerable:!0,get:function(){return this.mViewportElement}},rotation:{configurable:!0,enumerable:!0,get:function(){return this.mRotation}},
isLandscape:{configurable:!0,enumerable:!0,get:function(){return this.size.width>=this.size.height}},isPortrait:{configurable:!0,enumerable:!0,get:function(){return!this.isLandscape}}});var jd=0,Y=function(){var a=M.call(this,!0)||this;a.mId=++jd;a.mGameObject=null;a.mAdded=!1;a.enabled=!0;return a};$jscomp.inherits(Y,M);Y.prototype.onAdded=function(a){};Y.prototype.onRemoved=function(a){};Y.prototype.onUpdate=function(){};Y.prototype.onRender=function(){};Y.prototype.removeFromParent=function(){null!==
this.mGameObject&&this.mGameObject.removeComponent(this)};$jscomp.global.Object.defineProperties(Y.prototype,{gameObject:{configurable:!0,enumerable:!0,get:function(){return this.mGameObject}},parent:{configurable:!0,enumerable:!0,get:function(){return this.mGameObject}},stage:{configurable:!0,enumerable:!0,get:function(){return null===this.mGameObject?null:this.mGameObject.stage}},path:{configurable:!0,enumerable:!0,get:function(){return null!==this.mGameObject?this.mGameObject.path+"#"+this.constructor.name:
this.constructor.name}}});var Pa={AUTO:"auto",NORMAL:"normal",ADD:"add",MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"colorDodge",COLOR_BURN:"colorBurn",HARD_LIGHT:"hardLight",SOFT_LIGHT:"softLight",DIFFERENCE:"difference",EXCLUSION:"exclusion",HUE:"hue",SATURATE:"saturate",COLOR:"color",LUMINOSITY:"luminosity",MASK:"mask",MASK_INV:"maskInv"},kd={auto:"auto",normal:"source-over",add:"lighter",multiply:"multiply",screen:"screen",overlay:"overlay",
darken:"darken",lighten:"lighten",colorDodge:"color-dodge",colorBurn:"color-burn",hardLight:"hard-light",softLight:"soft-light",difference:"difference",exclusion:"exclusion",due:"hue",saturate:"saturate",color:"color",luminosity:"luminosity",mask:"source-in",maskInv:"source-out"},ld=0,ba=function(a,b,c,d,e,f){b=void 0===b?null:b;c=void 0===c?null:c;d=void 0===d?1:d;e=void 0===e?null:e;f=void 0===f?null:f;this.mId=++ld;this.mNative=a;this.mValid=!1;this.mRegion=new z;this.mUntrimmedRegion=new z;this.mRenderHeight=
this.mRenderWidth=this.mDisplayHeight=this.mDisplayWidth=this.mNativeHeight=this.mNativeWidth=0;this.mScale=d;this.mRegistrationPoint=e;this.mSlice9borders=f;this.set(a,b,c,d)};ba.prototype.set=function(a,b,c,d){b=void 0===b?null:b;c=void 0===c?null:c;d=void 0===d?1:d;n.assert(null!=a,"nativeElement cannot be null");n.assert(!isNaN(d),"scale cannot be NaN");this.mScale=d;this.mNative=a;this.mNativeWidth=a.naturalWidth||a.videoWidth||a.width;this.mNativeHeight=a.naturalHeight||a.videoHeight||a.height;
this.mRegion=b||this.mRegion.set(0,0,this.mNativeWidth,this.mNativeHeight);this.mUntrimmedRegion=c||this.mUntrimmedRegion.set(0,0,this.mRegion.width,this.mRegion.height);this.mDisplayWidth=Math.ceil(this.mUntrimmedRegion.width*this.mScale);this.mDisplayHeight=Math.ceil(this.mUntrimmedRegion.height*this.mScale);this.mRenderWidth=Math.ceil(this.mRegion.width*this.mScale);this.mRenderHeight=Math.ceil(this.mRegion.height*this.mScale);this.mValid=null!=a&&0<this.mDisplayWidth&&0<this.mDisplayHeight};ba.getScaleFactorFromName=
function(a){var b=a.indexOf("@");if(-1===b)return 1;var c=a.indexOf("x",b);return parseFloat(a.substring(b+1,c))};ba.removeScaleFactorFromName=function(a){var b=a.indexOf("@");if(-1===b)return a;var c=a.indexOf("x",b);return a.substring(0,b)+a.substring(c+1)};ba.fromBase64String=function(a){var b=new Image;b.src=a;return new ba(b)};ba.fromCanvasAsImage=function(a,b,c){b=void 0===b?"image/png":b;c=void 0===c?1:c;var d=new Image;d.src=a.toDataURL(b,c);return new ba(d)};ba.fromCanvas=function(a){return r.driver.getTextureFromCanvas(a)};
$jscomp.global.Object.defineProperties(ba.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.mDisplayWidth}},height:{configurable:!0,enumerable:!0,get:function(){return this.mDisplayHeight}},scale:{configurable:!0,enumerable:!0,get:function(){return this.mScale}},region:{configurable:!0,enumerable:!0,get:function(){return this.mRegion}},untrimmedRegion:{configurable:!0,enumerable:!0,get:function(){return this.mUntrimmedRegion}},nativeWidth:{configurable:!0,enumerable:!0,get:function(){return this.mNativeWidth}},
nativeHeight:{configurable:!0,enumerable:!0,get:function(){return this.mNativeHeight}},displayWidth:{configurable:!0,enumerable:!0,get:function(){return this.mDisplayWidth}},displayHeight:{configurable:!0,enumerable:!0,get:function(){return this.mDisplayHeight}},renderWidth:{configurable:!0,enumerable:!0,get:function(){return this.mRenderWidth}},renderHeight:{configurable:!0,enumerable:!0,get:function(){return this.mRenderHeight}},isValid:{configurable:!0,enumerable:!0,get:function(){return this.mValid}},
registrationPoint:{configurable:!0,enumerable:!0,get:function(){return this.mRegistrationPoint}},slice9borders:{configurable:!0,enumerable:!0,get:function(){return this.mSlice9borders}},native:{configurable:!0,enumerable:!0,get:function(){return this.mNative}},id:{configurable:!0,enumerable:!0,get:function(){return this.mId}}});var sb=function(a,b){this.mWidth=Math.ceil(a);this.mHeight=Math.ceil(b)};sb.prototype.resize=function(a,b){this.mWidth=a;this.mHeight=b};sb.prototype.clear=function(){};$jscomp.global.Object.defineProperties(sb.prototype,
{width:{configurable:!0,enumerable:!0,get:function(){return this.mWidth},set:function(a){this.mWidth=a}},height:{configurable:!0,enumerable:!0,get:function(){return this.mHeight},set:function(a){this.mHeight=a}}});var bb=function(a,b){var c=sb.call(this,a,b)||this;c.mCanvas=document.createElement("canvas");c.mCtx=c.mCanvas.getContext("2d");c.resize(a,b);return c};$jscomp.inherits(bb,sb);bb.prototype.resize=function(a,b){this.mCanvas.width=Math.ceil(a);this.mCanvas.height=Math.ceil(b)};bb.prototype.clear=
function(){this.mCtx.setTransform(1,0,0,1,0,0);this.mCtx.clearRect(0,0,this.mCanvas.width,this.mCanvas.height)};$jscomp.global.Object.defineProperties(bb.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.mCanvas.width},set:function(a){this.mCanvas.width=a}},height:{configurable:!0,enumerable:!0,get:function(){return this.mCanvas.height},set:function(a){this.mCanvas.height=a}},native:{configurable:!0,enumerable:!0,get:function(){return this.mCanvas}},context:{configurable:!0,
enumerable:!0,get:function(){return this.mCtx}}});var K=function(){this.parent=this.gameObject=null;this.endPassRequired=this.skipSelf=this.skipChildren=!1;this.endPassRequiredAt=-1;this.alpha=1;this.blendMode=Pa.NORMAL;this.color=null};K.prototype.preRender=function(a,b){this.endPassRequired=null!==this.gameObject.mClipRect&&!1===this.gameObject.mClipRect.isEmpty;this.skipSelf=this.skipChildren=!(0<this.gameObject.mAlpha&&!0===this.gameObject.mVisible)};K.prototype.begin=function(a,b){this.alpha=
this.gameObject.mAlpha*this.parent.alpha;this.color=null===this.gameObject.mColor?this.parent.color:this.gameObject.mColor;this.blendMode=this.gameObject.mBlendMode===Pa.AUTO?this.parent.blendMode:this.gameObject.mBlendMode};K.prototype.upload=function(a,b){b=this.gameObject;var c=b.worldTransformation;a.setSnapToPixels(b.snapToPixels);a.setGlobalAlpha(this.alpha);a.setGlobalBlendMode(this.blendMode);a.setTransform(c);!0===this.endPassRequired&&a.beginClip(b.mClipRect,b.mPivotX,b.mPivotY)};K.prototype.render=
function(a,b){};K.prototype.end=function(a,b){a.endClip();this.endPassRequiredAt=-1;this.endPassRequired=!1};K.getColoredTexture=function(a,b){if(16777215===b||null===b)return a;var c=b.toString();if(K.__colorCache.has(a.id,c))return K.__colorCache.get(a.id,c);var d=a.region,e=d.width,f=d.height,g=new bb(e,f),h=g.context;h.fillStyle=x.hexColorToString(b);h.fillRect(0,0,e,f);h.globalCompositeOperation="multiply";h.drawImage(a.native,d.x,d.y,d.width,d.height,0,0,d.width,d.height);h.globalCompositeOperation=
"destination-atop";h.drawImage(a.native,d.x,d.y,d.width,d.height,0,0,d.width,d.height);b=new ba(g.native,null,a.untrimmedRegion.clone(),a.scale);K.__colorCache.set(a.id,c,b);return b};K.__colorCache=new F;K.__dirty=!0;K.skipUnchangedFrames=!1;var Ba=function(){var a=Y.call(this)||this;a.mChanged=!0;a.mCenter=new q;a.mMin=new q;a.mMax=new q;return a};$jscomp.inherits(Ba,Y);Ba.prototype.containsPoint=function(a){n.error("Abstract method.");return!1};Ba.prototype.refresh=function(a,b){};var Qa=function(){var a=
Y.call(this)||this;a.touchable=!0;a.mPointerInDispatched=!1;return a};$jscomp.inherits(Qa,Y);var md=0,B=function(){var a=M.call(this,!0)||this;a.mId=++md;a.mName=null;a.mComponents=[];a.mChildren=[];a.mX=0;a.mY=0;a.mScaleX=1;a.mScaleY=1;a.mPivotX=0;a.mPivotY=0;a.mSkewX=0;a.mSkewY=0;a.mAnchorX=null;a.mAnchorY=null;a.mPivotOffsetX=0;a.mPivotOffsetY=0;a.mRotation=0;a.mBoundsCache=new z;a.mLocalTransform=new D;a.mWorldTransform=new D;a.mWorldTransformInverted=new D;a.mDirty=16777215;a.mParent=null;a.mTag=
null;a.mAdded=!1;a.mNumChildrenRemoved=0;a.mNumComponentsRemoved=0;a.mDirtyFrameNum=0;a.mSuspendDirty=!1;a.mCollidersCache=[];a.mChildOrComponentBeenAdded=!1;a.mChildrenClone=null;a.mComponentClone=null;return a};$jscomp.inherits(B,M);B.prototype.make=function(a){this.mSuspendDirty=!0;for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.mSuspendDirty=!1;this.setTransformDirty();return this};B.prototype.checkStatic=function(a){if(!1===(void 0===a?!0:a))return this.mDirtyFrameNum<r.engine.frameNum;
var b=!1;B.forEach(this,function(c){if(c.mDirtyFrameNum>=r.engine.frameNum)return b=!0});return!b};B.prototype.onAdded=function(){};B.prototype.onRemoved=function(){};B.prototype.add=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];d instanceof B?this.addChild(d):this.addComponent(d)}return this};B.prototype.addChild=function(a){return this.addChildAt(a,this.mChildren.length)};B.prototype.addChildAt=function(a,b){b=void 0===b?0:b;n.assert(a instanceof
B,"Type error.");var c=this.mChildren.length;if(0>b||b>c)throw Error("Child index is out of bounds.");if(a.mParent===this)return this.setChildIndex(a,b);this.mChildren.splice(b,0,a);a.removeFromParent();a.__setParent(this);r.engine.onChildrenAdded(a,this);this.mChildOrComponentBeenAdded=!0;return a};B.prototype.__setParent=function(a){for(var b=a;null!==b&&b!==this;)b=b.mParent;if(b===this)throw Error("Object cannot be a child to itself.");this.mParent=a;this.setTransformDirty();return!0};B.prototype.setChildIndex=
function(a,b){var c=this.mChildren.indexOf(a);if(0>c)throw Error("Given child element was not found in children list.");if(c===b)return a;this.mChildren.splice(c,1);this.mChildren.splice(b,0,a);if(null!==this.stage)r.engine.onChildrenChanged(a);this.setTransformDirty();return a};B.prototype.removeFromParent=function(){null!==this.mParent&&this.mParent.removeChild(this);this.setTransformDirty();return this};B.prototype.removeChild=function(a){a=this.mChildren.indexOf(a);return 0>a?null:this.removeChildAt(a)};
B.prototype.getChildByName=function(a){for(var b=0;b<this.mChildren.length;b++)if(this.mChildren[b].name===a)return this.mChildren[b];return null};B.prototype.removeChildAt=function(a){a=this.mChildren.splice(a,1)[0];if(null==a)return null;var b=null!==this.stage;a.__setParent(null);if(!0===b)r.engine.onChildrenRemoved(a);this.setTransformDirty();this.mNumChildrenRemoved++;return a};B.prototype.removeAllChildren=function(){for(;0<this.mChildren.length;)this.removeChildAt(0);return this};B.prototype.getChildAt=
function(a){return this.mChildren[a]};B.prototype.addComponent=function(a){return this.addComponentAt(a,this.mComponents.length)};B.prototype.addComponentAt=function(a,b){b=void 0===b?0:b;n.assert(a instanceof Y,"Type error.");if(a.gameObject)throw Error("Component cannot be added to two game objects at the same time.");var c=this.mComponents.length;if(0>b||b>c)throw Error("Component index is out of bounds.");this.mComponents.splice(b,0,a);a.mGameObject=this;a instanceof Ba&&this.mCollidersCache.push(a);
if(null!==this.stage||r.stage===this)r.engine.onComponentAdded(this,a);this.mChildOrComponentBeenAdded=!0;return a};B.prototype.removeComponentAt=function(a){a=this.mComponents.splice(a,1)[0];if(null==a)return null;a.mGameObject=null;if(a instanceof Ba){var b=this.mCollidersCache.indexOf(a);-1<b&&this.mCollidersCache.splice(b,1)}if(null!==this.stage||r.stage===this)r.engine.onComponentRemoved(this,a);this.mNumComponentsRemoved++;return a};B.prototype.removeComponent=function(a){if(null==a)return null;
n.assert(a instanceof Y,"Type error.");a=this.mComponents.indexOf(a);return-1<a?this.removeComponentAt(a):null};B.prototype.removeAllComponents=function(){for(;0<this.mComponents.length;)this.removeComponentAt(0);return this};B.prototype.getComponent=function(a){for(var b=0;b<this.mComponents.length;b++){var c=this.mComponents[b];if(c instanceof a)return c}return null};B.prototype.getComponentAt=function(a){return 0<=a&&a<this.mComponents.length?this.mComponents[a]:null};B.prototype.__update=function(){this.onUpdate();
if(!1!==this.mChildOrComponentBeenAdded){if(0<this.mComponents.length){this.mComponentClone=this.mComponents.slice();for(var a=0;a<this.mComponentClone.length&&!1!==this.mAdded;a++){var b=this.mComponentClone[a];if(!1!==b.mAdded&&!1!==b.enabled)b.onUpdate()}}if(0<this.mChildren.length)for(this.mChildrenClone=this.mChildren.slice(),a=0;a<this.mChildrenClone.length;a++)b=this.mChildrenClone[a],!0===b.mAdded&&b.__update()}};B.prototype.onUpdate=function(){};B.prototype.onGetLocalBounds=function(a){a=
a||new z;return a.set(0,0,0,0)};B.prototype.getBounds=function(a,b,c){a=void 0===a?null:a;b=void 0===b?!0:b;c=c||new z;this.onGetLocalBounds(c);null==a&&(a=this.mParent);if(a!=this)if(a==this.mParent)if(!1===b){var d=D.pool.get();d.copyFrom(this.localTransformation);d.transformRect(c,c);D.pool.release(d)}else if(!0===b&&this.mDirty&64)d=D.pool.get(),d.copyFrom(this.localTransformation),d.transformRect(c,c),D.pool.release(d);else return c.copyFrom(this.mBoundsCache),c;else d=D.pool.get(),d.copyFrom(this.worldTransformation),
d.prepend(a.worldTransformationInverted),d.transformRect(c,c),D.pool.release(d);if(!0===b){d=z.pool.get();for(var e=0;e<this.mChildren.length;e++)d.zero(),this.mChildren[e].getBounds(a,b,d),c.union(d);z.pool.release(d);a==this.mParent&&this.mDirty&64&&(this.mBoundsCache.copyFrom(c),this.mDirty^=64)}return c};B.prototype.getStageBounds=function(a){a=a||new z;this.onGetLocalBounds(a);var b=D.pool.get();b.copyFrom(this.worldTransformation);b.prepend(this.stage.worldTransformationInverted);b.transformRect(a,
a);D.pool.release(b);return a};B.prototype.hitTest=function(a){var b=this.getComponent(Qa);b=null!==b&&b.touchable;var c=this.onHitTestMask(a);if(!1===b||!1===c)return null;for(c=this.mChildren.length-1;0<=c;--c)if(b=this.mChildren[c].hitTest(a),null!==b)return b;return!0===this.onHitTest(a)?this:null};B.prototype.onHitTest=function(a){var b=!1,c=q.pool.get();this.worldTransformationInverted.transformVector(a,c);if(0<this.mCollidersCache.length)for(a=0;a<this.mCollidersCache.length;a++){if(b=this.mCollidersCache[a].containsPoint(c),
!0===b)return!0}else b=this.localBounds.containsXY(c.x,c.y);q.pool.release(c);return b};B.prototype.onHitTestMask=function(a){return!0};B.prototype.setTransform=function(a,b,c,d,e,f,g,h){this.mX=void 0===a?0:a;this.mY=void 0===b?0:b;this.mRotation=void 0===c?0:c;this.mScaleX=void 0===d?1:d;this.mScaleY=void 0===e?1:e;this.mAnchorX=void 0===f?0:f;this.mAnchorY=void 0===g?0:g;this.setTransformDirty();return this};B.prototype.relativeTo=function(a,b){b=(void 0===b?null:b)||new q;b.set(this.x,this.y);
if(null==this.parent||null==a)return b;this.parent.localToGlobal(b,b);a.globalToLocal(b,b);return b};B.prototype.localToGlobal=function(a,b){return this.worldTransformation.transformVector(a,void 0===b?null:b)};B.prototype.globalToLocal=function(a,b){return this.worldTransformationInverted.transformVector(a,void 0===b?null:b)};B.prototype.alignAnchor=function(a,b){a=void 0===a?.5:a;b=void 0===b?.5:b;n.isNumber(a,b);this.mAnchorX=a;this.anchorY=b;return this};B.prototype.alignPivot=function(a,b){return this.alignPivotOffset(void 0===
a?.5:a,void 0===b?.5:b)};B.prototype.alignPivotOffset=function(a,b,c){a=void 0===a?.5:a;b=void 0===b?.5:b;c=void 0===c?!0:c;n.isNumber(a,b);this.getBounds(this,c,z.__cache.zero());this.mPivotOffsetX=z.__cache.width*a+z.__cache.x;this.mPivotOffsetY=z.__cache.height*b+z.__cache.y;this.__updatePivots(this);this.setTransformDirty();return this};B.prototype.spawn=function(a,b){function c(e){e.done||("function"===typeof e.value?e.value(function(f){return c(d.next(f))}):c(d.next(e.value)))}b=void 0===b?
null:b;var d=a.apply(null==b?this:b);c(d.next());return d};B.prototype.wait=function(a){var b=this;a=void 0===a?1:a;return function(c){return setTimeout(c.bind(b,1E3*a),1E3*a)}};B.prototype.waitMessage=function(a){var b=this;return function(c){return b.once(a,c.bind(b))}};B.prototype.setDirty=function(a,b){void 0===b||b?B.forEach(this,function(c){c.mDirty|=a;c.mDirtyFrameNum=r.engine.frameNum}):(this.mDirty|=a,this.mDirtyFrameNum=r.engine.frameNum);K.__dirty=!0};B.prototype.__updatePivots=function(a){a.getBounds(a,
!0,z.__cache.zero());a.mPivotX=null===a.mAnchorX?a.mPivotOffsetX:a.mPivotOffsetX+z.__cache.width*a.mAnchorX+z.__cache.x;a.mPivotY=null===a.mAnchorY?a.mPivotOffsetY:a.mPivotOffsetY+z.__cache.height*a.mAnchorY+z.__cache.y};B.prototype.setParentDirty=function(a){for(var b=this;null!=b;)b.mDirty|=a,b.mDirtyFrameNum=r.engine.frameNum,b=b.mParent;K.__dirty=!0};B.prototype.setTransformDirty=function(){!0!==this.mSuspendDirty&&(this.setDirty(65,!1),this.setDirty(78,!0),this.setParentDirty(96))};B.prototype.setRenderDirty=
function(){!0!==this.mSuspendDirty&&this.setDirty(8,!0)};B.getBoundsWithPoints=function(a,b,c){c=c||new z;for(var d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=Number.MAX_VALUE,g=-Number.MAX_VALUE,h=new q,l=0;l<a.length;l+=2)b.transformXY(a[l],a[l+1],h),d>h.x&&(d=h.x),e<h.x&&(e=h.x),f>h.y&&(f=h.y),g<h.y&&(g=h.y);c.set(d,f,e-d,g-f);return c};B.intersects=function(a,b){var c=new q;a.worldTransformationInverted.transformVector(b,c);return a.localBounds.containsXY(c.x,c.y)};B.intersectsAt=function(a,b,c){c=
c||new q;q.__cache.set();a.worldTransformationInverted.transformVector(b,q.__cache);if(!1===a.localBounds.containsXY(q.__cache.x,q.__cache.y))return!1;c.x=q.__cache.x-a.localBounds.x;c.y=q.__cache.y-a.localBounds.y;return!0};B.intersectsWith=function(a,b){for(var c=null,d=a.numChildren-1;0<=d;--d){var e=a.mChildren[d];c=B.intersectsWith(e,b);if(null!=c)return c;if(B.intersects(e,b)){c=e;break}}return null===c&&B.intersects(a,b)?a:null};B.findWithTag=function(a){return!1===r.engine.mTagCache.hasOwnProperty(a)?
null:r.engine.mTagCache[a]};B.findComponents=function(a,b){n.assert(null!==a,"gameObject cannot be null.");n.assert(null!==b,"type cannot be null.");var c=[],d=function(e,f){for(var g=0;g<e.mComponents.length;g++){var h=e.mComponents[g];h instanceof f&&c.push(h)}for(g=0;g<e.mChildren.length;g++)d(e.mChildren[g],f)};d(a,b);return c};B.forEach=function(a,b){null==a&&(a=r.stage);var c=b(a);if(!0!==c)for(var d=0;d<a.mChildren.length&&(c=B.forEach(a.mChildren[d],b),!0!==c);d++);};B.find=function(a,b){null==
b&&(b=r.stage);if(b.name===a)return b;for(var c=0;c<b.numChildren;c++){var d=B.find(a,b.getChildAt(c));if(null!=d)return d}return null};B.findById=function(a,b){null==b&&(b=r.stage);if(b.id===a)return b;for(var c=0;c<b.numChildren;c++){var d=B.findById(a,b.getChildAt(c));if(null!==d)return d}return null};$jscomp.global.Object.defineProperties(B.prototype,{id:{configurable:!0,enumerable:!0,get:function(){return this.mId}},numComponents:{configurable:!0,enumerable:!0,get:function(){return this.mComponents.length}},
localTransformation:{configurable:!0,enumerable:!0,get:function(){if(this.mDirty&1){this.mDirty^=1;if(0===this.mSkewX&&0===this.mSkewY){if(0===this.mRotation)return this.mLocalTransform.set(this.mScaleX,0,0,this.mScaleY,this.mX-this.mPivotX*this.mScaleX,this.mY-this.mPivotY*this.mScaleY);var a=Math.cos(this.mRotation),b=Math.sin(this.mRotation),c=this.mScaleX*a,d=this.mScaleX*b;b=this.mScaleY*-b;a*=this.mScaleY;return this.mLocalTransform.set(c,d,b,a,this.mX-this.mPivotX*c-this.mPivotY*b,this.mY-
this.mPivotX*d-this.mPivotY*a)}this.mLocalTransform.identity();this.mLocalTransform.scale(this.mScaleX,this.mScaleY);this.mLocalTransform.skew(this.mSkewX,this.mSkewY);this.mLocalTransform.rotate(this.mRotation);c=this.mLocalTransform.data[0];d=this.mLocalTransform.data[1];a=this.mLocalTransform.data[2];b=this.mLocalTransform.data[3];var e=this.mX,f=this.mY;if(0!==this.mPivotX||0!==this.mPivotY)e=this.mX-c*this.mPivotX-a*this.mPivotY,f=this.mY-d*this.mPivotX-b*this.mPivotY;this.mLocalTransform.data[4]=
e;this.mLocalTransform.data[5]=f}return this.mLocalTransform},set:function(a){var b=Math.PI/4,c=a.data[0],d=a.data[1],e=a.data[2],f=a.data[3],g=a.data[4];a=a.data[5];this.mPivotOffsetX=this.mPivotOffsetY=0;this.mAnchorX=null;this.mX=g;this.mY=a;g=Math.atan(-e/f);a=Math.atan(d/c);g!=g&&(g=0);a!=a&&(a=0);this.mScaleY=g>-b&&g<b?f/Math.cos(g):-e/Math.sin(g);this.mScaleX=a>-b&&a<b?c/Math.cos(a):d/Math.sin(a);w.equals(g,a)?(this.mRotation=g,this.mSkewX=this.mSkewY=0):(this.mRotation=0,this.mSkewX=g,this.mSkewY=
a);this.setTransformDirty()}},worldTransformation:{configurable:!0,enumerable:!0,get:function(){this.mDirty&32&&(null!==this.mAnchorX||null!==this.mAnchorY)&&(this.mDirty^=32,this.__updatePivots(this),this.setDirty(79,!0));this.mDirty&2&&(this.mDirty^=2,null!==this.mParent?this.mParent.worldTransformation.copyTo(this.mWorldTransform).append(this.localTransformation):this.localTransformation.copyTo(this.mWorldTransform));return this.mWorldTransform}},worldTransformationInverted:{configurable:!0,enumerable:!0,
get:function(){this.mDirty&4&&(this.mDirty^=4,this.worldTransformation.copyTo(this.mWorldTransformInverted).invert());return this.mWorldTransformInverted}},localBounds:{configurable:!0,enumerable:!0,get:function(){return this.getBounds(this,!1)}},bounds:{configurable:!0,enumerable:!0,get:function(){return this.getBounds(this.mParent,!0)}},numChildren:{configurable:!0,enumerable:!0,get:function(){return this.mChildren.length}},name:{configurable:!0,enumerable:!0,get:function(){return this.mName},set:function(a){this.mName=
a}},x:{configurable:!0,enumerable:!0,get:function(){return this.mX},set:function(a){this.mX!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mX=a,this.setTransformDirty())}},y:{configurable:!0,enumerable:!0,get:function(){return this.mY},set:function(a){this.mY!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mY=a,this.setTransformDirty())}},xy:{configurable:!0,enumerable:!0,get:function(){return new q(this.mX,this.mY)},set:function(a){if(this.mX!==a.x||this.mY!==a.y)this.mX=a.x,this.mY=a.y,
this.setTransformDirty()}},pivotOffsetX:{configurable:!0,enumerable:!0,get:function(){return this.mPivotOffsetX},set:function(a){this.mPivotOffsetX!==a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mPivotOffsetX=a,this.__updatePivots(this),this.setTransformDirty())}},pivotOffsetY:{configurable:!0,enumerable:!0,get:function(){return this.mPivotOffsetY},set:function(a){this.mPivotOffsetY!==a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mPivotOffsetY=a,this.__updatePivots(this),this.setTransformDirty())}},
anchorX:{configurable:!0,enumerable:!0,set:function(a){this.mAnchorX!==a&&(n.assert(null!==a&&!isNaN(a),"Value cannot be NaN"),this.mAnchorX=a,this.setTransformDirty())},get:function(){return this.mAnchorX}},anchorY:{configurable:!0,enumerable:!0,set:function(a){this.mAnchorY!==a&&(n.assert(null!==a&&!isNaN(a),"Value cannot be NaN"),this.mAnchorY=a,this.setTransformDirty())},get:function(){return this.mAnchorY}},pivotX:{configurable:!0,enumerable:!0,get:function(){return this.mPivotX}},pivotY:{configurable:!0,
enumerable:!0,get:function(){return this.mPivotY}},scaleX:{configurable:!0,enumerable:!0,get:function(){return this.mScaleX},set:function(a){this.mScaleX!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mScaleX=a,this.setTransformDirty())}},scaleY:{configurable:!0,enumerable:!0,get:function(){return this.mScaleY},set:function(a){this.mScaleY!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mScaleY=a,this.setTransformDirty())}},scale:{configurable:!0,enumerable:!0,get:function(){return this.scaleX},
set:function(a){this.mScaleX!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mScaleX=this.mScaleY=a,this.setTransformDirty())}},skewX:{configurable:!0,enumerable:!0,get:function(){return this.mSkewX},set:function(a){this.mSkewX!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mSkewX=a,this.setTransformDirty())}},skewY:{configurable:!0,enumerable:!0,get:function(){return this.mSkewY},set:function(a){this.mSkewY!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mSkewY=a,this.setTransformDirty())}},
rotation:{configurable:!0,enumerable:!0,get:function(){return this.mRotation},set:function(a){this.mRotation!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mRotation=a,this.setTransformDirty())}},parent:{configurable:!0,enumerable:!0,get:function(){return this.mParent}},root:{configurable:!0,enumerable:!0,get:function(){for(var a=this;null!=a.mParent;)a=a.mParent;return a}},stage:{configurable:!0,enumerable:!0,get:function(){return!0===this.mAdded?r.stage:null}},width:{configurable:!0,enumerable:!0,
get:function(){return this.getBounds(this.mParent).width},set:function(a){n.assert(!isNaN(a),"Value cannot be NaN");this.scaleX=1;var b=this.width;0!=b&&(this.scaleX=a/b)}},height:{configurable:!0,enumerable:!0,get:function(){return this.getBounds(this.mParent).height},set:function(a){n.assert(!isNaN(a),"Value cannot be NaN");this.scaleY=1;var b=this.height;0!=b&&(this.scaleY=a/b)}},localWidth:{configurable:!0,enumerable:!0,get:function(){return this.getBounds(this,!1).width}},localHeight:{configurable:!0,
enumerable:!0,get:function(){return this.getBounds(this,!1).height}},path:{configurable:!0,enumerable:!0,get:function(){return null!==this.mParent?this.mParent.path+"/"+this.mName:this.mName}},tag:{configurable:!0,enumerable:!0,get:function(){return this.mTag},set:function(a){if(this.mTag!==a){var b=this.mTag;this.mTag=a;if(this.mAdded)r.engine.onTagUpdated(this,b,a)}}},touchable:{configurable:!0,enumerable:!0,set:function(a){var b=this.getComponent(Qa);!0===a?null===b?this.addComponent(new Qa):b.touchable=
!0:null!==b&&this.removeComponent(b)},get:function(){var a=this.getComponent(Qa);return null!==a&&!0===a.touchable}}});var cb={NORMAL:"normal",NO_SCALE:"noScale",FIXED:"fixed",LETTERBOX:"letterBox",COVER:"cover"},Wc=function(a){this.keyCode=a.keyCode;this.code=a.code;this.char=a.key;this.shiftKey=a.shiftKey;this.altKey=a.altKey;this.ctrlKey=a.ctrlKey},Xb=function(){this.mPixelRatioCache=null};Xb.prototype.getDevicePixelRatio=function(){return void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&
window.screen.systemXDPI>window.screen.logicalXDPI?window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio?window.devicePixelRatio:1};$jscomp.global.Object.defineProperties(Xb.prototype,{os:{configurable:!0,enumerable:!0,get:function(){var a=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(a)?"Windows Phone":/android/i.test(a)?"Android":/iPad|iPhone|iPod/.test(a)?"iOS":"unknown"}},isTouch:{configurable:!0,enumerable:!0,get:function(){return"ontouchstart"in
window||0<navigator.maxTouchPoints?!0:!1}},isMobile:{configurable:!0,enumerable:!0,get:function(){return/Mobi/.test(navigator.userAgent)}},pixelRatio:{configurable:!0,enumerable:!0,get:function(){null===this.mPixelRatioCache&&(this.mPixelRatioCache=this.getDevicePixelRatio());return this.mPixelRatioCache}},webAudioSupported:{configurable:!0,enumerable:!0,get:function(){return null!=window.AudioContext||null!=window.webkitAudioContext}}});var da=function(){var a=B.call(this)||this;a.mAlpha=1;a.mBlendMode=
Pa.AUTO;a.mVisible=!0;a.mClipRect=null;a.mRenderer=a.getRenderer();a.mCacheAsBitmap=!1;a.mCacheAsBitmapDynamic=!0;a.mCacheAsBitmapDirty=!0;a.mCacheAsBitmapMatrixCache=null;a.mCache=null;a.mCacheBounds=null;a.mColor=null;a.mSnapToPixels=!1;return a};$jscomp.inherits(da,B);da.prototype.onRender=function(){};da.prototype.getRenderer=function(){return r.driver.getRenderer("DisplayObject",this)};da.prototype.onGetLocalBounds=function(a){a=a||new z;return null!==this.mClipRect?(this.mClipRect.copyTo(a),
a):a.set(0,0,0,0)};da.prototype.getBounds=function(a,b,c){b=void 0===b?!0:b;c=c||new z;var d=this.onGetLocalBounds();null==a&&(a=this.mParent);if(a!=this)if(a==this.mParent)if(!1===b||null!==this.mClipRect){var e=D.pool.get();e.copyFrom(this.localTransformation);e.transformRect(d,c);D.pool.release(e)}else if(!0===b&&this.mDirty&64)e=D.pool.get(),e.copyFrom(this.localTransformation),e.transformRect(d,c),D.pool.release(e);else return c.copyFrom(this.mBoundsCache),c;else e=D.pool.get(),e.copyFrom(this.worldTransformation),
e.prepend(a.worldTransformationInverted),e.transformRect(d,c),D.pool.release(e);a!==this?null!==this.mClipRect&&(c.x+=this.mPivotX,c.y+=this.mPivotY):d.copyTo(c);if(null!==this.mClipRect)return c;if(!0===b){d=z.pool.get();for(e=0;e<this.mChildren.length;e++)d.zero(),this.mChildren[e].getBounds(a,b,d),c.union(d);z.pool.release(d);a==this.mParent&&this.mDirty&64&&(this.mBoundsCache.copyFrom(c),this.mDirty^=64)}return c};da.prototype.hitTest=function(a){var b=this.getComponent(Qa);b=null!==b&&b.touchable;
var c=this.onHitTestMask(a);if(!1===this.visible||!1===b||!1===c)return null;for(c=this.mChildren.length-1;0<=c;--c)if(b=this.mChildren[c].hitTest(a),null!==b)return b;return!0===this.onHitTest(a)?this:null};da.prototype.onHitTestMask=function(a){if(null===this.mClipRect)return!0;var b=q.pool.get();this.worldTransformationInverted.transformVector(a,b);a=this.mClipRect.containsXY(b.x-this.mPivotX,b.y-this.mPivotY);q.pool.release(b);return a};$jscomp.global.Object.defineProperties(da.prototype,{color:{configurable:!0,
enumerable:!0,get:function(){return this.mColor},set:function(a){this.mColor!==a&&(this.mColor=a,this.setRenderDirty())}},cacheAsBitmap:{configurable:!0,enumerable:!0,get:function(){return this.mCacheAsBitmap},set:function(a){a!==this.mCacheAsBitmap&&(this.mCacheAsBitmap=a,!1===a&&(this.mCache=null,this.mCacheAsBitmapDirty=!0,this.mCacheBounds=this.mCacheAsBitmapMatrixCache=null,this.setTransformDirty()))}},cacheAsBitmapDynamic:{configurable:!0,enumerable:!0,get:function(){return this.mCacheAsBitmapDynamic},
set:function(a){this.mCacheAsBitmapDynamic=a}},alpha:{configurable:!0,enumerable:!0,get:function(){return this.mAlpha},set:function(a){n.assert(!isNaN(a),"Value cannot be NaN");this.mAlpha!==w.clamp(a,0,1)&&(this.mAlpha=w.clamp(a,0,1),this.setRenderDirty())}},visible:{configurable:!0,enumerable:!0,get:function(){return this.mVisible},set:function(a){this.mVisible!==a&&(this.mVisible=a,this.setRenderDirty())}},blendMode:{configurable:!0,enumerable:!0,get:function(){return this.mBlendMode},set:function(a){this.mBlendMode!==
a&&(this.mBlendMode=a,this.setRenderDirty())}},clipRect:{configurable:!0,enumerable:!0,get:function(){return this.mClipRect},set:function(a){this.mClipRect=a;this.setRenderDirty()}},snapToPixels:{configurable:!0,enumerable:!0,get:function(){return this.mSnapToPixels},set:function(a){this.mSnapToPixels=a}}});var pc=function(){var a=da.call(this)||this;return r.camera=a};$jscomp.inherits(pc,da);$jscomp.global.Object.defineProperties(pc.prototype,{worldTransformation:{configurable:!0,enumerable:!0,get:function(){var a=
da.prototype.worldTransformation.clone();a.prepend(this.stage.worldTransformationInverted);return a}}});var fa=function(){var a=ja.call(this)||this;n.assert(null==a.constructor.instance,"Only single instance is allowed");r.input=a;a.mViewportPosition=new q;a.mPointerPosition=new q;a.mStagePosition=new q;a.mDom=null;a.mEventList=null;a.mKeyEventList=null;a.mBoundListeners=[];a.mPointerQueue=[];a.mKeyQueue=[];a.mPressedKeys=[];a.mIsPointerDown=!1;a.mInputListeners=new Map;a.mTarget=null;a.mTargetComponent=
null;a.mLockedTarget=null;a.mLastInTargetComponent=null;a.__initialize();return a};$jscomp.inherits(fa,ja);fa.prototype.__initialize=function(){this.mDom=r.engine.viewport.nativeElement;this.__initListeners()};fa.prototype.__initListeners=function(){var a=this;this.mKeyEventList=nd;var b=!1;window.PointerEvent?(this.mEventList=od,b=!0):r.device.isTouch&&r.device.isMobile?this.mEventList=pd:(this.mEventList=qd,b=!0);for(var c=0;3>c;c++)this.mDom.addEventListener(this.mEventList[c],function(d){return a.__onPointerEvent(d)},
!1);c=function(d,e,f){var g=function(h){return f.call(a,h)};a.mBoundListeners.push({name:e,listener:g});d.addEventListener(e,g)};c(document,this.mEventList[0],this.__onPointerEventDoc);c(document,this.mEventList[2],this.__onPointerEventDoc);!0===b&&c(window,"wheel",this.__onPointerEventDoc);for(b=0;b<this.mKeyEventList.length;b++)c(document,this.mKeyEventList[b],this.__onKeyEvent)};fa.prototype.__onKeyEvent=function(a){if(!0===r.engine.isPaused)return!1;this.mKeyQueue.push(a);return!0};fa.prototype.__onPointerEventDoc=
function(a){if(!0!==r.engine.isPaused){for(var b=!1,c=a.target;c;){if(c===this.mDom){b=!0;break}c=c.parentElement}"wheel"===a.type?!0===b&&this.__pushEvent(a):!1===b&&!0===this.mIsPointerDown&&this.__pushEvent(a)}};fa.prototype.__onPointerEvent=function(a){if(!0===r.engine.isPaused)return!1;a.preventDefault();this.__pushEvent(a);return!0};fa.prototype.__pushEvent=function(a){var b=0===a.type.indexOf("touch")?this.__getTouchPos(this.mDom,a):this.__getPointerPos(this.mDom,a);this.mPointerQueue.push({e:a,
x:b.x,y:b.y})};fa.prototype.__getPointerPos=function(a,b){var c=a.getBoundingClientRect(),d=r.engine.viewport.rotation;return new q((0===d?a.clientWidth:a.clientHeight)/c.width*(b.clientX-c.left),(0===d?a.clientHeight:a.clientWidth)/c.height*(b.clientY-c.top))};fa.prototype.__getTouchPos=function(a,b){var c=a.getBoundingClientRect();b=b.changedTouches[0];var d=r.engine.viewport.rotation;return new q((0===d?a.clientWidth:a.clientHeight)/c.width*(b.clientX-c.left),(0===d?a.clientHeight:a.clientWidth)/
c.height*(b.clientY-c.top))};fa.prototype.onUpdate=function(){this.__updateKeyboard();for(var a=r.engine.viewport.size,b=r.engine.viewport.rotation,c=r.stage;0<this.mPointerQueue.length;){var d=this.mPointerQueue.shift(),e=d.x,f=d.y;1===b?(d.x=f,d.y=a.height-e):-1===b&&(d.x=a.width-f,d.y=e);this.mPointerPosition.x=d.x;this.mPointerPosition.y=d.y;this.mViewportPosition.copyFrom(this.mPointerPosition);null!==r.camera&&r.camera.worldTransformation.transformVector(this.mPointerPosition,this.mPointerPosition);
this.mStagePosition.copyFrom(this.mPointerPosition);c.worldTransformationInverted.transformVector(this.mStagePosition,this.mStagePosition);e=rd[this.mEventList.indexOf(d.e.type)];this.__findTarget(this.mPointerPosition);this.__processNativeEvent(d,this.mPointerPosition,e)}};fa.prototype.__findTarget=function(a){a=r.stage.hitTest(a);null===a?this.mTargetComponent=this.mTarget=null:(this.mTarget=a,this.mTargetComponent=a.getComponent(Qa))};fa.prototype.__processNativeEvent=function(a,b,c){c===fa.POINTER_DOWN?
this.mIsPointerDown=!0:c===fa.POINTER_UP&&(this.mIsPointerDown=!1);var d=0;c===fa.WHEEL&&(d=0<a.e.deltaY?1:-1);a=new Xc(this.mTarget,b.x,b.y,a.e.button,d);this.post(c,a);if(null!==this.mTarget||null!==this.mLockedTarget){if(c===fa.POINTER_DOWN)this.mLockedTarget=this.mTarget;else if(c===fa.POINTER_UP&&null!==this.mLockedTarget){this.mLockedTarget.post("~pointerUp",a);this.mLockedTarget=null;return}b=this.mTarget===this.mLockedTarget;null===this.mLockedTarget?null!==this.mTarget&&this.mTarget.post("~"+
c,a):!0===b?this.mLockedTarget.post("~"+c,a):null!==this.mLockedTarget.mParent&&null!==this.mTarget&&this.mLockedTarget.mParent.post("~"+c,a)}};fa.prototype.__updateKeyboard=function(){for(;0<this.mKeyQueue.length;){var a=this.mKeyQueue.shift(),b=this.mKeyEventList.indexOf(a.type),c=this.mPressedKeys.indexOf(a.keyCode);b=sd[b];"keyUp"===b&&-1!==c?this.mPressedKeys.splice(c,1):"keyDown"===b&&-1===c&&(this.mPressedKeys.push(a.keyCode),b="keyPress");this.post(b,new Wc(a),a)}};fa.prototype.dispose=function(){for(ja.prototype.dispose.call(this);0<
this.mBoundListeners.length;){var a=this.mBoundListeners.pop();document.removeEventListener(a.name,a.listener)}r.input=null};$jscomp.global.Object.defineProperties(fa.prototype,{isPointerDown:{configurable:!0,enumerable:!0,get:function(){return this.mIsPointerDown}},pointerX:{configurable:!0,enumerable:!0,get:function(){return this.mPointerPosition.x}},pointerY:{configurable:!0,enumerable:!0,get:function(){return this.mPointerPosition.y}},stageX:{configurable:!0,enumerable:!0,get:function(){return this.mStagePosition.x}},
stageY:{configurable:!0,enumerable:!0,get:function(){return this.mStagePosition.y}},viewportPosition:{configurable:!0,enumerable:!0,get:function(){return this.mViewportPosition}},pointerPosition:{configurable:!0,enumerable:!0,get:function(){return this.mPointerPosition}},stagePosition:{configurable:!0,enumerable:!0,get:function(){return this.mStagePosition}},pressedKeys:{configurable:!0,enumerable:!0,get:function(){return this.mPressedKeys}}});$jscomp.global.Object.defineProperties(fa,{POINTER_DOWN:{configurable:!0,
enumerable:!0,get:function(){return"pointerDown"}},POINTER_MOVE:{configurable:!0,enumerable:!0,get:function(){return"pointerMove"}},POINTER_UP:{configurable:!0,enumerable:!0,get:function(){return"pointerUp"}},WHEEL:{configurable:!0,enumerable:!0,get:function(){return"wheel"}}});var nd=["keydown","keyup"],sd=["keyDown","keyUp","keyPress"],rd="pointerMove pointerDown pointerUp pointerIn pointerOut wheel".split(" "),od="pointermove pointerdown pointerup pointerenter pointerleave wheel".split(" "),qd=
"mousemove mousedown mouseup mouseenter mouseleave wheel".split(" "),pd=["touchmove","touchstart","touchend","touchenter","touchleave"],Xc=function(a,b,c,d,e){this.mActiveObject=a;this.mX=b;this.mY=c;this.mButton=d;this.mDelta=void 0===e?0:e};$jscomp.global.Object.defineProperties(Xc.prototype,{delta:{configurable:!0,enumerable:!0,get:function(){return this.mDelta}},button:{configurable:!0,enumerable:!0,get:function(){return this.mButton}},activeObject:{configurable:!0,enumerable:!0,get:function(){return this.mActiveObject}},
x:{configurable:!0,enumerable:!0,get:function(){return this.mX}},y:{configurable:!0,enumerable:!0,get:function(){return this.mY}}});var Ca=function(){var a=B.call(this)||this;a.mName="stage";a.mScaleMode=cb.NORMAL;a.mWidth=960;a.mHeight=640;a.mStageWidth=0;a.mStageHeight=0;a.mStageScaleFactor=0;a.mCacheWidth=0;a.mCacheHeight=0;a.mDPR=r.device.getDevicePixelRatio();a.mAdded=!0;if(r.engine.hasSystem(fa)){var b=new Qa;b.mAdded=!0;a.addComponent(b)}return a};$jscomp.inherits(Ca,B);Ca.prototype.setSize=
function(a,b){this.mWidth=a;this.mHeight=b;this.__refresh()};Ca.prototype.onUpdate=function(){var a=r.engine.viewport.size;if(this.mCacheWidth!==a.width||this.mCacheHeight!==a.height)this.mCacheWidth=a.width,this.mCacheHeight=a.height,this.__refresh()};Ca.prototype.refresh=function(){this.__refresh()};Ca.prototype.__refresh=function(){var a=r.engine.viewport.size,b=a.width;a=a.height;if(this.mScaleMode===cb.FIXED){var c=Math.max(b*this.mHeight/a/b,a*this.mWidth/b/a),d=b*c;c*=a;this.mStageWidth=d;
this.mStageHeight=c;this.mScaleX=this.mScaleY=this.mStageScaleFactor=Math.min(b/d,a/c)}else this.mScaleMode===cb.LETTERBOX||this.mScaleMode===cb.COVER?(d=this.mScaleMode===cb.COVER?Math.max(b/this.mWidth,a/this.mHeight):Math.min(b/this.mWidth,a/this.mHeight),this.mX=(b-this.mWidth*d)/2,this.mY=(a-this.mHeight*d)/2,this.mStageWidth=this.mWidth,this.mStageHeight=this.mHeight,this.mScaleX=this.mScaleY=this.mStageScaleFactor=d):this.mScaleMode===cb.NORMAL?(this.mStageWidth=b,this.mStageHeight=a,this.mScaleX=
this.mScaleY=this.mStageScaleFactor=1):this.mScaleMode===cb.NO_SCALE?(this.mStageWidth=b*this.mDPR,this.mStageHeight=a*this.mDPR,this.mScaleX=this.mScaleY=this.mStageScaleFactor=1/this.mDPR):n.error("Not supported stage scale mode.");this.mStageWidth=Math.round(this.mStageWidth);this.mStageHeight=Math.round(this.mStageHeight);this.mX=Math.round(this.mX);this.mY=Math.round(this.mY);r.driver.__onResize(null,null);this.setTransformDirty();this.mLocalTransform.set(this.mScaleX,0,0,this.mScaleY,this.mX,
this.mY);this.post(O.RESIZE)};Ca.prototype.getBounds=function(a,b,c){c=c||new z;return c.set(-this.mX/this.mStageScaleFactor,-this.mY/this.mStageScaleFactor,this.mStageWidth+2*this.mX/this.mStageScaleFactor,this.mStageHeight+2*this.mY/this.mStageScaleFactor)};Ca.prototype.onGetLocalBounds=function(a){a=a||new z;return a.set(0,0,this.mStageWidth,this.mStageHeight)};Ca.prototype.removeFromParent=function(){n.error("Not allowed.")};$jscomp.global.Object.defineProperties(Ca.prototype,{scaleMode:{configurable:!0,
enumerable:!0,get:function(){return this.mScaleMode},set:function(a){this.mScaleMode=a;this.__refresh()}},scaleFactor:{configurable:!0,enumerable:!0,get:function(){return this.mStageScaleFactor}},renderWidth:{configurable:!0,enumerable:!0,get:function(){return this.mStageWidth*this.mDPR*this.mStageScaleFactor}},renderHeight:{configurable:!0,enumerable:!0,get:function(){return this.mStageHeight*this.mDPR*this.mStageScaleFactor}},centerX:{configurable:!0,enumerable:!0,get:function(){return.5*this.mStageWidth}},
centerY:{configurable:!0,enumerable:!0,get:function(){return.5*this.mStageHeight}},localTransformation:{configurable:!0,enumerable:!0,get:function(){return this.mLocalTransform},set:function(a){n.error("Not allowed.")}},scaleX:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 1}},scaleY:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 1}},pivotOffsetX:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},
get:function(){return 0}},pivotOffsetY:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 0}},anchorX:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 0}},anchorY:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 0}},x:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return this.mX/this.mStageScaleFactor}},y:{configurable:!0,enumerable:!0,
set:function(a){n.error("Not allowed.")},get:function(){return this.mY/this.mStageScaleFactor}},rotation:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 0}},width:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return this.mStageWidth}},height:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return this.mStageHeight}},name:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},
get:function(){return this.mName}}});var Da=function(a,b,c,d){var e=Ba.call(this)||this;for(var f=[],g=[],h=0;4>h;h++)f.push(new q),g.push(new q);e.mRect=new z;e.mNormals=f;e.mVertices=g;e.mLocalMin=new q;e.mLocalMax=new q;e.mLocalCenter=new q;e.set(a,b,c,d);return e};$jscomp.inherits(Da,Ba);Da.prototype.set=function(a,b,c,d){this.mRect.set(a,b,c,d);this.mChanged=!0;return this};Da.prototype.refresh=function(a,b){var c=this.mLocalMin,d=this.mLocalMax,e=this.mMin,f=this.mMax,g=this.mLocalCenter,h=
this.mCenter;if(this.mChanged){var l=this.mVertices,p=this.mNormals,t=this.mRect,m=q.pool.get();a.transformVector(m.set(0,-1),p[0]);a.transformVector(m.set(1,0),p[1]);a.transformVector(m.set(0,1),p[2]);a.transformVector(m.set(-1,0),p[3]);for(var v=0;4>v;v++)p[v].normalize();a.transformVector(m.set(t.x,t.y),l[0]);a.transformVector(m.set(t.x+t.width,t.y),l[1]);a.transformVector(m.set(t.x+t.width,t.y+t.height),l[2]);a.transformVector(m.set(t.x,t.y+t.height),l[3]);g.set((l[0].x+l[2].x)/2,(l[0].y+l[2].y)/
2);c.x=Math.min(l[0].x,l[1].x,l[2].x,l[3].x);c.y=Math.min(l[0].y,l[1].y,l[2].y,l[3].y);d.x=Math.max(l[0].x,l[1].x,l[2].x,l[3].x);d.y=Math.max(l[0].y,l[1].y,l[2].y,l[3].y);q.pool.release(m)}e.x=c.x+b.x;e.y=c.y+b.y;f.x=d.x+b.x;f.y=d.y+b.y;h.x=g.x+b.x;h.y=g.y+b.y};Da.prototype.containsPoint=function(a){return this.mRect.containsXY(a.x,a.y)};var Fb=function(a,b,c){var d=Ba.call(this)||this;d.mCircle=new ia(a,b,c);d.mLocalCenter=new q;d.mLocalMin=new q;d.mLocalMax=new q;d.mRadius=0;d.set(a,b,c);return d};
$jscomp.inherits(Fb,Ba);Fb.prototype.set=function(a,b,c){this.mCircle.set(a,b,c);this.mChanged=!0;return this};Fb.prototype.refresh=function(a,b){var c=this.mLocalMin,d=this.mLocalMax,e=this.mMin,f=this.mMax,g=this.mLocalCenter,h=this.mCenter;if(this.mChanged){var l=this.mCircle,p=l.r*Math.sqrt(a.data[0]*a.data[0]+a.data[1]*a.data[1]);a.transformXY(l.x,l.y,g);this.mRadius=p;c.x=g.x-p;c.y=g.y-p;d.x=g.x+p;d.y=g.y+p}e.x=c.x+b.x;e.y=c.y+b.y;f.x=d.x+b.x;f.y=d.y+b.y;h.x=g.x+b.x;h.y=g.y+b.y};Fb.prototype.containsPoint=
function(a){if(null===this.gameObject)return!1;var b=this.mCircle,c=q.pool.get();a=c.set(b.x,b.y).distance(a);q.pool.release(c);return a<=b.r};var db=function(a,b,c){b=new bb(a*c,b*c);a=ba.call(this,b.native)||this;a.set(b.native,null,null,1/c);a.renderTarget=b;return a};$jscomp.inherits(db,ba);db.prototype.resize=function(a,b,c){this.renderTarget.resize(a*c,b*c);this.set(this.renderTarget.native,null,null,1/c)};db.prototype.__dumpToDocument=function(){var a=new Image;a.style.position="fixed";a.style.top=
"0px";a.style.left="0px";a.style.background="#333";a.style.width="256px";a.style.height="auto";a.src=this.mNative.toDataURL("image/png");document.body.appendChild(a)};var Ea=function(a,b,c){c=void 0===c?1:c;a=ba.call(this,a,null,null,c)||this;a.mSubTextures={};a.__parseAtlasData(b,c);return a};$jscomp.inherits(Ea,ba);Ea.prototype.__parseAtlasData=function(a,b){for(var c in a.frames){var d=a.frames[c],e=new z(d[0],d[1],d[2],d[3]),f=new z(d[4],d[5],d[6],d[7]),g=null,h=null;10===d.length?g=new q(d[8],
d[9]):12===d.length?h=new z(d[8],d[9],d[10],d[11]):14===d.length&&(g=new q(d[8],d[9]),h=new z(d[10],d[11],d[12],d[13]));this.mSubTextures[c]=new ba(this.native,e,f,b,g,h)}};Ea.prototype.getTexture=function(a){var b=this.mSubTextures[a];n.assertWarn(void 0!==b,"Texture '"+a+"' was not found");return b};Ea.prototype.getTextures=function(a,b){a=void 0===a?null:a;b=(void 0===b?null:b)||[];if(null===a){for(var c in this.mSubTextures)b.push(this.mSubTextures[c]);return b}c=[];a=new RegExp("^"+a.split("*").join(".*")+
"$");for(var d in this.mSubTextures)a.test(d)&&c.push(d);Ea.naturalSort(c);for(d=0;d<c.length;d++)b.push(this.mSubTextures[c[d]]);return b};Ea.naturalSort=function(a,b){a.sort(Ea.__naturalComparer(void 0===b?null:b))};Ea.__naturalComparer=function(a,b){a=void 0===a?null:a;b=void 0===b?!0:b;return function(c,d){var e=/(-?\d*\.?\d+)/g;c=String(null==a?c:c[a]).split(e);d=String(null==a?d:d[a]).split(e);e=Math.min(c.length,d.length);for(var f=0;f<e;f++){if(b){var g=Math.abs(parseFloat(c[f]))||c[f].toLowerCase();
var h=Math.abs(parseFloat(d[f]))||d[f].toLowerCase()}else g=parseFloat(c[f])||c[f].toLowerCase(),h=parseFloat(d[f])||d[f].toLowerCase();if(g<h)return-1;if(g>h)return 1}return 0}};$jscomp.global.Object.defineProperties(Ea.prototype,{subTextures:{configurable:!0,enumerable:!0,get:function(){return this.mSubTextures}}});var J={TEXTURE:"texture",TEXTURE_ATLAS:"textureAtlas",VECTOR_TEXTURE:"vectorTexture",VECTOR_TEXTURE_ATLAS:"vectorTextureAtlas",FONT:"font",BITMAP_FONT:"bitmapFont",XML:"xml",JSON:"json",
VECTOR_GRAPHICS:"vectorGraphics",SOUND:"sound",SOUND_ATLAS:"soundAtlas"},pa={FONT_FACE:"fontFace",IMAGE:"image",XHR:"xhr"},va=function(a){var b=M.call(this)||this;b.mUrl=a;b.mData=null;b.mIsLoaded=!1;b.mNumOwners=0;return b};$jscomp.inherits(va,M);va.prototype.load=function(){};va.prototype.abort=function(){if(!(1<this.mNumOwners))this.onAbort()};va.prototype.onAbort=function(){};va.prototype.onLoad=function(){this.mIsLoaded=!0;this.post(O.COMPLETE)};va.prototype.onError=function(){this.mIsLoaded=
!1;this.post(O.ERROR)};$jscomp.global.Object.defineProperties(va.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.mData}},url:{configurable:!0,enumerable:!0,get:function(){return this.mUrl}}});var Gb=function(a){a=va.call(this,a)||this;a.mImageElement=new Image;a.mImageElement.crossOrigin="anonymous";return a};$jscomp.inherits(Gb,va);Gb.prototype.load=function(){var a=this;this.mData=this.mImageElement;this.mImageElement.onload=function(){return a.onLoad()};this.mImageElement.onerror=
function(){return a.onError()};this.mImageElement.src=this.mUrl};Gb.prototype.onAbort=function(){this.mImageElement.onload=this.mImageElement.onabort=this.mImageElement.onerror=function(){};this.mImageElement.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYmBgAAgwAAAMAAMjcmNcAAAAAElFTkSuQmCC"};var Hb=function(a){a=va.call(this,a)||this;a.mRequest=new XMLHttpRequest;a.mimeType=void 0;a.responseType="";return a};
$jscomp.inherits(Hb,va);Hb.prototype.load=function(){var a=this;this.mRequest.open("GET",this.mUrl,!0);""!=this.responseType&&(this.mRequest.responseType=this.responseType);void 0!=this.mRequest.overrideMimeType&&this.mimeType&&this.mRequest.overrideMimeType(this.mimeType);this.mRequest.onreadystatechange=function(){if(4===a.mRequest.readyState)if(200===a.mRequest.status||0===a.mRequest.status&&a.mRequest.responseText)a.mData=""===a.responseType||"text"===a.responseType?a.mRequest.responseText:a.mRequest.response,
a.onLoad();else a.onError()};this.mRequest.send(null)};Hb.prototype.onAbort=function(){this.mRequest.abort()};var eb=function(a,b,c){b=va.call(this,b)||this;b.mName=a;b.mTestingFontName="Courier New";b.mIsLocal=c;b.mTestingString="~ GHBDTN,.#$Mlck";b.mCheckDelay=50;b.mTestingElement=b.__getTestingElement();b.metrics=null;b.mLoaderElement=b.__getLoaderElement(b.mIsLocal);b.mTestingElement.style.fontFamily=b.mTestingFontName;b.mDefaultFontWidth=b.mTestingElement.offsetWidth;b.mTestingElement.style.fontFamily=
'"'+a+'",'+b.mTestingFontName;b.mTimeoutHandle=-1;return b};$jscomp.inherits(eb,va);eb.prototype.load=function(){this.mIsLocal?this.mLoaderElement.innerHTML+='\n @font-face {font-family: "'+this.mName+'"; src: url('+this.mUrl+");}":this.mLoaderElement.href=this.mUrl;this.__checkLoadingStatus()};eb.prototype.onAbort=function(){clearTimeout(this.mTimeoutHandle);this.mTestingElement.parentNode.removeChild(this.mTestingElement)};eb.prototype.__getLoaderElement=function(a){var b=this;a=document.createElement(a?
"style":"link");a.type="text/css";a.media="all";a.rel="stylesheet";a.onerror=function(){b.onError()};document.getElementsByTagName("head")[0].appendChild(a);return a};eb.prototype.__getTestingElement=function(){var a=document.createElement("span");a.style.position="absolute";a.style.top="-9999px";a.style.left="-9999px";a.style.visibility="hidden";a.style.fontSize="250px";a.innerHTML=this.mTestingString;document.body.appendChild(a);return a};eb.prototype.__checkLoadingStatus=function(){this.mDefaultFontWidth===
this.mTestingElement.offsetWidth?this.mTimeoutHandle=setTimeout(this.__checkLoadingStatus.bind(this),this.mCheckDelay):(this.metrics=za.get(this.mName),this.mTestingElement.parentNode.removeChild(this.mTestingElement),this.onLoad())};var N=function(a,b){var c=M.call(this)||this;c.mType=a;c.mName=b;c.mData=null;c.mLoaders=[];c.mNumLoaded=0;c.mIsReady=!1;c.mBindings=[];return c};$jscomp.inherits(N,M);N.prototype.addLoader=function(a){this.mLoaders.push(a);a.mNumOwners++;this.mBindings.push(a.on(O.COMPLETE,
this.__onLoaderComplete,this));this.mBindings.push(a.on(O.ERROR,this.__onLoaderError,this));return a};N.prototype.onLoaderRequested=function(a){};N.prototype.__onLoaderComplete=function(a){this.mNumLoaded++;this.mNumLoaded===this.mLoaders.length&&(this.mBindings.forEach(function(b){return b.off()}),this.onAllLoaded())};N.prototype.__onLoaderError=function(a){this.abort();this.post(O.ERROR)};N.prototype.onAllLoaded=function(){};N.prototype.abort=function(){this.mNumLoaded=0;this.mBindings.forEach(function(b){return b.off()});
for(var a=0;a<this.mLoaders.length;a++)this.mLoaders[a].abort()};N.prototype.ready=function(a){this.mData=a;this.mIsReady=!0;this.post(O.COMPLETE)};$jscomp.global.Object.defineProperties(N.prototype,{type:{configurable:!0,enumerable:!0,get:function(){return this.mType}},name:{configurable:!0,enumerable:!0,get:function(){return this.mName}},data:{configurable:!0,enumerable:!0,get:function(){return this.mData}},isReady:{configurable:!0,enumerable:!0,get:function(){return this.mIsReady}},loaders:{configurable:!0,
enumerable:!0,get:function(){return this.mLoaders}}});var Ib=function(a,b){a=N.call(this,J.TEXTURE,a)||this;a.mUrl=b;a.mScale=1/ba.getScaleFactorFromName(b);a.mImageLoader=null;return a};$jscomp.inherits(Ib,N);Ib.prototype.onLoaderRequested=function(a){this.mImageLoader=a.get(pa.IMAGE,this.mUrl);this.addLoader(this.mImageLoader)};Ib.prototype.onAllLoaded=function(){N.prototype.ready.call(this,new ba(this.mImageLoader.data,null,null,this.mScale))};var Jb=function(a,b){a=N.call(this,J.JSON,a)||this;
a.mUrl=b;a.mXHR=null;return a};$jscomp.inherits(Jb,N);Jb.prototype.onLoaderRequested=function(a){this.mXHR=a.get(pa.XHR,this.mUrl);this.mXHR.mimeType="application/json";this.mXHR.responseType="json";this.addLoader(this.mXHR)};Jb.prototype.onAllLoaded=function(){N.prototype.ready.call(this,this.mXHR.data)};var Kb=function(a,b){a=N.call(this,J.XML,a)||this;a.mUrl=b;a.mXHR=null;return a};$jscomp.inherits(Kb,N);Kb.prototype.onLoaderRequested=function(a){this.mXHR=a.get(pa.XHR,this.mUrl);this.mXHR.mimeType=
"text/xml";this.addLoader(this.mXHR)};Kb.prototype.onAllLoaded=function(){N.prototype.ready.call(this,(new DOMParser).parseFromString(this.mXHR.data,"text/xml"))};var Lb=function(a,b,c){var d=N.call(this,J.FONT,a)||this;!1===c&&(b="https://fonts.googleapis.com/css?family="+a.replace(/ /g,"+"));d.mUrl=b;d.mIsLocal=c;return d};$jscomp.inherits(Lb,N);Lb.prototype.onLoaderRequested=function(a){a=a.get(pa.FONT_FACE,this.mName,this.mUrl,this.mIsLocal);this.addLoader(a)};Lb.prototype.onAllLoaded=function(){N.prototype.ready.call(this)};
var Mb=function(a,b,c){a=N.call(this,J.TEXTURE_ATLAS,a)||this;a.mImageUrl=b;a.mDataUrl=c;a.mScale=1/ba.getScaleFactorFromName(b);a.mImageLoader=null;a.mXHR=null;return a};$jscomp.inherits(Mb,N);Mb.prototype.onLoaderRequested=function(a){this.mImageLoader=a.get(pa.IMAGE,this.mImageUrl);this.addLoader(this.mImageLoader);this.mXHR=a.get(pa.XHR,this.mDataUrl);this.mXHR.mimeType="application/json";this.mXHR.responseType="json";this.addLoader(this.mXHR)};Mb.prototype.onAllLoaded=function(){N.prototype.ready.call(this,
new Ea(this.mImageLoader.data,this.mXHR.data,this.mScale))};var kb=function(a,b,c){a=N.call(this,J.BITMAP_FONT,a)||this;a.mImageUrl=b;a.mXmlUrl=c;a.mScale=1/ba.getScaleFactorFromName(b);a.mImageLoader=null;a.mXHR=null;return a};$jscomp.inherits(kb,N);kb.prototype.onLoaderRequested=function(a){this.mImageLoader=a.get(pa.IMAGE,this.mImageUrl);this.addLoader(this.mImageLoader);this.mXHR=a.get(pa.XHR,this.mXmlUrl);this.mXHR.mimeType="text/xml";this.addLoader(this.mXHR)};kb.prototype.onAllLoaded=function(){var a=
(new DOMParser).parseFromString(this.mXHR.data,"text/xml"),b=new ba(this.mImageLoader.data,null,null,this.mScale);N.prototype.ready.call(this,kb.parse(a,b))};kb.parse=function(a,b){var c=new Yc;c.texture=b;c.xml=a;var d=a.getElementsByTagName("info")[0],e=a.getElementsByTagName("common")[0];c.name=d.getAttribute("face");c.size=parseInt(d.getAttribute("size"),10);c.lineHeight=parseInt(e.getAttribute("lineHeight"),10);c.baseline=parseInt(e.getAttribute("base"),10);c.chars={};d=a.getElementsByTagName("char");
for(e=0;e<d.length;e++){var f=d[e],g=parseInt(f.getAttribute("id"),10),h=parseInt(f.getAttribute("x"),10)+b.region.x,l=parseInt(f.getAttribute("y"),10)+b.region.y,p=parseInt(f.getAttribute("width"),10),t=parseInt(f.getAttribute("height"),10),m=parseInt(f.getAttribute("xoffset"),10),v=parseInt(f.getAttribute("yoffset"),10);f=parseInt(f.getAttribute("xadvance"),10);h=new z(h,l,p,t);l=new Zc;l.texture=new ba(b.native,h);l.xOffset=m;l.yOffset=v;l.width=p;l.height=t;l.xAdvance=f;c.chars[g]=l}a=a.getElementsByTagName("kerning");
for(b=0;b<a.length;b++)g=a[b],d=parseInt(g.getAttribute("first"),10),e=parseInt(g.getAttribute("second"),10),g=parseInt(g.getAttribute("amount"),10),c.chars[e]&&(c.chars[e].kerning[d]=g);return c};var Yc=function(){this.xml=this.texture=null;this.name="";this.lineHeight=this.size=0;this.chars={};this.baseline=0},Zc=function(){this.texture=null;this.xAdvance=this.height=this.width=this.yOffset=this.xOffset=0;this.kerning={}},qa={NEWBORN:"newborn",PLAYING:"playing",PAUSED:"paused",STOPPED:"stopped",
COMPLETED:"completed"},Ia=function(){this.mOutputNode=this.mInputNode=null};$jscomp.global.Object.defineProperties(Ia.prototype,{_inputNode:{configurable:!0,enumerable:!0,get:function(){n.assert(null!=this.mInputNode,"Input node must be specified in descendant class");return this.mInputNode}},_outputNode:{configurable:!0,enumerable:!0,get:function(){n.assert(null!=this.mOutputNode,"Output node must be specified in descendant class");return this.mOutputNode}}});var Yb=function(){var a=Ia.call(this)||
this;a.mGainL=r.audio._newGainNode();a.mGainR=r.audio._newGainNode();a.mSplitter=r.audio.context.createChannelSplitter(2);a.mMerger=r.audio.context.createChannelMerger(2);a.mSplitter.connect(a.mGainL,0);a.mSplitter.connect(a.mGainR,1);a.mGainL.connect(a.mMerger,0,0);a.mGainR.connect(a.mMerger,0,1);a.mValue=0;a.mInputNode=a.mSplitter;a.mOutputNode=a.mMerger;return a};$jscomp.inherits(Yb,Ia);$jscomp.global.Object.defineProperties(Yb.prototype,{pan:{configurable:!0,enumerable:!0,set:function(a){this.mValue=
w.clamp(a,-1,1);this.mGainL.gain.setValueAtTime(1-w.clamp(this.mValue,0,1),0);this.mGainR.gain.setValueAtTime(1+w.clamp(this.mValue,-1,0),0)},get:function(){return this.mValue}}});var td=0,ta=function(a){var b=M.call(this)||this;b.mId=++td;b.mSound=a;b.mState=qa.NEWBORN;b.mChannel="master";b.mVolume=1;b.mLoop=!1;b.mStartTime=0;b.mPausePosition=0;b.mStopPosition=0;b.mSrc=null;b.mGainNode=r.audio._newGainNode();b.mFirstNode=b.mGainNode;b.mPlayNode=null;b.mSpatialPanner=null;b.mStereoPanner=null;b.mAnalyser=
null;return b};$jscomp.inherits(ta,M);ta.prototype.enableSpacePan=function(){null==this.mSpatialPanner&&(this.mSpatialPanner=r.audio.context.createPanner(),this.mFirstNode&&(this.mSpatialPanner.connect(this.mFirstNode),this.mFirstNode=this.mSpatialPanner),this.__reconnectSource());return this.mSpatialPanner};ta.prototype.enableStereoPan=function(){null==this.mStereoPanner&&(this.mStereoPanner=new Yb,this.mFirstNode&&(this.mStereoPanner._outputNode.connect(this.mFirstNode),this.mFirstNode=this.mStereoPanner._inputNode),
this.__reconnectSource());return this.mStereoPanner};ta.prototype.enableAnalyser=function(){null==this.mAnalyser&&(this.mAnalyser=r.audio.context.createAnalyser(),this.mFirstNode&&(this.mAnalyser.connect(this.mFirstNode),this.mFirstNode=this.mAnalyser),this.__reconnectSource());return this.mAnalyser};ta.prototype.__reconnectSource=function(){null!=this.mSrc&&null!=this.mPlayNode&&null!=this.mFirstNode&&(this.mSrc.disconnect(this.mPlayNode),this.mSrc.connect(this.mFirstNode),this.mPlayNode=this.mFirstNode)};
ta.prototype._play=function(){var a=this;if(this.mState===qa.PLAYING)return this;this.mState=qa.PLAYING;var b=this.mSound.isSubClip&&!this.mLoop?this.mSound.duration-this.mPausePosition:void 0;this.mGainNode.gain.setValueAtTime(this.mVolume,0);var c=r.audio.context.createBufferSource();c.buffer=this.mSound.native;c.loop=this.mLoop;c.onended=function(){return a.__onComplete()};this.mFirstNode&&c.connect(this.mFirstNode);this.mPlayNode=this.mFirstNode;this.mStartTime=r.audio.context.currentTime-this.mPausePosition;
this.mLoop&&this.mSound.isSubClip&&(c.loopStart=this.mSound.offset,c.loopEnd=this.mSound.offset+this.mSound.duration);c.start(r.audio.context.currentTime,this.mSound.offset+this.mPausePosition,b);r.audio._resolveChannel(this);this.mSrc=c;return this};ta.prototype.stop=function(a){a=void 0===a?0:a;this.mState===qa.PLAYING&&(this.mStopPosition=this.currentPosition,this.mGainNode.gain.cancelScheduledValues(0),this.mSrc.stop(r.audio.context.currentTime+a),this.mState=qa.STOPPED)};ta.prototype.pause=function(){this.mState===
qa.PLAYING&&(this.mPausePosition=this.currentPosition,this.stop(),this.mState=qa.PAUSED)};ta.prototype.resume=function(){this.mState===qa.PAUSED&&this._play()};ta.prototype.fade=function(a,b,c,d){c=void 0===c?0:c;d=void 0===d?"linear":d;0>=c?this.mGainNode.gain.setValueAtTime(b,0):(this.mGainNode.gain.setValueAtTime(a,0),"exp"===d?this.mGainNode.gain.exponentialRampToValueAtTime(Math.max(b,.01),r.audio.context.currentTime+c):this.mGainNode.gain.linearRampToValueAtTime(b,r.audio.context.currentTime+
c))};ta.prototype.__onComplete=function(){this.mSrc=null;this.mState!==qa.PAUSED&&(this.mStartTime=0,this.mState=qa.COMPLETED,this.post(O.COMPLETE))};$jscomp.global.Object.defineProperties(ta.prototype,{currentPosition:{configurable:!0,enumerable:!0,get:function(){switch(this.mState){case qa.PLAYING:return(r.audio.context.currentTime-this.mStartTime)%(this.mSound.duration+.01);case qa.PAUSED:return this.mPausePosition;case qa.COMPLETED:return this.mSound.duration;case qa.STOPPED:return this.mStopPosition}return 0}},
_outputNode:{configurable:!0,enumerable:!0,get:function(){return this.mGainNode}},channel:{configurable:!0,enumerable:!0,get:function(){return this.mChannel},set:function(a){this.mChannel!==a&&(this.mChannel=a,this.mState===qa.PLAYING&&r.audio._resolveChannel(this))}},volume:{configurable:!0,enumerable:!0,get:function(){return this.mVolume},set:function(a){this.mVolume=a;this.mGainNode.gain.setValueAtTime(this.mVolume,0)}},loop:{configurable:!0,enumerable:!0,get:function(){return this.mLoop},set:function(a){this.mLoop=
a}},pan:{configurable:!0,enumerable:!0,get:function(){return this.mStereoPanner.pan},set:function(a){0!==a&&null==this.mStereoPanner&&this.enableStereoPan();this.mStereoPanner&&(this.mStereoPanner.pan=a)}},isPlaying:{configurable:!0,enumerable:!0,get:function(){return this.mState===qa.PLAYING}},duration:{configurable:!0,enumerable:!0,get:function(){return this.mSound.duration}}});var Aa=function(a){this.mName=a;this.mGain=r.audio._newGainNode();this.mSounds=[];this.mEffects=[]};Aa.prototype.attachSound=
function(a){var b=this;n.assert(null!=a,"Sound cannot be null");a._outputNode.connect(this._inputNode);this.mSounds.push(a);a.on(O.COMPLETE,function(){b.mSounds.splice(b.mSounds.indexOf(a),1);a._outputNode.disconnect(0)})};Aa.prototype.detachSound=function(a){n.assert(null!=a,"Sound cannot be null");var b=this.mSounds.indexOf(a);-1<b&&(this.mSounds.splice(b,1),a._outputNode.disconnect(0))};Aa.prototype.stopAll=function(){for(var a=this.mSounds[0];this.mSounds.length;a=this.mSounds.shift())a.stop()};
Aa.prototype.pauseAll=function(){for(var a=0;a<this.mSounds.length;a++)this.mSounds[a].pause()};Aa.prototype.resumeAll=function(){for(var a=0;a<this.mSounds.length;a++)this.mSounds[a].resume()};Aa.prototype.addEffect=function(a){n.assert(null!=a,"Effect cannot be null");a._outputNode.connect(this._inputNode);this.mEffects.unshift(a);this.__reconnectSounds();return a};Aa.prototype.removeEffect=function(a){n.assert(null!=a,"Effect cannot be null");a._outputNode.disconnect(0);this.mEffects.splice(this.mEffects.indexOf(a),
1);this.__reconnectSounds();return a};Aa.prototype.removeAllEffects=function(){for(;this.mEffects.length;this.mEffects.shift())this.mEffects[0]._outputNode.disconnect(0);this.__reconnectSounds()};Aa.prototype.__reconnectSounds=function(){var a=this;this.mSounds.forEach(function(b){b._outputNode.disconnect(0);b._outputNode.connect(a._inputNode)})};$jscomp.global.Object.defineProperties(Aa.prototype,{volume:{configurable:!0,enumerable:!0,set:function(a){this.mGain.gain.setValueAtTime(a,0)},get:function(){return this.mGain.gain.value}},
_inputNode:{configurable:!0,enumerable:!0,get:function(){return this.mEffects.length?this.mEffects[0]._inputNode:this.mGain}},_outputNode:{configurable:!0,enumerable:!0,get:function(){return this.mGain}}});var la=function(){var a=ja.call(this)||this;r.audio=a;a.mContext=null;a.mCurrentListener=null;a.mChannels={};a.mMasterChannel=null;a.mIsPendingResume=!1;a.mPendingResume=0;a.mResumeTimeout=.1;a.__initialize();return a};$jscomp.inherits(la,ja);la.prototype.onPause=function(){null!==this.mContext&&
("running"===this.mContext.state&&this.mContext.suspend(),this.mIsPendingResume=!1)};la.prototype.onResume=function(){this.mPendingResume=this.mResumeTimeout;this.mIsPendingResume=!0};la.prototype.onUpdate=function(){this.mIsPendingResume&&(this.mPendingResume-=r.time.delta,0>=this.mPendingResume&&null!==this.mContext&&("suspended"===this.mContext.state||"interrupted"===this.mContext.state)&&(this.mContext.resume(),this.mIsPendingResume=!1))};la.prototype.__initialize=function(){try{this.mContext=
new (window.AudioContext||window.webkitAudioContext)}catch(a){if(null==this.mContext){n.warn("no audio support");return}}this.__unlock();this.mMasterChannel=new Aa("master");this.mMasterChannel._outputNode.connect(this.mContext.destination);this.mChannels.master=this.mMasterChannel};la.prototype.dispose=function(){ja.prototype.dispose.call(this);null!==this.mContext&&(this.stopAll(),this.mContext.close());this.mIsPendingResume=!1;r.audio=null};la.prototype.__unlock=function(){var a=this,b=function(){var c=
a.mContext.createBuffer(1,1,22050),d=a.mContext.createBufferSource();d.buffer=c;d.connect(a.mContext.destination);void 0===d.start?d.noteOn(0):d.start(0);"suspended"===d.context.state&&d.context.resume();document.removeEventListener("touchstart",b);document.removeEventListener("click",b)};document.addEventListener("touchstart",b);document.addEventListener("click",b)};la.prototype.createChannel=function(a){if(null==this.mChannels[a]){var b=new Aa(a);b._outputNode.connect(this.mMasterChannel._inputNode);
this.mChannels[a]=b}return this.mChannels[a]};la.prototype.getChannel=function(a){return this.mChannels[a]};la.prototype._resolveChannel=function(a){for(var b in this.mChannels)this.mChannels[b].detachSound(a);b=this.mChannels[""==a.channel?"master":a.channel];b.attachSound(a);return b};la.prototype.play=function(a,b,c,d,e){b=void 0===b?"master":b;c=void 0===c?1:c;d=void 0===d?!1:d;e=void 0===e?0:e;n.assert(null!=a,"Param 'nameOrSound' cannot be null.");var f=null;a.constructor===String&&(f=r.assets.getSound(a));
return f.play(b,c,d,e)};la.prototype.stopAll=function(a){a=void 0===a?null:a;if(null===a)for(var b in this.mChannels)this.mChannels[b].stopAll();else this.getChannel(a).stopAll()};la.prototype.pauseAll=function(a){a=void 0===a?null:a;if(null===a)for(var b in this.mChannels)this.mChannels[b].pauseAll();else this.getChannel(a).pauseAll()};la.prototype.resumeAll=function(a){a=void 0===a?null:a;if(null===a)for(var b in this.mChannels)this.mChannels[b].resumeAll();else this.getChannel(a).resumeAll()};
la.prototype.looseListener=function(){this.mContext.listener.setPosition(0,0,1);this.mCurrentListener=null};la.prototype._newGainNode=function(){return void 0===this.mContext.createGain?this.mContext.createGainNode():this.mContext.createGain()};$jscomp.global.Object.defineProperties(la.prototype,{masterVolume:{configurable:!0,enumerable:!0,set:function(a){this.mMasterChannel.volume=a},get:function(){return this.mMasterChannel.volume}},context:{configurable:!0,enumerable:!0,get:function(){return this.mContext}},
masterChannel:{configurable:!0,enumerable:!0,get:function(){return this.mMasterChannel}},currentListener:{configurable:!0,enumerable:!0,set:function(a){this.mCurrentListener=a},get:function(){return this.mCurrentListener}},resumeTimeout:{configurable:!0,enumerable:!0,get:function(){return this.mResumeTimeout},set:function(a){this.mResumeTimeout=a}}});var Ra=function(a,b,c,d){c=void 0===c?NaN:c;this.mNativeBuffer=a;this.mStartOffset=void 0===b?0:b;this.mDuration=c||a.duration;this.mIsSubClip=void 0===
d?!1:d};Ra.prototype.play=function(a,b,c,d){a=void 0===a?"master":a;b=void 0===b?1:b;c=void 0===c?!1:c;d=void 0===d?0:d;var e=new ta(this);e.channel=a;e.volume=b;e.loop=c;e.pan=d;return e._play()};Ra.prototype.collectWaveData=function(a){for(var b=[],c=0;c<this.mNativeBuffer.numberOfChannels;c++)b[c]=this.mNativeBuffer.getChannelData(c);var d=this.mDuration/this.mNativeBuffer.duration,e=~~(this.mStartOffset/this.mNativeBuffer.duration*b[0].length);c=e+~~(b[0].length*d);var f=new Float32Array(a);a=
~~(b[0].length*d/a);d=[];for(var g=0;e<c;e++)if(d.push(this.__averagePeak(b,e)),d.length>=a){var h=Math.max.apply(Math,$jscomp.arrayFromIterable(d));d=Math.min.apply(Math,$jscomp.arrayFromIterable(d));f[g++]=(h+d)/2;d=[]}return f};Ra.prototype.__averagePeak=function(a,b){var c=0;a.forEach(function(d){return c+=Math.abs(d[b])});return c/a.length};$jscomp.global.Object.defineProperties(Ra.prototype,{native:{configurable:!0,enumerable:!0,get:function(){return this.mNativeBuffer}},offset:{configurable:!0,
enumerable:!0,get:function(){return this.mStartOffset}},duration:{configurable:!0,enumerable:!0,get:function(){return this.mDuration}},isSubClip:{configurable:!0,enumerable:!0,get:function(){return this.mIsSubClip}}});var Nb=function(a,b){a=N.call(this,J.SOUND,a)||this;if(!1===r.device.webAudioSupported)return a;if(!1===r.engine.hasSystem(la))return n.warn("[SoundAsset] Loading sound files without MasterAudio system."),a;a.mUrl=b;a.mXHR=null;return a};$jscomp.inherits(Nb,N);Nb.prototype.onLoaderRequested=
function(a){this.mXHR=a.get(pa.XHR,this.mUrl);this.mXHR.responseType="arraybuffer";this.addLoader(this.mXHR)};Nb.prototype.onAllLoaded=function(){var a=this;r.audio.context.decodeAudioData(this.mXHR.data,function(b){N.prototype.ready.call(a,new Ra(b))})};var lb=function(a,b){a=Ra.call(this,a)||this;a.mClips={};if(null!==b)for(var c in b.sounds)a.addSubSound(c,b.sounds[c][0],b.sounds[c][1]);return a};$jscomp.inherits(lb,Ra);lb.prototype.addSubSound=function(a,b,c){c=void 0===c?NaN:c;this.mClips[a]=
new Ra(this.native,void 0===b?0:b,c,!0);return this.mClips[a]};lb.prototype.removeSubSound=function(a){delete this.mClips[a]};lb.prototype.playSubSound=function(a,b,c,d,e){b=void 0===b?"master":b;c=void 0===c?1:c;d=void 0===d?!1:d;e=void 0===e?0:e;a=this.mClips[a];if(null==a)return null;a=new ta(a);a.channel=b;a.volume=c;a.loop=d;a.pan=e;return a._play()};$jscomp.global.Object.defineProperties(lb.prototype,{subSounds:{configurable:!0,enumerable:!0,get:function(){return this.mClips}}});var Ob=function(a,
b,c){a=N.call(this,J.SOUND_ATLAS,a)||this;a.mSoundUrl=b;a.mDataUrl=c;if(!1===r.device.webAudioSupported)return a;if(!1===r.engine.hasSystem(la))return n.warn("[SoundAsset] Loading sound files without MasterAudio system."),a;a.mAudioXHR=null;a.mDataXHR=null;return a};$jscomp.inherits(Ob,N);Ob.prototype.onLoaderRequested=function(a){this.mAudioXHR=a.get(pa.XHR,this.mSoundUrl);this.mAudioXHR.responseType="arraybuffer";this.addLoader(this.mAudioXHR);this.mDataXHR=a.get(pa.XHR,this.mDataUrl);this.mDataXHR.mimeType=
"application/json";this.mDataXHR.responseType="json";this.addLoader(this.mDataXHR)};Ob.prototype.onAllLoaded=function(){var a=this;r.audio.context.decodeAudioData(this.mAudioXHR.data,function(b){N.prototype.ready.call(a,new lb(b,a.mDataXHR.data))})};var I={LINE_STYLE:"lineStyle",FILL_STYLE:"fillStyle",ARC:"arc",RECT:"rect",ROUNDED_RECT:"roundedRect",BEZIER_CURVE_TO:"bezierCurveTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEGIN_PATH:"beginPath",CLOSE_PATH:"closePath",FILL:"fill",LINE_TO:"lineTo",MOVE_TO:"moveTo",
STROKE:"stroke",BOUNDS:"bounds",SHADOW_COLOR:"shadowColor",SHADOW_BLUR:"shadowBlur",LINE_DASH:"setLineDash",FILL_GRD:"gradientFillStyle",FILL_PATTERN:"patternFillStyle"},tb=function(a,b){this.type=a;this.data=b};tb.prototype.getNumber=function(a){return this.data[a]};tb.prototype.getString=function(a){return this.data[a]};tb.prototype.getBoolean=function(a){return this.data[a]};tb.prototype.getObject=function(a){return this.data[a]};var qc=function(){this.bounds=null;this.points=[];this.lastLineWidth=
this.maxLineWidth=0;this.lineMul=.5},Sa={BEVEL:"bevel",MITER:"miter",ROUND:"round"},Zb=function(){this.stops={};this.native=null};Zb.prototype.addColorStop=function(a,b){this.stops[a]=b;this.native=null};var Ta=function(a,b,c,d){var e=Zb.call(this)||this;e.x0=a;e.y0=b;e.x1=c;e.y1=d;e.isAbsolute=!1;return e};$jscomp.inherits(Ta,Zb);Ta.prototype.addColorStop=function(a,b){this.stops[a]=b;this.native=null};Ta.prototype.clone=function(){var a=new Ta(this.x0,this.y0,this.x1,this.y1);a.isAbsolute=this.isAbsolute;
for(var b in this.stops)a.stops[b]=this.stops[b];return a};var fb={NONE:"none",ROUND:"round",SQUARE:"square"},S=function(){this.mNodes=[];this.mTransform=new D;this.mCommandQueue=[];this.mPosY=this.mPosX=this.mPivotY=this.mPivotX=0;this.mName=null};S.prototype.onGetLocalBounds=function(a,b){var c=new qc,d=this.mCommandQueue.length;b=b.clone().append(this.mTransform);var e=b.data,f=Math.sqrt(e[0]*e[0]+e[1]*e[1]);e=Math.sqrt(e[2]*e[2]+e[3]*e[3]);for(var g=0;g<d;g++){var h=this.mCommandQueue[g];switch(h.type){case I.BEGIN_PATH:c.bounds&&
(b.transformRect(c.bounds,c.bounds),a.mLocalBounds=a.mLocalBounds?a.mLocalBounds.union(c.bounds):c.bounds);c=new qc;break;case I.BOUNDS:for(var l=0;l<h.data.length;l+=2)c.points.push(h.getNumber(l),h.getNumber(l+1));break;case I.LINE_STYLE:c.lastLineWidth=h.getNumber(0);h.getString(4)===Sa.MITER&&(c.lineMul=1);break;case I.FILL:0!==c.points.length&&(h=z.fromPointsXY(c.points),c.bounds=c.bounds?c.bounds.union(h):h);break;case I.STROKE:c.lastLineWidth>c.maxLineWidth&&(c.maxLineWidth=c.lastLineWidth),
0===c.maxLineWidth&&(c.maxLineWidth=1),c.maxLineWidth*=c.lineMul,0!==c.points.length&&(h=z.fromPointsXY(c.points),1<c.points.length&&h.inflate(c.maxLineWidth*f,c.maxLineWidth*e),c.bounds=c.bounds?c.bounds.union(h):h)}}c.bounds&&(b.transformRect(c.bounds,c.bounds),a.mLocalBounds=a.mLocalBounds?a.mLocalBounds.union(c.bounds):c.bounds);c=0;for(d=this.mNodes.length;c<d;c++)this.mNodes[c].onGetLocalBounds(a,b);return a.mLocalBounds};S.prototype.lineStyle=function(a,b,c,d,e,f){a=void 0===a?0:a;b=void 0===
b?0:b;c=void 0===c?1:c;d=void 0===d?fb.NONE:d;e=void 0===e?Sa.MITER:e;f=void 0===f?3:f;n.isNumber(a,b,c,f);0>=a||this.__pushCommand(I.LINE_STYLE,a,b,c,d,e,f)};S.prototype.shadowBlur=function(a){n.isNumber(a);this.__pushCommand(I.SHADOW_BLUR,a)};S.prototype.shadowColor=function(a,b){n.isNumber(a,b);this.__pushCommand(I.SHADOW_COLOR,a,b)};S.prototype.fillStyle=function(a,b){a=void 0===a?0:a;b=void 0===b?1:b;n.isNumber(a,b);this.__pushCommand(I.FILL_STYLE,a,b)};S.prototype.fillGradient=function(a){a instanceof
Ta&&this.__pushCommand(I.FILL_GRD,a)};S.prototype.fillPattern=function(a){this.__pushCommand(I.FILL_PATTERN,a)};S.prototype.clear=function(){this.mPosY=this.mPosX=0;this.mCommandQueue=[];this.mNodes=[];this.beginPath()};S.prototype.moveTo=function(a,b){this.mPosX=a;this.mPosY=b;this.__pushCommand(I.MOVE_TO,a,b)};S.prototype.lineTo=function(a,b){this.mPosX=a;this.mPosY=b;this.__pushCommand(I.LINE_TO,a,b);this.__pushCommand(I.BOUNDS,this.mPosX,this.mPosY,a,b)};S.prototype.arc=function(a,b,c,d,e,f){f=
void 0===f?!1:f;var g=!1,h=0,l=0,p=[];if(d!==e){if(Math.abs(d-e)>=w.PI2)p.push(a-c,b-c,a+c,b+c),l=ia.getCircumferencePoint(a,b,c,e+.5*Math.PI),g=!0,e=d+w.PI2,h=l.x,l=l.y;else{var t=d%w.PI2+(0>d?w.PI2:0),m=e;f&&(m=t,t=e);for(;m<t;)m+=w.PI2;var v=0===t||m>=w.PI2,u=t<=Math.PI&&m>=Math.PI||m>=3*Math.PI,y=t<=.5*Math.PI&&m>=.5*Math.PI||m>=2.5*Math.PI,G=t<=1.5*Math.PI&&m>=1.5*Math.PI||m>=3.5*Math.PI;if(!u||!v){var H=Math.cos(t)*c;var W=Math.cos(m)*c}if(!G||!y){var sa=Math.sin(t)*c;var wa=Math.sin(m)*c}p.push((u?
-c:Math.min(H,W))+a,(G?-c:Math.min(sa,wa))+b,(v?c:Math.max(H,W))+a,(y?c:Math.max(sa,wa))+b)}this.__pushCommand(I.ARC,a,b,c,d,e,f);this.__pushCommand.apply(this,[I.BOUNDS].concat($jscomp.arrayFromIterable(p)));!0===g&&this.__pushCommand(I.MOVE_TO,h,l)}};S.prototype.circle=function(a,b,c){this.__pushCommand(I.ARC,a,b,c,0,w.PI2);this.__pushCommand(I.BOUNDS,a-c,b-c,a+c,b+c)};S.prototype.rect=function(a,b,c,d){n.isNumber(a,b,c,d);this.__pushCommand(I.RECT,a,b,c,d);this.__pushCommand(I.BOUNDS,a,b,a+c,b+
d)};S.prototype.roundedRect=function(a,b,c,d,e){n.isNumber(a,b,c,d,e);this.__pushCommand(I.ROUNDED_RECT,a,b,c,d,e);this.__pushCommand(I.BOUNDS,a,b,a+c,b+d)};S.prototype.bezierCurveTo=function(a,b,c,d,e,f){var g=this.__bezierRange(this.mPosX,a,c,e,q.pool.get()),h=this.__bezierRange(this.mPosY,b,d,f,q.pool.get());this.mPosX=e;this.mPosY=f;this.__pushCommand(I.BEZIER_CURVE_TO,a,b,c,d,e,f);this.__pushCommand(I.BOUNDS,g.x,h.x,g.y,h.y);q.pool.release(g);q.pool.release(h)};S.prototype.quadraticCurveTo=function(a,
b,c,d){var e=this.__quadraticRange(this.mPosX,a,c,q.pool.get()),f=this.__quadraticRange(this.mPosY,b,d,q.pool.get());this.mPosX=c;this.mPosY=d;this.__pushCommand(I.QUADRATIC_CURVE_TO,a,b,c,d);this.__pushCommand(I.BOUNDS,e.x,f.x,e.y,f.y);q.pool.release(e);q.pool.release(f)};S.prototype.__bezierRange=function(a,b,c,d,e){e=e||new q;var f=c-2*b+a-(d-2*c+b),g=2*(b-a)-2*(c-b),h=g*g-4*f*(a-b),l=Math.min(a,d),p=Math.max(a,d);if(0<=h){h=Math.sqrt(h);var t=1/(2*f);f=(-g+h)*t;g=(-g-h)*t;f=isFinite(f)?f:.5;g=
isFinite(g)?g:.5;0<f&&1>f&&(h=this.__bezierDot(a,b,c,d,f),l=Math.min(h,l),p=Math.max(h,p));0<g&&1>g&&(a=this.__bezierDot(a,b,c,d,g),l=Math.min(a,l),p=Math.max(a,p))}e.x=l;e.y=p;return e};S.prototype.__bezierDot=function(a,b,c,d,e){var f=1-e;return a*f*f*f+3*b*e*f*f+3*c*e*e*f+d*e*e*e};S.prototype.__quadraticRange=function(a,b,c,d){var e=c-a;b-=a;var f=b/e;e=a+(0>f||1<f?b*b/(2*b-e):0);d.x=Math.min(a,c,e);d.y=Math.max(a,c,e);return d};S.prototype.beginPath=function(){this.__pushCommand(I.BEGIN_PATH)};
S.prototype.closePath=function(){this.__pushCommand(I.CLOSE_PATH)};S.prototype.setLineDash=function(a){this.__pushCommand(I.LINE_DASH,a)};S.prototype.stroke=function(){this.__pushCommand(I.STROKE)};S.prototype.fill=function(a){this.__pushCommand(I.FILL,a)};S.prototype.__pushCommand=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=new tb(a,c);this.mCommandQueue.push(c)};S.prototype.searchNode=function(a,b){b=void 0===b?this:b;if(b.name===a)return b;for(var c=0,d=b.mNodes.length;c<
d;c++){var e=this.searchNode(a,b.mNodes[c]);if(e)return e}};$jscomp.global.Object.defineProperties(S.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.mName},set:function(a){this.mName=a}}});var $b=function(){this.data=null};$b.prototype.parse=function(a){this.data=a;return null};var Pb=function(a,b){this.image=a;this.repetition=b;this.native=null};Pb.prototype.clone=function(){return new Pb(this.image,this.repetition)};var Qb={NONE_ZERO:"nonzero",EVEN_ODD:"evenodd"},mb=function(){this.L=
"-";this.w=this.l=1;this.F="0";this.r=this.f=1;this.c="b";this.j="m";this.m=4;this.a=1;this.d="";this.needsFill=!0;this.needsStroke=!1;this.fillColor=0;this.fillAlpha=1;this.lineColor=0;this.lineWidth=this.lineAlpha=1;this.lineCap=fb.NONE;this.lineJoin=Sa.MITER;this.miterLimit=this.m;this.fillRule=Qb.NONE_ZERO;this.lineDash=[]};mb.prototype.merge=function(a){a.F&&(this.F=a.F);a.L&&(this.L=a.L);a.w&&(this.w=a.w);a.l&&(this.l*=a.l);a.f&&(this.f*=a.f);a.r&&(this.r=a.r);a.c&&(this.c=a.c);a.j&&(this.j=
a.j);a.m&&(this.m=a.m);a.a&&(this.a=a.a);a.d&&(this.d=a.d)};mb.prototype.compute=function(){if(this.needsFill="-"!==this.F)this.fillColor=parseInt(this.F,16);this.lineWidth=+this.w;if(this.needsStroke="-"!==this.L&&0<this.lineWidth)this.lineColor=parseInt(this.L,16);var a=Number(this.a);this.lineAlpha=Number(this.l)*a;this.fillAlpha=Number(this.f)*a;this.lineCap={b:fb.NONE,r:fb.ROUND,s:fb.SQUARE}[this.c];this.lineJoin={m:Sa.MITER,r:Sa.ROUND,b:Sa.BEVEL}[this.j];this.miterLimit=Number(this.m);this.fillRule=
{1:Qb.NONE_ZERO,0:Qb.EVEN_ODD}[this.r];this.lineDash=this.d.split(",").map(function(b){return Number(b)})};mb.prototype.clone=function(){var a=new mb;a.L=this.L;a.l=this.l;a.w=this.w;a.F=this.F;a.f=this.f;a.r=this.r;a.c=this.c;a.j=this.j;a.m=this.m;a.a=this.a;return a};var Z=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;var c=da.call(this)||this;c.mBounds=new z;c.mLocalBounds=null;c.mGraphicsData=null;c.mDataOffsetX=0;c.mDataOffsetY=0;c.mTrim=b;c.mGraphicsData=null===a?new S:"string"===typeof a?
r.assets.getGraphicsData(a):a;b&&(c.mGraphicsData.onGetLocalBounds(c,new D),c.mLocalBounds&&(c.mDataOffsetX=c.mLocalBounds.x,c.mDataOffsetY=c.mLocalBounds.y,c.mLocalBounds=null));return c};$jscomp.inherits(Z,da);Z.prototype.getRenderer=function(){return r.driver.getRenderer("Graphics",this)};Z.prototype.onGetLocalBounds=function(a){a=a||new z;if(null!==this.mClipRect)return this.mClipRect.copyTo(a),a;this.mGraphicsData.onGetLocalBounds(this,new D);this.mLocalBounds&&a.copyFrom(this.mLocalBounds);
this.mLocalBounds=null;this.mTrim||(a.width+=Math.max(0,a.x),a.height+=Math.max(0,a.y),a.x=Math.min(0,a.x),a.y=Math.min(0,a.y));return a};Z.prototype.lineStyle=function(a,b,c,d,e,f){d=void 0===d?fb.NONE:d;e=void 0===e?Sa.MITER:e;this.mGraphicsData.lineStyle(void 0===a?0:a,void 0===b?0:b,void 0===c?1:c,d,e,void 0===f?3:f)};Z.prototype.shadowBlur=function(a){this.mGraphicsData.shadowBlur(a)};Z.prototype.shadowColor=function(a,b){this.mGraphicsData.shadowColor(a,void 0===b?1:b)};Z.prototype.fillStyle=
function(a,b){this.mGraphicsData.fillStyle(void 0===a?0:a,void 0===b?1:b)};Z.prototype.fillGradient=function(a){this.mGraphicsData.fillGradient(a)};Z.prototype.fillPattern=function(a){this.mGraphicsData.fillPattern(a)};Z.prototype.clear=function(){this.mBounds.zero();this.mGraphicsData.clear();this.setTransformDirty()};Z.prototype.moveTo=function(a,b){this.mGraphicsData.moveTo(a,b)};Z.prototype.lineTo=function(a,b){this.mGraphicsData.lineTo(a,b)};Z.prototype.arc=function(a,b,c,d,e,f){this.mGraphicsData.arc(a,
b,c,d,e,void 0===f?!1:f)};Z.prototype.circle=function(a,b,c){this.mGraphicsData.circle(a,b,c)};Z.prototype.rect=function(a,b,c,d){this.mGraphicsData.rect(a,b,c,d)};Z.prototype.roundedRect=function(a,b,c,d,e){this.mGraphicsData.roundedRect(a,b,c,d,e)};Z.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.mGraphicsData.bezierCurveTo(a,b,c,d,e,f)};Z.prototype.quadraticCurveTo=function(a,b,c,d){this.mGraphicsData.quadraticCurveTo(a,b,c,d)};Z.prototype.beginPath=function(){this.mGraphicsData.beginPath()};
Z.prototype.closePath=function(){this.mGraphicsData.closePath()};Z.prototype.setLineDash=function(a){this.mGraphicsData.setLineDash(a)};Z.prototype.stroke=function(){this.mGraphicsData.stroke();this.setTransformDirty()};Z.prototype.fill=function(a){this.mGraphicsData.fill(void 0===a?!0:a);this.setTransformDirty()};Z.prototype.createLinearGradient=function(a,b,c,d){return new Ta(a,b,c,d)};var xa=function(){this.data=null;this._defs={};return this};$jscomp.inherits(xa,$b);xa.prototype.parse=function(a){$b.prototype.parse.call(this,
a);var b=this.__parseStyles(a.styles);this._defs={};this.__parseDefs(a.defs,this._defs);return this.__traverse(a,b,new S,new mb)};xa.prototype.__traverse=function(a,b,c,d){var e=this,f=this._defs,g=new S,h=d.clone();c.mNodes.push(g);a.id&&(g.name=a.id);if(c=a.t){var l=c[0]||0,p=c[1]||0,t=c[2]||1,m=c[3]||1,v=c[5]||0,u=c[6]||0;g.mTransform.rotate(c[4]||0);g.mTransform.scale(t,m);g.mTransform.skew(c[7]||0,c[8]||0);g.mTransform.data[4]=l+v/t;g.mTransform.data[5]=p+u/m;g.mPivotX=v;g.mPivotY=u}if(a.cmds)for(c=
a.cmds.split("$").filter(function(wa){return wa}).reverse(),l=new z,p="";0<c.length;){v=c.pop();t=v[0];m=v.slice(1).split(",").map(function(wa){return Number(wa)});g.beginPath();"S"!==p&&"S"!==t&&(g.fillStyle(0,1),g.lineStyle(1,0,1,fb.NONE,Sa.MITER,4));p=t;switch(t){case "S":m=b[m[0]];h=d.clone();h.merge(m);h.compute();break;case "p":this.__drawPath(v,g);break;case "r":v=m[0];u=m[1];var y=m[2],G=m[3],H=(void 0===m[4]?m[5]:m[4])||0,W=(void 0===m[5]?m[4]:m[5])||0;l.set(v,u,y,G);0!==H&&0!==W?(g.moveTo(v,
u+W),g.quadraticCurveTo(v,u,v+H,u),g.lineTo(v+y-H,u),g.quadraticCurveTo(v+y,u,v+y,u+W),g.lineTo(v+y,u+G-W),g.quadraticCurveTo(v+y,u+G,v+y-H,u+G),g.lineTo(v+H,u+G),g.quadraticCurveTo(v,u+G,v,u+G-W),g.closePath()):g.rect(m[0],m[1],m[2],m[3]);break;case "c":v=2*m[2];l.set(0,0,v,v);g.circle(m[0],m[1],m[2]);break;case "e":v=m[0];u=m[1];y=m[2];G=m[3];m=this.__arcToBezier(v-y,u,y,G,0,0,0,v+y,u);G=this.__arcToBezier(v+y,u,y,G,0,0,0,v-y,u);m=[].concat($jscomp.arrayFromIterable(m),$jscomp.arrayFromIterable(G));
g.moveTo(v-y,u);v=0;for(u=m.length;v<u;v++)y=m[v],g.bezierCurveTo(y[2],y[3],y[4],y[5],y[6],y[7]);break;case "l":v=m[2];u=m[3];g.moveTo(m[0],m[1]);g.lineTo(v,u);break;case "s":case "g":m=v.slice(1).split(",").map(function(wa){return Number(wa)});g.moveTo(m[0],m[1]);v=2;for(u=m.length;v<u;v+=2)g.lineTo(m[v],m[v+1]);"g"===t&&g.closePath()}if(h.needsFill&&"S"!==t){if(this.__isRef(h.F))if(t=f[h.F.slice(1)].clone(),t instanceof Pb)g.fillPattern(t);else{if(t instanceof Ta){t.isAbsolute||(t.x0*=l.width,t.x1*=
l.width,t.y0*=l.height,t.y1*=l.height);for(var sa in t.stops)t.stops[sa]=x.intToRGBA(parseInt(t.stops[sa].slice(1),16),h.fillAlpha);g.fillGradient(t)}}else g.fillStyle(h.fillColor,h.fillAlpha);g.fill(h.fillRule===Qb.NONE_ZERO)}h.needsStroke&&(g.lineStyle(h.lineWidth,h.lineColor,h.lineAlpha,h.lineCap,h.lineJoin,h.miterLimit),g.setLineDash(h.lineDash),g.stroke())}a.nodes&&a.nodes.forEach(function(wa){e.__traverse(wa,b,g,h)});return g};xa.prototype.__isRef=function(a){return 0===a.indexOf("$")};xa.prototype.__parseDefs=
function(a,b){if(!a)return b;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if("string"===typeof d)switch(d.charAt(0)){case "R":d=d.slice(1).split(" ");var e=d[0].split(",").map(function(p){return parseFloat(p)}),f=new Ta(e[0],e[1],e[2],e[3]);f.isAbsolute=0===e[4];b[c]=f;e=1;for(var g=d.length;e<g;e++){var h=d[e].split(","),l="#"+h[1];f.addColorStop(parseFloat(h[0]),l)}}else f=this.__parseStyles(d.s),f=this.__traverse(d,f,new S,new mb),f=new Z(f),e=new db(f.width,f.height,r.driver.renderScaleFactor),
r.driver.render(f,e,new D),b[c]=new Pb(e.native,d.r)}return b};xa.prototype.__parseStyles=function(a){return a?a.map(function(b){var c={};b.split(" ").forEach(function(d){c[d[0]]=d.slice(1)});return c}):[]};xa.prototype.__drawPath=function(a,b){var c=[];a.split(",").map(function(Ja){for(;0!==Ja.length;){var rc=parseFloat(Ja);if(isNaN(rc))c.push(Ja.charAt(0)),Ja=Ja.slice(1);else{c.push(rc);for(var sc=1;;sc++)if(parseFloat(Ja.slice(0,sc))===rc){Ja=Ja.slice(sc);break}}}});c.reverse();for(var d=a=0,e=
0,f=0,g=0,h=0,l=0,p=0,t="",m=0,v=0;0!==c.length;){var u=c[c.length-1];t=u=u===u.toString()?c.pop():t;m=v=0;u===u.toLowerCase()&&(m=a,v=d);switch(u){case "M":case "m":a=c.pop()+m;d=c.pop()+v;b.moveTo(a,d);e=a;f=d;break;case "L":case "l":a=c.pop()+m;d=c.pop()+v;b.lineTo(a,d);break;case "V":case "v":d=c.pop()+v;b.lineTo(a,d);break;case "H":case "h":a=c.pop()+m;b.lineTo(a,d);break;case "C":case "c":g=c.pop()+m;var y=c.pop()+v,G=c.pop()+m;h=c.pop()+v;a=c.pop()+m;d=c.pop()+v;b.bezierCurveTo(g,y,G,h,a,d);
g=2*a-G;h=2*d-h;break;case "S":case "s":y=c.pop()+m;G=c.pop()+v;a=c.pop()+m;d=c.pop()+v;b.bezierCurveTo(g,h,y,G,a,d);g=2*a-y;h=2*d-G;break;case "Q":case "q":l=c.pop()+m;p=c.pop()+v;a=c.pop()+m;d=c.pop()+v;b.quadraticCurveTo(l,p,a,d);l=2*a-l;p=2*d-p;break;case "T":case "t":a=c.pop()+m;d=c.pop()+v;b.quadraticCurveTo(l,p,a,d);l=2*a-l;p=2*d-p;break;case "A":case "a":y=a;G=d;var H=c.pop(),W=c.pop(),sa=c.pop(),wa=c.pop(),tc=c.pop();a=c.pop()+m;d=c.pop()+v;m=this.__arcToBezier(y,G,H,W,sa,wa,tc,a,d);if(!m)break;
v=0;for(y=m.length;v<y;v++)G=m[v],b.bezierCurveTo(G[2],G[3],G[4],G[5],G[6],G[7]);break;case "Z":b.closePath(),a=e,d=f}"C"!==u&&"c"!==u&&"S"!==u&&"s"!==u&&(g=a,h=d);"Q"!==u&&"q"!==u&&"T"!==u&&"t"!==u&&(l=a,p=d)}};xa.prototype.__approxUnitArc=function(a,b){var c=4/3*Math.tan(b/4),d=Math.cos(a),e=Math.sin(a),f=Math.cos(a+b);a=Math.sin(a+b);return[d,e,d-e*c,e+d*c,f+a*c,a-f*c,f,a]};xa.prototype.__vectorAngle=function(a,b,c,d){var e=0>a*d-b*c?-1:1;a=w.clamp(a*c+b*d,-1,1);return e*Math.acos(a)};xa.prototype.__getArcCenter=
function(a,b,c,d,e,f,g,h,l,p){var t=p*(a-c)/2+l*(b-d)/2,m=-l*(a-c)/2+p*(b-d)/2,v=g*g,u=h*h,y=t*t,G=m*m,H=Math.max(0,v*u-v*G-u*y);H=Math.sqrt(H/(v*G+u*y))*(e===f?-1:1);e=H*g/h*m;H=H*-h/g*t;a=p*e-l*H+(a+c)/2;b=l*e+p*H+(b+d)/2;d=(t-e)/g;l=(m-H)/h;g=(-t-e)/g;m=(-m-H)/h;h=this.__vectorAngle(1,0,d,l);m=this.__vectorAngle(d,l,g,m);0===f&&0<m&&(m-=2*Math.PI);1===f&&0>m&&(m+=2*Math.PI);return[a,b,h,m]};xa.prototype.__arcToBezier=function(a,b,c,d,e,f,g,h,l){var p=Math.sin(e*Math.PI/180),t=Math.cos(e*Math.PI/
180);e=t*(a-h)/2+p*(b-l)/2;var m=-p*(a-h)/2+t*(b-l)/2;if((0!==e||0!==m)&&0!==c&&0!==d){c=Math.abs(c);d=Math.abs(d);e=e*e/(c*c)+m*m/(d*d);1<e&&(e=Math.sqrt(e),c*=e,d*=e);var v=this.__getArcCenter(a,b,h,l,f,g,c,d,p,t);a=[];b=v[2];f=v[3];g=Math.max(Math.ceil(Math.abs(f)/(.5*Math.PI)),1);f/=g;for(h=0;h<g;h++)a.push(this.__approxUnitArc(b,f)),b+=f;return a.map(function(u){for(var y=0;y<u.length;y+=2){var G=u[y]*c,H=u[y+1]*d,W=p*G+t*H;u[y]=t*G-p*H+v[0];u[y+1]=W+v[1]}return u})}};var Rb=function(a,b){a=
N.call(this,J.VECTOR_GRAPHICS,a)||this;a.mUrl=b;a.mGraphicsData=null;a.mXHR=null;return a};$jscomp.inherits(Rb,N);Rb.prototype.onLoaderRequested=function(a){this.mXHR=a.get(pa.XHR,this.mUrl);this.mXHR.mimeType="application/json";this.mXHR.responseType="json";this.addLoader(this.mXHR)};Rb.prototype.onAllLoaded=function(){var a=this.mXHR.data;this.mGraphicsData=(new xa).parse(a);this.mGraphicsData.name=this.name;N.prototype.ready.call(this,this.mGraphicsData)};var ub=function(a,b,c,d,e){a=N.call(this,
J.VECTOR_TEXTURE,a)||this;a.mUrl=b;a.mBakeSelf=c;a.mBakeChildren=d;a.mNamesToBake=d&&e?e:[];a.mGraphicsData=null;a.mXHR=null;return a};$jscomp.inherits(ub,N);ub.prototype.onLoaderRequested=function(a){this.mXHR=a.get(pa.XHR,this.mUrl);this.mXHR.mimeType="application/json";this.mXHR.responseType="json";this.addLoader(this.mXHR)};ub.prototype.onAllLoaded=function(){var a=this.mXHR.data;this.mGraphicsData=(new xa).parse(a);this.mGraphicsData.name=this.name;a=this.bakeTextures();var b=[],c;for(c in a)a.hasOwnProperty(c)&&
b.push({name:c,data:a[c]});N.prototype.ready.call(this,b)};ub.prototype.bakeTextures=function(){var a={},b=this.mNamesToBake;if(this.mBakeChildren&&0===b.length){var c=function(p){if(0!==p.length)for(var t=0,m=p.length;t<m;t++)p[t].name&&b.push(p[t].name),c(p[t].mNodes)};c(this.mGraphicsData.mNodes)}this.mBakeSelf&&b.unshift(this.mGraphicsData.name);for(var d=0,e=b.length;d<e;d++){var f=b[d],g=this.mGraphicsData.searchNode(f);if(g){g=new Z(g,f!==this.mGraphicsData.name);var h=1/r.driver.renderScaleFactor,
l=new db(g.width,g.height,1);r.driver.render(g,l,(new D).scale(h,h));a[f]=l}else n.warn("[BVGAsset] GraphicsData node with id '"+f+"' not found.")}return a};var nb={NONE:"none",LOADING:"loading",FINISHED:"finished"},$c=function(a){this.mAssetManager=a};$c.prototype.get=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];return new (Function.prototype.bind.apply(this.mAssetManager.mLoaderTypeMap[a],[null,b].concat($jscomp.arrayFromIterable(d))))};var R=function(){var a=M.call(this)||
this;null===r.assets&&(r.assets=a);a.mDefaultPath="";a.mTotalLoaded=0;a.mTotalPending=0;a.mTotalErrors=0;a.mIsAllLoaded=!1;a.mLoadingProgress=0;a.mQueue=[];a.mLoadersQueue={};a.mState=nb.NONE;a.mLoaderFactory=new $c(a);a.mAssets={};a.mAssetTypeMap={};a.mLoaderTypeMap={};a.registerDefaultTypes();return a};$jscomp.inherits(R,M);R.prototype.registerDefaultTypes=function(){this.mAssetTypeMap[J.TEXTURE]=Ib;this.mAssetTypeMap[J.TEXTURE_ATLAS]=Mb;this.mAssetTypeMap[J.VECTOR_GRAPHICS]=Rb;this.mAssetTypeMap[J.VECTOR_TEXTURE]=
ub;this.mAssetTypeMap[J.FONT]=Lb;this.mAssetTypeMap[J.BITMAP_FONT]=kb;this.mAssetTypeMap[J.XML]=Kb;this.mAssetTypeMap[J.JSON]=Jb;this.mAssetTypeMap[J.SOUND]=Nb;this.mAssetTypeMap[J.SOUND_ATLAS]=Ob;this.mLoaderTypeMap[pa.FONT_FACE]=eb;this.mLoaderTypeMap[pa.IMAGE]=Gb;this.mLoaderTypeMap[pa.XHR]=Hb};R.prototype.setAssetType=function(a,b){this.mAssetTypeMap[a]=b};R.prototype.setLoaderType=function(a,b){this.mLoaderTypeMap[a]=b};R.prototype.enqueueAsset=function(a,b){this.__validateState();this.__validateName(b.type,
a);this.mQueue.push(b)};R.prototype.__getAsset=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return new (Function.prototype.bind.apply(this.mAssetTypeMap[a],[null].concat($jscomp.arrayFromIterable(c))))};R.prototype.addTexture=function(a,b){this.mTextures[a]=b};R.prototype.enqueueImage=function(a,b){this.enqueueAsset(a,this.__getAsset(J.TEXTURE,a,this.mDefaultPath+b))};R.prototype.enqueueAtlas=function(a,b,c){this.enqueueAsset(a,this.__getAsset(J.TEXTURE_ATLAS,a,this.mDefaultPath+
b,this.mDefaultPath+c))};R.prototype.enqueueBitmapFont=function(a,b,c){this.enqueueAsset(a,this.__getAsset(J.BITMAP_FONT,a,this.mDefaultPath+b,this.mDefaultPath+c))};R.prototype.enqueueXML=function(a,b){this.enqueueAsset(a,this.__getAsset(J.XML,a,this.mDefaultPath+b))};R.prototype.enqueueJSON=function(a,b){this.enqueueAsset(a,this.__getAsset(J.JSON,a,this.mDefaultPath+b))};R.prototype.enqueueVector=function(a,b){this.enqueueAsset(a,this.__getAsset(J.VECTOR_GRAPHICS,a,this.mDefaultPath+b))};R.prototype.enqueueVectorTexture=
function(a,b,c,d,e){c=void 0===c?!1:c;d=void 0===d?!1:d;!0!==c&&!0!==d||this.enqueueAsset(a,this.__getAsset(J.VECTOR_TEXTURE,a,this.mDefaultPath+b,c,d,void 0===e?null:e))};R.prototype.enqueueSound=function(a,b){this.enqueueAsset(a,this.__getAsset(J.SOUND,a,this.mDefaultPath+b))};R.prototype.enqueueSoundAtlas=function(a,b,c){this.enqueueAsset(a,this.__getAsset(J.SOUND_ATLAS,a,this.mDefaultPath+b,this.mDefaultPath+c))};R.prototype.enqueueFont=function(a,b){this.enqueueAsset(a,this.__getAsset(J.FONT,
a,this.mDefaultPath+b,!0))};R.prototype.enqueueGoogleFont=function(a){this.enqueueAsset(a,this.__getAsset(J.FONT,a,"",!1))};R.prototype.loadQueue=function(){this.__validateState();if(0===this.mQueue.length)this.post(O.COMPLETE);else{this.mState=nb.LOADING;for(var a=0;a<this.mQueue.length;a++){var b=this.mQueue[a];b.onLoaderRequested(this.mLoaderFactory);0<b.loaders.length&&(b.once(O.COMPLETE,this.onAssetLoaded,this),b.once(O.ERROR,this.onAssetError,this),this.mTotalPending++,b.loaders.forEach(function(c){c.load()}))}}};
R.prototype.onAssetLoaded=function(a){var b=this;this.mTotalLoaded++;this.mLoadingProgress=this.mTotalLoaded/this.mTotalPending;var c=a.sender;c.off(O.COMPLETE,O.ERROR);null==this.mAssets[c.type]&&(this.mAssets[c.type]={});Array.isArray(c.data)?c.data.forEach(function(d){b.__validateName(d.name);b.mAssets[c.type][d.name]=d.data}):this.mAssets[c.type][c.name]=c.data;this.post(O.PROGRESS,this.mLoadingProgress);this.mTotalLoaded===this.mTotalPending&&(this.mQueue.splice(0,this.mQueue.length),this.mLoadersQueue=
{},this.mState=nb.FINISHED,this.mTotalPending=this.mTotalErrors=this.mTotalLoaded=0,this.mIsAllLoaded=!0,this.post(O.COMPLETE))};R.prototype.onAssetError=function(a){this.mTotalErrors++;var b=this.mTotalLoaded+this.mTotalErrors;this.mLoadingProgress=this.mTotalLoaded/this.mTotalPending;a=a.sender;a.off(O.COMPLETE,O.ERROR);n.warn("[AssetManager] Error loading asset '"+a.name+"'.");this.post(O.ERROR,a);b===this.mTotalPending&&(this.mQueue.splice(0,this.mQueue.length),this.mLoadersQueue={},this.mState=
nb.FINISHED,this.mTotalPending=this.mTotalErrors=this.mTotalLoaded=0,this.mIsAllLoaded=!0,this.post(O.COMPLETE))};R.prototype.getBitmapFont=function(a){var b=this.mAssets[J.BITMAP_FONT][a];if(null!=b)return b;n.warn("[AssetManager] BitmapFontData '"+a+"' was not found.");return null};R.prototype.getTexture=function(a){var b=this.mAssets[J.TEXTURE];if(null!=b&&(b=b[a],null!=b))return b;b=this.mAssets[J.TEXTURE_ATLAS];if(null!=b)for(var c in b){var d=b[c].subTextures[a];if(null!=d)return d}c=this.mAssets[J.VECTOR_TEXTURE];
if(null!=c&&(c=c[a],null!=c))return c;c=this.mAssets[J.VECTOR_TEXTURE_ATLAS];if(null!=c)for(var e in c)if(b=c[e].subTextures[a],null!=b)return b;n.warn("[AssetManager] Texture '"+a+"' was not found.");return null};R.prototype.getGraphicsData=function(a){var b=this.mAssets[J.VECTOR_GRAPHICS];if(null==b)return null;var c=b[a];if(c)return c;for(var d in b)if(c=b[d].searchNode(a))return c;n.warn("[AssetManager] GraphicsData '"+a+"' was not found.");return null};R.prototype.getTextures=function(a){var b=
this.mAssets[J.TEXTURE],c=this.mAssets[J.TEXTURE_ATLAS],d=this.mAssets[J.VECTOR_TEXTURE],e=this.mAssets[J.VECTOR_TEXTURE_ATLAS],f=[],g=[];a=new RegExp("^"+a.split("*").join(".*")+"$");if(null!=b)for(var h in b)a.test(h)&&g.push({name:h,atlas:null,isBakedVector:!1});if(null!=d)for(var l in d)a.test(l)&&g.push({name:l,atlas:null,isBakedVector:!0});if(null!=c)for(var p in c){h=c[p];for(var t in h.subTextures)a.test(t)&&g.push({name:t,atlas:h,isBakedVector:!1})}if(null!=e)for(var m in e){c=e[m];for(var v in c.subTextures)a.test(v)&&
g.push({name:v,atlas:c,isBakedVector:!0})}Ea.naturalSort(g,"name");for(e=0;e<g.length;e++)m=g[e],null===m.atlas?!0===m.isBakedVector?f.push(d[m.name]):f.push(b[m.name]):f.push(m.atlas.mSubTextures[m.name]);return 0<f.length?f:null};R.prototype.getAtlas=function(a){var b=this.mAssets[J.TEXTURE_ATLAS];if(null==b)return null;if(null!=b[a])return b[a];n.warn("[AssetManager] Atlas '"+a+"' was not found.");return null};R.prototype.getSound=function(a){var b=this.mAssets[J.SOUND],c=this.mAssets[J.SOUND_ATLAS];
if(null!=b&&(b=b[a],null!=b))return b;if(null!=c)for(var d in c)if(b=c[d].subSounds[a],null!=b)return b;n.warn("[AssetManager] Sound '"+a+"' was not found.");return null};R.prototype.getSoundAtlas=function(a){return null==this.mAssets[J.SOUND_ATLAS]?null:this.mAssets[J.SOUND_ATLAS][a]};R.prototype.getJSON=function(a){return null==this.mAssets[J.JSON]?null:this.mAssets[J.JSON][a]};R.prototype.getCustomAsset=function(a,b){return null==this.mAssets[a]?null:this.mAssets[a][b]};R.prototype.__validateState=
function(){n.assert(this.mState===nb.NONE||this.mState===nb.FINISHED,"Illegal state.")};R.prototype.__validateName=function(a,b){null!=this.mAssets[a]&&n.assert(null==this.mAssets[a][b],"Asset with such name is already added.")};R.prototype.dispose=function(){this.mQueue.forEach(function(a){a.abort()})};$jscomp.global.Object.defineProperties(R.prototype,{defaultPath:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultPath},set:function(a){this.mDefaultPath=a}},isAllLoaded:{configurable:!0,
enumerable:!0,get:function(){return this.mIsAllLoaded}},numErrors:{configurable:!0,enumerable:!0,get:function(){return this.mTotalErrors}},state:{configurable:!0,enumerable:!0,get:function(){return this.mState}},path:{configurable:!0,enumerable:!0,get:function(){return"AssetManager"}}});var ac=function(){this.parentRenderers=[];this.endPassParentRenderers=[];this.isBackBufferActive=!0;this.customTransform=null};ac.prototype.reset=function(){this.parentRenderers.splice(0,this.parentRenderers.length);
this.endPassParentRenderers.splice(0,this.endPassParentRenderers.length);this.isBackBufferActive=!0;this.customTransform=null};var Ka=function(){var a=K.call(this)||this;a.texture=null;a.mTransformCache=new D;a.mTransform=null;a.mUseTransformCache=!1;a.mCanvas=document.createElement("canvas");a.mContext=a.mCanvas.getContext("2d");a.mContext.lineJoin="round";a.mContext.miterLimit=2;a.mMetrics=null;return a};$jscomp.inherits(Ka,K);Ka.prototype.preRender=function(a,b){this.endPassRequired=null!==this.gameObject.mClipRect&&
!1===this.gameObject.mClipRect.isEmpty;this.skipChildren=!(0<this.gameObject.mAlpha&&!0===this.gameObject.mVisible);this.skipSelf=!0===this.skipChildren};Ka.prototype.upload=function(a,b){b=this.gameObject;b.mDirty&16&&(b.onGetLocalBounds(),this.mMetrics=b.mMetrics);(b.mDirty&16||b.mDirty&8)&&this.updateTransform();this.mTransform=!0===this.mUseTransformCache?this.mTransformCache:this.gameObject.worldTransformation;a.setSnapToPixels(b.snapToPixels);a.setTransform(this.mTransform);a.setGlobalAlpha(this.alpha);
a.setGlobalBlendMode(this.blendMode);!0===this.endPassRequired&&a.beginClip(b.mClipRect,b.mPivotX,b.mPivotY)};Ka.prototype.renderSegment=function(a,b,c,d,e,f){d=this.gameObject;var g=e.baselineNormalized*b.style.size;!0===f?(c.lineWidth=b.style.strokeThickness,c.strokeStyle=x.intToRGBA(b.style.strokeColor,b.style.strokeAlpha)):c.fillStyle=x.intToRGBA(b.style.color,b.style.alpha);c.font=b.style.weight+" "+b.style.style+" "+b.style.size+'px "'+b.style.family+'"';e=b.bounds.x-Math.min(a.strokeBounds.x,
a.shadowBounds.x);g=g+b.bounds.y-Math.min(a.strokeBounds.y,a.shadowBounds.y);e+=d.padding.x;g+=d.padding.y;"center"===d.align?e+=.5*a.bounds.width-.5*a.lineWidth[b.lineIndex]:"right"===d.align&&(e+=a.bounds.width-a.lineWidth[b.lineIndex]);!0===f?c.strokeText(b.text,e,g):c.fillText(b.text,e,g)};Ka.prototype.render=function(a,b){var c=this.gameObject;!0===c.mHighQuality&&c.mDirty&8&&(c.mDirty^=8,c.mDirty|=16);if(c.mDirty&16){c.mDirty^=16;b=this.mCanvas;var d=this.mContext,e=1;d.textBaseline="alphabetic";
!0===c.mHighQuality&&(e=this.mTransform.data,e=Math.max(Math.sqrt(e[0]*e[0]+e[2]*e[2]),Math.sqrt(e[1]*e[1]+e[3]*e[3]))*a.renderScaleFactor);var f=this.mMetrics.strokeBounds.clone();f.union(this.mMetrics.shadowBounds);f.inflate(c.padding.right,c.padding.bottom);f.scale(e,e);b.width=f.width;b.height=f.height;c=za.get(c.mDefaultStyle.family);f=this.mMetrics.segments;d.save();d.scale(e,e);for(var g=0;g<f.length;g++)f[g].style.dropShadow&&(d.save(),d.shadowColor=x.intToRGBA(f[g].style.shadowColor,f[g].style.shadowAlpha),
d.shadowBlur=f[g].style.shadowBlur,d.shadowOffsetX=f[g].style.shadowDistanceX*e,d.shadowOffsetY=f[g].style.shadowDistanceY*e,this.renderSegment(this.mMetrics,f[g],d,a,c,!1),d.restore());for(g=0;g<f.length;g++){var h=f[g];0<h.style.strokeThickness&&(d.lineJoin="round",d.miterLimit=2,this.renderSegment(this.mMetrics,h,d,a,c,!0))}for(g=0;g<f.length;g++)this.renderSegment(this.mMetrics,f[g],d,a,c,!1);d.restore();null===this.texture?this.texture=new ba(b,null,null,1/e):this.texture.set(b,null,null,1/e)}};
Ka.prototype.updateTransform=function(){var a=this.gameObject,b=a.worldTransformation,c=0,d=0,e=Math.min(this.mMetrics.strokeBounds.x,this.mMetrics.shadowBounds.x),f=Math.min(this.mMetrics.strokeBounds.y,this.mMetrics.shadowBounds.y);!1===a.mAutoSize&&("center"===a.align?c=.5*(a.mFieldWidth-this.mMetrics.bounds.width):"right"===a.align&&(c=a.mFieldWidth-this.mMetrics.bounds.width),"middle"===a.mVerticalAlign?d=.5*(a.mFieldHeight-this.mMetrics.bounds.height):"bottom"===a.mVerticalAlign&&(d=a.mFieldHeight-
this.mMetrics.bounds.height));!0===(0!==e||0!==f)||!1===a.mAutoSize?(this.mUseTransformCache=!0,b.copyTo(this.mTransformCache),this.mTransformCache.translate(e+c-a.padding.x,f+d-a.padding.y)):!1===a.padding.isEmpty?(this.mUseTransformCache=!0,b.copyTo(this.mTransformCache),this.mTransformCache.translate(-a.padding.x,-a.padding.y)):this.mUseTransformCache=!1};var vb=function(){var a=K.call(this)||this;a.mCanvas=document.createElement("canvas");a.mContext=a.mCanvas.getContext("2d");a.texture=null;return a};
$jscomp.inherits(vb,K);vb.prototype.render=function(a,b){a=this.gameObject;if(null!==a.mText&&a.mDirty&16){b=this.mCanvas;var c=this.mContext,d=a.mData,e=a.mText,f=a.onGetLocalBounds();a.mDirty^=16;var g=-1,h=0,l=0;b.width=f.width;b.height=f.height;for(f=0;f<e.length;f++){var p=e.charCodeAt(f);if(/(?:\r\n|\r|\n)/.test(e.charAt(f)))h=0,l+=d.lineHeight*a.mLineHeight,g=-1;else{var t=d.chars[p];if(null!=t){var m=t.texture;0<=g&&t.kerning[g]&&(h+=t.kerning[g]);var v=m.width,u=m.height;0!==v&&0!==u&&(c.drawImage(m.native,
m.region.x,m.region.y,v,u,~~(m.untrimmedRegion.x+t.xOffset+h),~~(m.untrimmedRegion.y+t.yOffset+l),v,u),h+=t.xAdvance,g=p)}}}null===this.texture?this.texture=new ba(b):this.texture.set(b)}};var bc=function(){return K.call(this)||this};$jscomp.inherits(bc,K);var gb=function(){var a=K.call(this)||this;a.mCacheAsBitmapDirty=!0;a.mCacheAsBitmapMatrixCache=null;a.mCacheTexture=null;a.mCacheBounds=null;a.mIsClipped=!1;a.mIsCached=!1;a.mBakeInvertedMatrix=null;return a};$jscomp.inherits(gb,K);gb.prototype.preRender=
function(a,b){a=this.gameObject;this.endPassRequired=this.mIsClipped=null!==a.mClipRect;!0===a.mCacheAsBitmap&&(!1===a.mCacheAsBitmapDynamic?!1===this.mIsCached?(this.mIsCached=!0,a.setTransformDirty(),this.__refreshBitmapCache(),this.endPassRequired=this.mCacheAsBitmapDirty=!1):a.mDirty|=8:(b=a.checkStatic(!0),!0===b&&!0===this.mCacheAsBitmapDirty?(a.setTransformDirty(),this.__refreshBitmapCache(),this.endPassRequired=this.mCacheAsBitmapDirty=!1):!1===b&&(this.mCacheAsBitmapDirty=!0,a.mDirty|=8)));
this.skipChildren=!0===a.mCacheAsBitmap&&!1===this.mCacheAsBitmapDirty||this.mIsClipped&&a.mClipRect.isEmpty;this.skipSelf=!1;!0===this.skipChildren&&(this.endPassRequired=!1,this.skipSelf=!0)};gb.prototype.begin=function(a,b){a=this.gameObject;!0===this.skipChildren&&!0===b.isBackBufferActive?(this.alpha=1,this.blendMode=Pa.NORMAL,this.color=null,this.skipSelf=0>=a.mAlpha||!1===a.mVisible||this.mIsClipped&&a.mClipRect.isEmpty):(this.alpha=a.mAlpha*this.parent.alpha,this.color=null===a.mColor?this.parent.color:
a.mColor,this.blendMode=a.mBlendMode===Pa.AUTO?this.parent.blendMode:a.mBlendMode,this.skipChildren=0>=a.mAlpha||!1===a.mVisible,this.skipSelf=!0===this.skipChildren||!1===this.mIsClipped||this.mIsClipped&&a.mClipRect.isEmpty)};gb.prototype.upload=function(a,b){b=this.gameObject;var c=b.worldTransformation;!0===this.skipChildren&&this.mCacheAsBitmapMatrixCache&&(c=this.mCacheAsBitmapMatrixCache,!1===b.mCacheAsBitmapDynamic&&(c=(new D).append(this.gameObject.worldTransformation).append(this.mBakeInvertedMatrix).append(this.mCacheAsBitmapMatrixCache)));
if(!0===this.skipChildren||!0===this.endPassRequired)a.setSnapToPixels(b.snapToPixels),a.setTransform(c),a.setGlobalAlpha(this.alpha),a.setGlobalBlendMode(this.blendMode);!0===this.endPassRequired&&a.beginClip(b.mClipRect,b.mPivotX,b.mPivotY)};gb.prototype.render=function(a,b){!0===this.skipChildren&&!0===b.isBackBufferActive&&a.drawTexture(this.mCacheTexture)};gb.prototype.__refreshBitmapCache=function(){var a=this.gameObject.getBounds(r.stage,!0),b=r.stage.scaleFactor,c=r.driver.renderScaleFactor*
b,d=D.pool.get();d.set(1,0,0,1,~~(-a.x*b-r.stage.mX),~~(-a.y*b-r.stage.mY));!0===this.mIsClipped&&!0===this.skipChildren&&(d.data[4]+=this.gameObject.mPivotX*b,d.data[5]+=this.gameObject.mPivotY*b);null===this.mCacheBounds&&(this.mCacheBounds=new z);a.copyTo(this.mCacheBounds);a.width*=c;a.height*=c;null===this.mCacheTexture?this.mCacheTexture=new db(a.width,a.height,1):this.mCacheTexture.resize(a.width,a.height,1);r.driver.render(this.gameObject,this.mCacheTexture,d);D.pool.release(d);null===this.mCacheAsBitmapMatrixCache&&
(this.mCacheAsBitmapMatrixCache=new D);this.mCacheAsBitmapMatrixCache.copyFrom(d);this.mCacheAsBitmapMatrixCache.scale(1/r.driver.renderScaleFactor,1/r.driver.renderScaleFactor);this.mCacheAsBitmapMatrixCache.data[4]=-this.mCacheAsBitmapMatrixCache.data[4];this.mCacheAsBitmapMatrixCache.data[5]=-this.mCacheAsBitmapMatrixCache.data[5];this.mBakeInvertedMatrix=this.gameObject.worldTransformationInverted.clone()};var cc=function(){return Ka.apply(this,arguments)||this};$jscomp.inherits(cc,Ka);cc.prototype.render=
function(a,b){Ka.prototype.render.call(this,a,b);a.drawTexture(K.getColoredTexture(this.texture,this.gameObject.mColor))};var dc=function(){return vb.apply(this,arguments)||this};$jscomp.inherits(dc,vb);dc.prototype.render=function(a,b){vb.prototype.render.call(this,a,b);a.drawTexture(K.getColoredTexture(this.texture,this.gameObject.mColor))};var wb=function(){};wb.prototype.getValue=function(){};wb.prototype.getValueAt=function(a){};var hb=function(){this.value=0;return this};$jscomp.inherits(hb,
wb);hb.prototype.getValue=function(){return this.getValueAt(Math.random())};var X=function(a,b,c){a=void 0===a?0:a;b=void 0===b?null:b;c=void 0===c?null:c;var d=hb.call(this)||this;d.min=a;d.max=null===b?a:b;d.ease=c;return d};$jscomp.inherits(X,hb);X.prototype.getValueAt=function(a){null!==this.ease&&(a=this.ease(a));return this.value=this.min+a*(this.max-this.min)};X.fromObject=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return b[0]instanceof hb?b[0]:new (Function.prototype.bind.apply(X,
[null].concat($jscomp.arrayFromIterable(b))))};var ya={PENDING:0,EMITTING:1,PAUSED:2,FINISHED:3},uc={FRONT_TO_BACK:"frontToBack",BACK_TO_FRONT:"backToFront"},L=function(a){this.mIsInitializer=void 0===a?!0:a;this.scatter=null;this.isActive=!0};L.prototype.preUpdate=function(a){};L.prototype.update=function(a,b,c){};L.prototype.postUpdate=function(a){};$jscomp.global.Object.defineProperties(L.prototype,{isInitializer:{configurable:!0,enumerable:!0,get:function(){return this.mIsInitializer}}});var ec=
function(){this.textureIndex=0;this.life=this.alpha=this.scaleY=this.scaleX=1;this.age=0;this.energy=this.age/this.life;this.ay=this.ax=this.vy=this.vx=this.r=this.y=this.x=this.mass=0;this.color=null;this.anchorY=this.anchorX=.5};ec.prototype.reset=function(){this.scaleX=this.scaleY=this.alpha=this.life=1;this.textureIndex=this.age=this.energy=this.mass=this.x=this.y=this.r=this.vx=this.vy=this.ax=this.ay=0;this.anchorX=this.anchorY=.5};ec.prototype.update=function(a){0>=this.life?this.life=0:(this.x+=
this.vx*a,this.y+=this.vy*a,0<this.mass&&(this.ax*=1/this.mass,this.ay*=1/this.mass),this.vx+=this.ax*a,this.vy+=this.ay*a,this.ay=this.ax=0,this.life-=a,this.age+=a,this.energy=this.age/(this.age+this.life))};var ua=function(){var a=da.call(this)||this;a.mTextures=[];a.mParticles=[];a.mRecycled=[];a.mInitializers=[];a.mActions=[];a.mSpace=null;a.mIsLocal=!0;a.mMaxParticles=1E4;a.mEmitCount=new X(10);a.mEmitNumRepeats=new X(0,Number.MAX_SAFE_INTEGER);a.mEmitNumRepeatsLeft=a.mEmitNumRepeats.getValue();
a.mEmitDuration=new X(1/60);a.mEmitDurationLeft=a.mEmitDuration.getValue();a.mEmitInterval=new X(1/60);a.mEmitIntervalLeft=a.mEmitInterval.getValue();a.mEmitDelay=new X(1);a.mEmitDelayLeft=a.mEmitDelay.getValue();a.mNextUpdateAt=0;a.mState=ya.PENDING;a.__tmpLocal=new D;a.__tmpWorld=new D;a.mSortOrder=uc.FRONT_TO_BACK;a.mTextureNames=null;a.mPresimulateSeconds=0;a.mCurrentPresimulationTime=0;return a};$jscomp.inherits(ua,da);ua.prototype.play=function(){this.mState!==ya.EMITTING&&this.mState!==ya.PAUSED&&
(this.mEmitNumRepeatsLeft=this.mEmitNumRepeats.getValue(),this.mEmitDurationLeft=this.mEmitDuration.getValue(),this.mEmitIntervalLeft=this.mEmitInterval.getValue(),this.mEmitDelayLeft=this.mEmitDelay.getValue(),this.mState=ya.PENDING)};ua.prototype.pause=function(){this.mState=ya.PAUSED};ua.prototype.stop=function(){this.mParticles=[];this.mRecycled=[];this.mState=ya.FINISHED};ua.prototype.simulate=function(a){n.isNumber(a);n.assert(0<a);this.mCurrentPresimulationTime=0;for(this.mPresimulateSeconds=
a;this.mCurrentPresimulationTime<=this.mPresimulateSeconds;)this.onUpdate(),this.mCurrentPresimulationTime+=r.time.delta;this.mCurrentPresimulationTime=this.mPresimulateSeconds=0};ua.prototype.getRenderer=function(){return r.driver.getRenderer("Emitter",this)};ua.prototype.add=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];d instanceof L?this.addModifier(d):da.prototype.add.call(this,d)}return this};ua.prototype.addModifier=function(a){a.isInitializer?
this.mInitializers.push(a):this.mActions.push(a);return a};ua.prototype.removeModifier=function(a){var b=this.mActions;a.isInitializer&&(b=this.mInitializers);a=b.indexOf(a);return 0<=a?(b.splice(a,1),!0):!1};ua.prototype.__getTime=function(){return r.time.now};ua.prototype.updateNextTick=function(a){a=void 0===a?0:a;var b=r.time.now,c=!1;this.mState===ya.PENDING&&(this.mNextUpdateAt=b+this.mEmitDelayLeft,this.mEmitDelayLeft-=a,0>=this.mEmitDelayLeft&&(this.mEmitDelayLeft=this.mEmitDelay.getValue(),
this.mState=ya.EMITTING,c=!0));this.mState===ya.EMITTING&&(0>=this.mEmitDurationLeft?(this.mEmitDurationLeft=this.mEmitDuration.getValue(),this.mEmitNumRepeatsLeft--,0>=this.mEmitNumRepeatsLeft?(this.mState=ya.FINISHED,this.post(O.COMPLETE)):this.mState=ya.PENDING):(c?(this.mNextUpdateAt=b,this.mEmitIntervalLeft=this.mEmitInterval.getValue()):(this.mEmitIntervalLeft-=a,this.mNextUpdateAt=b+this.mEmitIntervalLeft,0>=this.mEmitIntervalLeft&&(this.mEmitIntervalLeft=this.mEmitInterval.getValue())),this.mEmitDurationLeft-=
a))};ua.prototype.onUpdate=function(){if(this.mState!==ya.PAUSED){var a=r.time.delta;this.updateNextTick(a);r.time.now>=this.mNextUpdateAt&&this.mState===ya.EMITTING&&this.__create(this.mEmitCount.getValue());for(var b=this.mActions.length,c=this.mParticles.length,d=0;d<b;d++)!0===this.mActions[d].isActive&&this.mActions[d].preUpdate(a);for(d=c;d--;){c=this.mParticles[d];for(var e=0;e<b;e++)!0===this.mActions[e].isActive&&this.mActions[e].update(this,c,a);c.update(a);0===c.life&&(this.mRecycled.push(c),
this.mParticles.splice(d,1))}for(c=0;c<b;c++)!0===this.mActions[c].isActive&&this.mActions[c].postUpdate(a);!0===this.mVisible&&0<this.mAlpha&&this.setDirty(1,!1)}};ua.prototype.__create=function(a){var b=this.worldTransformation.clone();if(!1===this.mIsLocal){var c=this.mSpace.worldTransformationInverted.clone();b.prepend(c)}for(c=0;c<a;c++){if(0<this.mRecycled.length)var d=this.mRecycled.pop();else{if(this.mParticles.length>=this.mMaxParticles)break;d=new ec}d.reset();for(var e=0;e<this.mInitializers.length;e++)!0===
this.mInitializers[e].isActive&&this.mInitializers[e].update(this,d,0);!1===this.mIsLocal&&(b.transformXY(d.x,d.y,q.__cache),d.x=q.__cache.x,d.y=q.__cache.y);this.mParticles.push(d)}};$jscomp.global.Object.defineProperties(ua.prototype,{state:{configurable:!0,enumerable:!0,get:function(){return this.mState}},maxParticles:{configurable:!0,enumerable:!0,get:function(){return this.mMaxParticles},set:function(a){if(0>a)throw Error("Bad argument error.");this.mMaxParticles=a}},emitCount:{configurable:!0,
enumerable:!0,get:function(){return this.mEmitCount},set:function(a){this.mEmitCount=a}},emitNumRepeats:{configurable:!0,enumerable:!0,get:function(){return this.mEmitNumRepeats},set:function(a){this.mEmitNumRepeats=a;this.mEmitNumRepeatsLeft=this.mEmitNumRepeats.getValue()}},emitDuration:{configurable:!0,enumerable:!0,get:function(){return this.mEmitDuration},set:function(a){this.mEmitDuration=a;this.mEmitDurationLeft=this.mEmitDuration.getValue()}},emitInterval:{configurable:!0,enumerable:!0,get:function(){return this.mEmitInterval},
set:function(a){this.mEmitInterval=a;this.mEmitIntervalLeft=this.mEmitInterval.getValue()}},emitDelay:{configurable:!0,enumerable:!0,get:function(){return this.mEmitDelay},set:function(a){this.mEmitDelay=a;this.mEmitDelayLeft=this.mEmitDelay.getValue()}},space:{configurable:!0,enumerable:!0,get:function(){return this.mSpace},set:function(a){this.mSpace=a;this.mIsLocal=null===this.mSpace||this.mSpace===this;this.setRenderDirty()}},textures:{configurable:!0,enumerable:!0,get:function(){return this.mTextures},
set:function(a){this.mTextures=a;n.assert(!(null===this.mTextures||0===this.mTextures.length),"At least one texture must be provided.");this.setRenderDirty()}},textureNames:{configurable:!0,enumerable:!0,get:function(){return this.mTextureNames},set:function(a){this.mTextureNames=a;this.textures=a.map(function(b){return r.assets.getTexture(b)})}},sortOrder:{configurable:!0,enumerable:!0,get:function(){return this.mSortOrder},set:function(a){this.mSortOrder=a;this.setRenderDirty()}}});var xb=function(){var a=
K.call(this)||this;a.isLocal=!1;a.__tmpLocal=new D;a.__tmpWorld=new D;return a};$jscomp.inherits(xb,K);xb.prototype.preRender=function(a,b){a=this.gameObject;this.endPassRequired=null!==this.gameObject.mClipRect&&!1===this.gameObject.mClipRect.isEmpty;this.skipChildren=!(0<a.mAlpha&&0<a.mTextures.length&&!0===a.mVisible);this.skipSelf=!(0<a.mTextures.length&&0<a.mParticles.length)};xb.prototype.render=function(a,b){b=this.gameObject;a.setSnapToPixels(b.snapToPixels);var c=b.mParticles.length,d=this.__tmpLocal,
e=this.__tmpWorld;d.identity();if(b.sortOrder===uc.FRONT_TO_BACK)for(var f=0;f<c;f++)this.__renderParticle(b.mParticles[f],d,e,a);else for(--c;0<c;c--)this.__renderParticle(b.mParticles[c],d,e,a)};xb.prototype.__renderParticle=function(a,b,c,d){var e=this.gameObject,f=e.textures[a.textureIndex],g=f.displayWidth*a.anchorX,h=f.displayHeight*a.anchorY;if(0===a.r)b.set(a.scaleX,0,0,a.scaleY,a.x-g*a.scaleX,a.y-h*a.scaleY);else{var l=Math.cos(a.r),p=Math.sin(a.r),t=a.scaleX*l,m=a.scaleX*p;p=a.scaleY*-p;
l*=a.scaleY;b.set(t,m,p,l,a.x-g*t-h*p,a.y-g*m-h*l)}!0===e.mIsLocal?(c.identity(),c.copyFrom(b),c.prepend(e.worldTransformation)):(c.copyFrom(e.mSpace.worldTransformation),c.append(b));d.setGlobalAlpha(e.mAlpha*a.alpha);d.setTransform(c);d.drawTexture(K.getColoredTexture(f,null===a.color?e.mColor:a.color))};var yb=function(){var a=K.call(this)||this;a.pattern=null;a.patternTexture=null;a.sliceTextureCache=null;a.sizeWidthCache=null;a.sizeHeightCache=null;a.textureCache=null;return a};$jscomp.inherits(yb,
K);yb.prototype.preRender=function(a,b){a=this.gameObject;b=null!==a.mClipRect&&a.mClipRect.isEmpty;this.endPassRequired=null!==a.mClipRect&&!a.mClipRect.isEmpty;this.skipChildren=b||0>=a.mAlpha||!1===a.mVisible;this.skipSelf=b||null===a.mTexture||0>=a.mAlpha||!1===a.mVisible};yb.prototype.renderSlice9Grid=function(a,b,c){var d=a.mDevicePixelRatio,e=b.width*this.gameObject.mScaleX,f=b.height*this.gameObject.mScaleY;if(this.textureCache===b&&this.sizeWidthCache===e&&this.sizeHeightCache===f)return this.sliceTextureCache;
this.textureCache=b;this.sizeWidthCache=e;this.sizeHeightCache=f;a=b.region.x;var g=b.region.y,h=b.region.width,l=b.region.height,p=b.untrimmedRegion.x*d;d*=b.untrimmedRegion.y;null===this.sliceTextureCache?this.sliceTextureCache=new db(e,f,1/b.scale):this.sliceTextureCache.resize(e,f,1/b.scale);var t=this.sliceTextureCache.renderTarget.context,m=Math.min(this.gameObject.scaleX,this.gameObject.scaleY);1>=m&&(t.setTransform(m,0,0,m,0,0),e/=m,f/=m);m=c.x/b.scale;var v=c.y/b.scale,u=h-c.right/b.scale;
c=l-c.bottom/b.scale;var y=a+h-u,G=p+e/b.scale-u,H=g+l-c,W=d+f/b.scale-c;t.drawImage(b.native,a,g,m,v,p,d,m,v);t.drawImage(b.native,y,g,u,v,G,d,u,v);t.drawImage(b.native,y,H,u,c,G,W,u,c);t.drawImage(b.native,a,H,m,c,p,W,m,c);y=a+m;G=p+m;H=g+v;W=d+v;var sa=a+h-u,wa=p+e/b.scale-u,tc=g+l-c,Ja=d+f/b.scale-c;h=h-m-u;e=e/b.scale-m-u;l=l-v-c;f=f/b.scale-v-c;t.drawImage(b.native,y,g,h,v,G,d,e,v);t.drawImage(b.native,sa,H,u,l,wa,W,u,f);t.drawImage(b.native,y,tc,h,c,G,Ja,e,c);t.drawImage(b.native,a,H,m,l,p,
W,m,f);t.drawImage(b.native,y,H,h,l,G,W,e,f);return this.sliceTextureCache};yb.prototype.render=function(a,b){b=a.mCtx;var c=this.gameObject,d=K.getColoredTexture(c.mTexture,this.color);if(null!==c.mSlice9grid){var e=this.gameObject.worldTransformation.data;e=D.pool.get().set(e[0]/this.gameObject.scaleX,e[1]/this.gameObject.scaleX,e[2]/this.gameObject.scaleY,e[3]/this.gameObject.scaleY,e[4],e[5]);a.setTransform(e);D.pool.release(e);d=this.renderSlice9Grid(a,d,c.mSlice9grid)}if(null===c.mTiling)a.drawTexture(d);
else{if(null===this.pattern||this.patternTexture!==d){e=new bb(d.width,d.height);var f=d.region,g=d.untrimmedRegion;e.context.drawImage(d.native,f.x,f.y,f.width,f.height,g.x,g.y,f.width,f.height);this.pattern=b.createPattern(e.native,"repeat");this.patternTexture=d}b.fillStyle=this.pattern;d=a.renderScaleFactor;e=c.worldTransformation.clone();e.scale(c.tiling.scaleX*d,c.tiling.scaleY*d);e.translate(c.tiling.wrapX/d,c.tiling.wrapY/d);a.setTransform(e);b.fillRect(-c.tiling.wrapX,-c.tiling.wrapY,c.tiling.width/
c.tiling.scaleX,c.tiling.height/c.tiling.scaleY);b.fillStyle="black"}};var zb=function(){return bc.call(this)||this};$jscomp.inherits(zb,bc);zb.prototype.render=function(a,b){b=this.gameObject;this.__drawCommandBuffer(a);null!==b.mColor&&16777215!==b.mColor&&(a.context.globalCompositeOperation="multiply",this.__drawCommandBuffer(a,b.mColor))};zb.prototype.__drawCommandBuffer=function(a,b){b=void 0===b?null:b;var c=this.gameObject,d=a.context;d.save();d.beginPath();var e=D.pool.get().copyFrom(c.worldTransformation);
e.translate(-c.mDataOffsetX,-c.mDataOffsetY);this.__renderNode(a,b,c.mGraphicsData,e);D.pool.release(e);d.restore()};zb.prototype.__renderNode=function(a,b,c,d){var e=c.mCommandQueue,f=a.context,g=e.length,h=a.renderScaleFactor,l=c.mPivotX,p=c.mPivotY;d=d.clone().append(c.mTransform);a.setTransform(d);for(var t=0;t<g;t++){var m=e[t];switch(m.type){case I.LINE_STYLE:f.lineWidth=m.getNumber(0)*h;f.strokeStyle=x.intToRGBA(null===b?m.getNumber(1):b,m.getNumber(2));f.lineCap=m.getString(3);f.lineJoin=
m.getString(4);f.miterLimit=m.getNumber(5);break;case I.FILL_STYLE:f.fillStyle=x.intToRGBA(null===b?m.getNumber(0):b,m.getNumber(1));break;case I.FILL_GRD:var v=m.getObject(0),u=v.native;if(!u){u=r.driver.renderScaleFactor;var y=[];u=v.native=f.createLinearGradient(v.x0*u,v.y0*u,v.x1*u,v.y1*u);for(var G in v.stops)y.push({percent:parseFloat(G),color:v.stops[G]});y.sort(function(W,sa){return W.percent-sa.percent});v=0;for(var H=y.length;v<H;v++)m=y[v],u.addColorStop(m.percent,m.color)}f.fillStyle=
u;break;case I.FILL_PATTERN:y=m.getObject(0);u=y.native;u||(u=y.native=f.createPattern(y.image,y.repetition));f.fillStyle=u;break;case I.ARC:f.arc(m.getNumber(0)*h-l,m.getNumber(1)*h-p,m.getNumber(2)*h,m.getNumber(3),m.getNumber(4),m.getBoolean(5));break;case I.RECT:f.rect(m.getNumber(0)*h-l,m.getNumber(1)*h-p,m.getNumber(2)*h,m.getNumber(3)*h);break;case I.ROUNDED_RECT:y=m.getNumber(0);u=m.getNumber(1);v=m.getNumber(2);H=m.getNumber(3);m=m.getNumber(4);f.moveTo(y*h-l,(u+m)*h-p);f.quadraticCurveTo(y*
h-l,u*h-p,(y+m)*h-l,u*h-p);f.lineTo((y+v-m)*h-l,u*h-p);f.quadraticCurveTo((y+v)*h-l,u*h-p,(y+v)*h-l,(u+m)*h-p);f.lineTo((y+v)*h-l,(u+H-m)*h-p);f.quadraticCurveTo((y+v)*h-l,(u+H)*h-p,(y+v-m)*h-l,(u+H)*h-p);f.lineTo((y+m)*h-l,(u+H)*h-p);f.quadraticCurveTo(y*h-l,(u+H)*h-p,y*h-l,(u+H-m)*h-p);f.closePath();break;case I.BEZIER_CURVE_TO:f.bezierCurveTo(m.getNumber(0)*h-l,m.getNumber(1)*h-p,m.getNumber(2)*h-l,m.getNumber(3)*h-p,m.getNumber(4)*h-l,m.getNumber(5)*h-p);break;case I.QUADRATIC_CURVE_TO:f.quadraticCurveTo(m.getNumber(0)*
h-l,m.getNumber(1)*h-p,m.getNumber(2)*h-l,m.getNumber(3)*h-p);break;case I.BEGIN_PATH:f.beginPath();break;case I.CLOSE_PATH:f.closePath();break;case I.FILL:f.fill(!0===m.getBoolean(0)?"nonzero":"evenodd");break;case I.LINE_TO:f.lineTo(m.getNumber(0)*h-l,m.getNumber(1)*h-p);break;case I.MOVE_TO:f.moveTo(m.getNumber(0)*h-l,m.getNumber(1)*h-p);break;case I.LINE_DASH:f.setLineDash(m.getNumber(0));break;case I.STROKE:f.stroke();break;case I.SHADOW_BLUR:f.shadowBlur=m.getNumber(0)*h;break;case I.SHADOW_COLOR:y=
x.intToRGBA(null===b?m.getNumber(0):b,m.getNumber(1));f.shadowColor=y;break;case I.BOUNDS:break;default:n.error("Unsupported canvas command '"+m.type+"'.")}}e=0;for(f=c.mNodes.length;e<f;e++)this.__renderNode(a,b,c.mNodes[e],d)};var T=function(a,b,c){this.mContainerElement=a;this.mClientWidth=b;this.mClientHeight=c;this.mTransform=new D;this.mIdentityMatrix=new D;this.mActiveSession=new ac;this.mSessions=[];this.mLastRenderTexture=null;this.mSnapToPixels=!1;this.mDevicePixelRatio=!0===r.engine.useHiDPR?
r.device.getDevicePixelRatio():1;this.mGlobalBlendMode=Pa.AUTO;this.mGlobalAlpha=1;this.mStageRenderer=new K;this.mRendererMap={};r.engine.viewport.on("resize",this.__onResize,this)};T.prototype.render=function(a,b,c){};T.prototype.getRenderer=function(a,b){return null};T.prototype.__saveSession=function(){var a=T.sessionPool.get();a.reset();this.mSessions.push(a);return this.mActiveSession=a};T.prototype.__restoreSession=function(){this.mSessions.pop();this.mActiveSession=this.mSessions[this.mSessions.length-
1]||null};T.prototype.__collectParentRenderables=function(a,b,c){var d=b;if(null!==d){b=[];for(d=d.parent;null!==d;d=d.parent)b.splice(0,0,d);for(var e=0;e<b.length;e++)d=b[e],d=d.mRenderer,null!=d&&(a.parentRenderers.push(d),d.parent=c,c=d,d.preRender(this,a),!0===d.endPassRequired&&a.endPassParentRenderers.push(d))}};T.prototype.beginClip=function(a,b,c){};T.prototype.endClip=function(){};T.prototype.__onResize=function(a,b){K.__dirty=!0;a=this.mContainerElement.clientHeight;this.mClientWidth=this.mContainerElement.clientWidth;
this.mClientHeight=a};T.prototype.start=function(){};T.prototype.beginFrame=function(){this.clear()};T.prototype.endFrame=function(){};T.prototype.getTextureFromCanvas=function(a){return null};T.prototype.setTransform=function(a){this.mTransform=a};T.prototype.setSnapToPixels=function(a){this.mSnapToPixels=a};T.prototype.getGlobalAlpha=function(){return this.mGlobalAlpha};T.prototype.setGlobalAlpha=function(a){this.mGlobalAlpha=a};T.prototype.getGlobalBlendMode=function(){return this.mGlobalBlendMode};
T.prototype.setGlobalBlendMode=function(a){this.mGlobalBlendMode=a};T.prototype.drawTexture=function(a){};T.prototype.drawTextureWithOffset=function(a,b,c){};T.prototype.clear=function(){};T.prototype.dispose=function(){T.sessionPool.releaseAll()};$jscomp.global.Object.defineProperties(T.prototype,{context:{configurable:!0,enumerable:!0,get:function(){return null}},renderScaleFactor:{configurable:!0,enumerable:!0,get:function(){return this.mDevicePixelRatio}}});T.sessionPool=new V(ac);var oa=function(a,
b,c){a=T.call(this,a,b,c)||this;a.mCtx=null;a.__createCanvas();a.mRendererMap={DisplayObject:gb,Sprite:yb,Emitter:xb,Text:cc,BitmapText:dc,Graphics:zb};return a};$jscomp.inherits(oa,T);oa.prototype.getRenderer=function(a,b){a=new this.mRendererMap[a];a.gameObject=b;return a};oa.prototype.render=function(a,b,c){b=void 0===b?null:b;c=void 0===c?null:c;var d=null===b;if(!0!==K.skipUnchangedFrames||!0!==d||!1!==K.__dirty){var e=this.__saveSession();e.isBackBufferActive=d;e.customTransform=c;c=this.mStageRenderer;
if(null!==b){this.mLastRenderTexture=this.mCtx;this.mCtx=b.renderTarget.context;this.mGlobalAlpha=-1;this.mGlobalBlendMode=null;c.alpha=1;c.blendMode=Pa.NORMAL;c.color=null;this.__collectParentRenderables(e,a,this.mStageRenderer);d=0;for(var f=e.parentRenderers.length;d!==f;d++){var g=e.parentRenderers[d];g.begin(this,e);!1===g.skipSelf&&g.upload(this,e)}0<e.parentRenderers.length&&(c=e.parentRenderers[e.parentRenderers.length-1])}this.renderObject(a,e,c);if(null!==b){for(;0<e.endPassParentRenderers.length;)e.endPassParentRenderers.pop().end(this,
e);this.mCtx=this.mLastRenderTexture;this.mGlobalAlpha=-1;this.mGlobalBlendMode=null}this.__restoreSession()}};oa.prototype.renderObject=function(a,b,c){var d=!1,e=a.mRenderer;if(null!=e){e.parent=c;e.preRender(this,b);for(d=0;d<a.mComponents.length;d++)a.mComponents[d].onRender();a.onRender();e.begin(this,b);!1===e.skipSelf&&(e.upload(this,b),e.render(this,b));d=e.skipChildren}if(!1===d)for(d=0;d<a.mChildren.length;d++)this.renderObject(a.mChildren[d],b,e||c);null!=e&&!0===e.endPassRequired&&e.end(this,
b)};oa.prototype.__createCanvas=function(){var a=this.mDevicePixelRatio,b=document.createElement("canvas");b.style.position="absolute";b.id="canvas";b.width=this.mClientWidth*a;b.height=this.mClientHeight*a;b.style.width=this.mClientWidth+"px";b.style.height=this.mClientHeight+"px";this.mContainerElement.appendChild(b);this.mCtx=b.getContext("2d")};oa.prototype.__onResize=function(a,b){T.prototype.__onResize.call(this,a,b);this.mGlobalBlendMode=null;this.mGlobalAlpha=-1;a=this.mDevicePixelRatio;this.mCtx.canvas.width=
this.mClientWidth*a;this.mCtx.canvas.height=this.mClientHeight*a;this.mCtx.canvas.style.width=this.mClientWidth+"px";this.mCtx.canvas.style.height=this.mClientHeight+"px"};oa.prototype.drawTexture=function(a){if(!1!==a.isValid){var b=this.mDevicePixelRatio;this.mCtx.drawImage(a.native,a.region.x,a.region.y,a.region.width,a.region.height,a.untrimmedRegion.x*b,a.untrimmedRegion.y*b,a.renderWidth*b,a.renderHeight*b)}};oa.prototype.drawTextureWithOffset=function(a,b,c){if(!1!==a.isValid){var d=this.mDevicePixelRatio;
this.mCtx.drawImage(a.native,a.region.x,a.region.y,a.region.width,a.region.height,(b+a.untrimmedRegion.x)*d,(c+a.untrimmedRegion.y)*d,a.renderWidth*d,a.renderHeight*d)}};oa.prototype.beginClip=function(a,b,c){var d=this.mDevicePixelRatio;this.mCtx.save();this.mCtx.beginPath();this.mCtx.rect((a.x+b)*d,(a.y+c)*d,a.width*d,a.height*d);this.mCtx.clip()};oa.prototype.endClip=function(){this.mCtx.restore();this.mGlobalAlpha=-1;this.mGlobalBlendMode=null};oa.prototype.setTransform=function(a){var b=this.mDevicePixelRatio,
c=this.mActiveSession;!1===c.isBackBufferActive&&(null===c.customTransform?(a=a.clone(),a.data[4]-=r.stage.mX,a.data[5]-=r.stage.mY):(a=a.clone(),a.prepend(c.customTransform)));null!==r.camera&&(a=a.clone(),a.prepend(r.camera.worldTransformationInverted));this.mTransform=a;a=a.value;n.isNumber(a[0],a[1],a[2],a[3],a[4],a[5]);!0===this.mSnapToPixels?this.mCtx.setTransform(a[0],a[1],a[2],a[3],a[4]*b|0,a[5]*b|0):this.mCtx.setTransform(a[0],a[1],a[2],a[3],a[4]*b,a[5]*b)};oa.prototype.setGlobalAlpha=function(a){n.isNumber(a);
a!=this.mGlobalAlpha&&(this.mGlobalAlpha=a,this.mCtx.globalAlpha=a)};oa.prototype.setGlobalBlendMode=function(a){a!==Pa.AUTO&&(a=kd[a],this.mGlobalBlendMode!==a&&(this.mGlobalBlendMode=a,this.mCtx.globalCompositeOperation=a))};oa.prototype.clear=function(){if(!0!==K.skipUnchangedFrames||!1!==K.__dirty){this.mCtx.setTransform(1,0,0,1,0,0);var a=r.engine.viewport;!1===a.isTransparent?(this.mCtx.fillStyle=x.hexColorToString(a.backgroundColor),this.mCtx.fillRect(0,0,a.size.width*this.mDevicePixelRatio,
a.size.height*this.mDevicePixelRatio)):this.mCtx.clearRect(0,0,a.size.width*this.mDevicePixelRatio,a.size.height*this.mDevicePixelRatio)}};oa.prototype.getTextureFromCanvas=function(a){return new ba(a)};oa.prototype.dispose=function(){T.prototype.dispose.call(this);null!==this.mCtx&&this.mCtx.canvas.remove()};$jscomp.global.Object.defineProperties(oa.prototype,{context:{configurable:!0,enumerable:!0,get:function(){return this.mCtx}}});var Sb=function(a,b){a=void 0===a?null:a;b=void 0===b?!0:b;var c=
da.call(this)||this;c.mTexture=null;c.mTextureName=null;c.mTiling=null;c.mSlice9grid=null;c.mUseTextureProps=b;null!==a&&a.constructor===String?(c.mTextureName=a,c.texture=r.assets.getTexture(a)):c.texture=a;return c};$jscomp.inherits(Sb,da);Sb.prototype.getRenderer=function(){return r.driver.getRenderer("Sprite",this)};Sb.prototype.onGetLocalBounds=function(a){a=a||new z;if(!this.mTexture)return a;null!==this.mClipRect?this.mClipRect.copyTo(a):null!==this.tiling?a.set(0,0,this.tiling.width,this.tiling.height):
a.set(0,0,this.mTexture.displayWidth,this.mTexture.displayHeight);return a};$jscomp.global.Object.defineProperties(Sb.prototype,{texture:{configurable:!0,enumerable:!0,get:function(){return this.mTexture},set:function(a){this.mTexture!==a&&(null===a?this.mTextureName=this.mTexture=null:(this.mTexture=a,!0===this.mUseTextureProps&&(a.slice9borders&&(this.slice9grid=a.slice9borders.clone()),null!==a.registrationPoint&&this.alignPivotOffset(a.registrationPoint.x,a.registrationPoint.y))),this.setDirty(16,
!1),this.setRenderDirty())}},textureName:{configurable:!0,enumerable:!0,get:function(){return this.mTextureName},set:function(a){this.mTextureName!==a&&(null===a?this.texture=null:(this.mTextureName=a,this.texture=r.assets.getTexture(a)))}},tiling:{configurable:!0,enumerable:!0,get:function(){return this.mTiling},set:function(a){this.mTiling=a;this.setRenderDirty();this.setDirty(16,!1)}},slice9grid:{configurable:!0,enumerable:!0,get:function(){return this.mSlice9grid},set:function(a){this.mSlice9grid=
a;this.setRenderDirty();this.setDirty(16,!1)}}});var ad={NONE:"none",LEFT:"left",RIGHT:"right",CENTER:"center"},bd={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Ga=function(a,b,c,d,e,f,g,h){a=void 0===a?"":a;b=void 0===b?"sans-serif":b;c=void 0===c?0:c;d=void 0===d?14:d;e=void 0===e?Eb.NORMAL:e;f=void 0===f?Ub.NORMAL:f;g=void 0===g?0:g;h=void 0===h?16777215:h;var l=da.call(this)||this;l.mText=a;l.mCacheBounds=new z;l.mTextWidth=0;l.mTextHeight=0;l.mDefaultStyle=new Za(b,c,d,e,f,g,h);l.mStyles={};l.mAutoSize=
!0;l.mAlign=ad.LEFT;l.mVerticalAlign=bd.MIDDLE;l.mMultiline=!1;l.mLineHeight=1.2;l.mTextBounds=new z;l.mFieldWidth=0;l.mFieldHeight=0;l.mPadding=new z(0,0,0,0);l.mMetrics=null;l.mHighQuality=!1;return l};$jscomp.inherits(Ga,da);Ga.prototype.getRenderer=function(){return r.driver.getRenderer("Text",this)};Ga.prototype.onGetLocalBounds=function(a){a=a||new z;if(this.mDirty&16){var b=this.text;!1===this.mMultiline&&(b=b.replace(/\n/g,""));var c=[this.mDefaultStyle],d;for(d in this.mStyles)c.push(this.mStyles[d]);
this.mMetrics=ab.measure.apply(ab,[b,this.mLineHeight].concat($jscomp.arrayFromIterable(c)));this.mTextBounds.copyFrom(this.mMetrics.bounds)}if(null!==this.mClipRect)return this.mClipRect.copyTo(a),a;!1===this.mAutoSize?(a.width=this.mFieldWidth,a.height=this.mFieldHeight):(a.width=this.mTextBounds.width,a.height=this.mTextBounds.height);a.width+=this.mPadding.right;a.height+=this.mPadding.bottom;return a};Ga.prototype.setStyle=function(a,b){n.assert("def"!==a,"Please use 'setDefaultStyle' instead.");
b.name=a;this.mStyles[a]=b;this.setDirty(16,!1);this.setTransformDirty()};Ga.prototype.setDefaultStyle=function(a){this.mDefaultStyle=a;this.setDirty(16,!1);this.setTransformDirty()};Ga.prototype.removeStyle=function(a){delete this.mStyles[a];this.setDirty(16,!1);this.setTransformDirty()};Ga.prototype.getStyle=function(a){return this.mStyles.hasOwnProperty(a)?this.mStyles[a]:null};Ga.prototype.getAllStyles=function(){var a=[],b;for(b in this.mStyles)a.push(this.mStyles[b]);return a};Ga.prototype.getDefaultStyle=
function(a){return this.mDefaultStyle};$jscomp.global.Object.defineProperties(Ga.prototype,{multiline:{configurable:!0,enumerable:!0,set:function(a){this.mMultiline=a;this.setDirty(16,!1);this.setTransformDirty()},get:function(){return this.mMultiline}},lineHeight:{configurable:!0,enumerable:!0,set:function(a){this.mLineHeight=a;this.setDirty(16,!1);this.setTransformDirty()},get:function(){return this.mLineHeight}},size:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.size},
set:function(a){this.mDefaultStyle.size!==a&&(this.mDefaultStyle.size=a,this.setDirty(16,!1),this.setTransformDirty())}},font:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.family},set:function(a){this.mDefaultStyle.family!==a&&(this.mDefaultStyle.family=a,this.setDirty(16,!1),this.setTransformDirty())}},textColor:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.color},set:function(a){this.mDefaultStyle.color!==a&&(this.mDefaultStyle.color=a,this.setDirty(16,
!1),this.setTransformDirty())}},textAlpha:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.alpha},set:function(a){this.mDefaultStyle.alpha!==a&&(this.mDefaultStyle.alpha=a,this.setDirty(16,!1),this.setTransformDirty())}},fontStyle:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.style},set:function(a){this.mDefaultStyle.style!==a&&(this.mDefaultStyle.style=a,this.setDirty(16,!1),this.setTransformDirty())}},weight:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.weight},
set:function(a){this.mDefaultStyle.weight!==a&&(this.mDefaultStyle.weight=a,this.setDirty(16,!1),this.setTransformDirty())}},align:{configurable:!0,enumerable:!0,get:function(){return this.mAlign},set:function(a){this.mAlign!==a&&(this.mAlign=a,this.setDirty(16,!1),this.setTransformDirty())}},vAlign:{configurable:!0,enumerable:!0,get:function(){return this.mVerticalAlign},set:function(a){this.mVerticalAlign!==a&&(this.mVerticalAlign=a,this.setDirty(16,!1),this.setTransformDirty())}},strokeColor:{configurable:!0,
enumerable:!0,get:function(){return this.mDefaultStyle.strokeColor},set:function(a){this.mDefaultStyle.strokeColor!==a&&(this.mDefaultStyle.strokeColor=a,this.setDirty(24,!1))}},strokeAlpha:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.strokeAlpha},set:function(a){this.mDefaultStyle.strokeAlpha!==a&&(this.mDefaultStyle.strokeAlpha=a,this.setDirty(24,!1))}},strokeThickness:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.strokeThickness},set:function(a){a!==
this.mDefaultStyle.strokeThickness&&(this.mDefaultStyle.strokeThickness=a,this.setDirty(24,!1))}},fieldWidth:{configurable:!0,enumerable:!0,get:function(){return this.mFieldWidth},set:function(a){a!==this.mFieldWidth&&(this.mFieldWidth=a,this.setDirty(16,!1),this.setTransformDirty())}},fieldHeight:{configurable:!0,enumerable:!0,get:function(){return this.mFieldHeight},set:function(a){a!==this.mFieldHeight&&(this.mFieldHeight=a,this.setDirty(16,!1),this.setTransformDirty())}},text:{configurable:!0,
enumerable:!0,get:function(){return this.mText},set:function(a){this.mText!==a&&(this.mText=a,this.setDirty(16,!1),this.setTransformDirty(),this.post(O.CHANGE))}},autoSize:{configurable:!0,enumerable:!0,get:function(){return this.mAutoSize},set:function(a){this.mAutoSize!==a&&(this.mAutoSize=a,this.setDirty(16,!1),this.setTransformDirty())}},padding:{configurable:!0,enumerable:!0,get:function(){return this.mPadding},set:function(a){this.mPadding=a;this.setDirty(16,!1);this.setTransformDirty()}},dropShadow:{configurable:!0,
enumerable:!0,get:function(){return this.mDefaultStyle.dropShadow},set:function(a){a!==this.mDefaultStyle.dropShadow&&(this.mDefaultStyle.dropShadow=a,this.setDirty(16,!1),this.setTransformDirty())}},shadowColor:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowColor},set:function(a){a!==this.mDefaultStyle.shadowColor&&(this.mDefaultStyle.shadowColor=a,this.setDirty(24,!1))}},shadowAlpha:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowAlpha},
set:function(a){a!==this.mDefaultStyle.shadowAlpha&&(this.mDefaultStyle.shadowAlpha=a,this.setDirty(24,!1))}},shadowBlur:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowBlur},set:function(a){a!==this.mDefaultStyle.shadowBlur&&(this.mDefaultStyle.shadowBlur=a,this.setDirty(24,!1))}},shadowDistanceX:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowDistanceX},set:function(a){a!==this.mDefaultStyle.shadowDistanceX&&(this.mDefaultStyle.shadowDistanceX=
a,this.setDirty(24,!1))}},shadowDistanceY:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowDistanceY},set:function(a){a!==this.mDefaultStyle.shadowDistanceY&&(this.mDefaultStyle.shadowDistanceY=a,this.setDirty(24,!1))}},highQuality:{configurable:!0,enumerable:!0,get:function(){return this.mHighQuality},set:function(a){this.mHighQuality=a;this.setDirty(16,!1);this.setTransformDirty()}}});var Tb=function(a,b){b=void 0===b?"":b;var c=da.call(this)||this;c.mData=null!==a&&
a.constructor===String?r.assets.getBitmapFont(a):a;c.mText=b;c.mAutoSize=!0;c.mMultiline=!1;c.mLineHeight=1.2;c.mBounds=new z;c.mTextBounds=new z;c.mFieldWidth=0;c.mFieldHeight=0;return c};$jscomp.inherits(Tb,da);Tb.prototype.getRenderer=function(){return r.driver.getRenderer("BitmapText",this)};Tb.prototype.onGetLocalBounds=function(a){a=a||new z;if(null!==this.mClipRect)return this.mClipRect.copyTo(a),a;if(this.mDirty&16){var b=this.text;!1===this.mMultiline&&(b=b.replace(/\n/g,""));ab.measureBitmap(b,
this.mData,this.mLineHeight,this.mTextBounds)}!1===this.mAutoSize?(a.width=this.mFieldWidth,a.height=this.mFieldHeight):(a.width=this.mTextBounds.width,a.height=this.mTextBounds.height);return a};$jscomp.global.Object.defineProperties(Tb.prototype,{multiline:{configurable:!0,enumerable:!0,set:function(a){this.mMultiline=a;this.setDirty(16,!1)},get:function(){return this.mMultiline}},lineHeight:{configurable:!0,enumerable:!0,set:function(a){this.mLineHeight=a;this.setDirty(16,!1)},get:function(){return this.mLineHeight}},
fieldWidth:{configurable:!0,enumerable:!0,get:function(){return this.mFieldWidth},set:function(a){a!==this.mFieldWidth&&(this.mFieldWidth=a,this.setDirty(16,!1))}},fieldHeight:{configurable:!0,enumerable:!0,get:function(){return this.mFieldHeight},set:function(a){a!==this.mFieldHeight&&(this.mFieldHeight=a,this.setDirty(16,!1))}},text:{configurable:!0,enumerable:!0,get:function(){return this.mText},set:function(a){this.mText!==a&&(this.mText=a,this.setDirty(16,!1))}},autoSize:{configurable:!0,enumerable:!0,
get:function(){return this.mAutoSize},set:function(a){this.mAutoSize!==a&&(this.mAutoSize=a,this.setDirty(16,!1))}}});var La=function(){this.value=new q;return this};$jscomp.inherits(La,wb);La.prototype.getValue=function(){return this.getValueAt(Math.random())};var Ab=function(){this.value=0;return this};$jscomp.inherits(Ab,wb);Ab.prototype.getValue=function(){return this.getValueAt(Math.random())};var Ua=function(a,b,c){b=void 0===b?null:b;c=void 0===c?null:c;var d=Ab.call(this)||this;d.startColor=
a;d.endColor=null===b?a:b;d.ease=c;return d};$jscomp.inherits(Ua,Ab);Ua.prototype.getValueAt=function(a){null!==this.ease&&(a=this.ease(a));return this.value=this.startColor===this.endColor?this.startColor:x.lerpHSV(this.startColor,this.endColor,a)};Ua.fromObject=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return b[0]instanceof Ab?b[0]:new (Function.prototype.bind.apply(Ua,[null].concat($jscomp.arrayFromIterable(b))))};var ra=function(a,b,c,d,e){a=void 0===a?0:a;b=void 0===
b?0:b;c=void 0===c?null:c;d=void 0===d?null:d;e=void 0===e?null:e;var f=La.call(this)||this;f.minX=a;f.minY=b;f.maxX=null===c?a:c;f.maxY=null===d?b:d;f.ease=e;return f};$jscomp.inherits(ra,La);ra.prototype.getValue=function(){this.value.x=Math.random()*(this.maxX-this.minX)+this.minX;this.value.y=Math.random()*(this.maxY-this.minY)+this.minY;return this.value};ra.prototype.getValueAt=function(a){null!==this.ease&&(a=this.ease(a));this.value.x=this.minX+a*(this.maxX-this.minX);this.value.y=this.minY+
a*(this.maxY-this.minY);return this.value};ra.fromObject=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return b[0]instanceof La?b[0]:new (Function.prototype.bind.apply(ra,[null].concat($jscomp.arrayFromIterable(b))))};var fc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=La.call(this)||this;c.mCurve=new ca;c.mCurve.baked=!0;c.mCurve.set.apply(c.mCurve,$jscomp.arrayFromIterable(b));c.mPointsCache=b;c.mCache=new q;return c};$jscomp.inherits(fc,La);
fc.prototype.getValueAt=function(a){this.mCurve.interpolate(a,this.mCache);return this.mCache};$jscomp.global.Object.defineProperties(fc.prototype,{points:{configurable:!0,enumerable:!0,set:function(a){this.mPointsCache=a;this.mCurve.set.apply(this.mCurve,$jscomp.arrayFromIterable(a))},get:function(){return this.mPointsCache}}});var gc=function(a,b,c,d){a=void 0===a?0:a;b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?null:d;var e=La.call(this)||this;e.x=a;e.y=b;e.minRadius=c;e.maxRadius=null===d?c:
d;return e};$jscomp.inherits(gc,La);gc.prototype.getValue=function(){return this.getValueAt(Math.random())};gc.prototype.getValueAt=function(a){var b=this.minRadius+a*(this.maxRadius-this.minRadius);a=2*Math.random()*Math.PI;b*=b;var c=this.y+Math.sqrt(b)*Math.sin(a);this.value.x=this.x+Math.sqrt(b)*Math.cos(a);this.value.y=c;return this.value};var hc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=hb.call(this)||this;c.mCurve=new ca;c.mCurve.baked=!0;c.mCurve.set.apply(c.mCurve,
$jscomp.arrayFromIterable(b));c.mPointsCache=b;c.mCache=new q;return c};$jscomp.inherits(hc,hb);hc.prototype.getValueAt=function(a){this.mCurve.interpolate(a,this.mCache);return this.value=this.mCache.y};$jscomp.global.Object.defineProperties(hc.prototype,{points:{configurable:!0,enumerable:!0,set:function(a){this.mPointsCache=a;this.mCurve.set.apply(this.mCurve,$jscomp.arrayFromIterable(a))},get:function(){return this.mPointsCache}}});var vc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-
0]=arguments[c];c=L.call(this,!1)||this;c.scatter=ra.fromObject.apply(ra,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(vc,L);vc.prototype.update=function(a,b,c){this.scatter.getValue();b.ax+=this.scatter.value.x;b.ay+=this.scatter.value.y};var wc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=X.fromObject.apply(X,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(wc,L);wc.prototype.update=function(a,b,c){b.alpha=this.scatter.getValueAt(b.energy)};
var xc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=Ua.fromObject.apply(Ua,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(xc,L);xc.prototype.update=function(a,b,c){b.color=this.scatter.getValueAt(b.energy)};var yc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=X.fromObject.apply(X,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(yc,L);yc.prototype.update=function(a,
b,c){b.scaleX=b.scaleY=this.scatter.getValueAt(b.energy)};var zc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=X.fromObject.apply(X,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(zc,L);zc.prototype.update=function(a,b,c){b.r=this.scatter.getValueAt(b.energy)};var Ac=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=X.fromObject.apply(X,$jscomp.arrayFromIterable(b));return c};
$jscomp.inherits(Ac,L);Ac.prototype.update=function(a,b,c){b.textureIndex=Math.round(this.scatter.getValueAt(b.energy))};var Bc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=ra.fromObject.apply(ra,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Bc,L);Bc.prototype.update=function(a,b,c){this.scatter.getValueAt(b.energy);b.anchorX=this.scatter.value.x;b.anchorY=this.scatter.value.y};var Cc=function(a){a=void 0===a?0:a;var b=L.call(this,
!1)||this;b.angleShift=a;return b};$jscomp.inherits(Cc,L);Cc.prototype.update=function(a,b,c){b.r=(Math.atan2(b.vy,b.vx)*w.RAD2DEG-(90+this.angleShift))*c};var Bb=function(a,b,c,d,e){e=void 0===e?.1:e;var f=L.call(this,!1)||this;f.x=a;f.y=b;f.width=c;f.height=d;f.resolution=e;f.field=[];f.widthScaled=Math.floor(f.width*f.resolution);f.heightScaled=Math.floor(f.height*f.resolution);f.reset();return f};$jscomp.inherits(Bb,L);Bb.prototype.reset=function(){this.field.splice(0,this.field.length);for(var a=
0;a<this.heightScaled;a++)for(var b=0;b<this.widthScaled;b++)this.field.push(new q(0,0))};Bb.prototype.setData=function(a){for(var b=0;b<this.heightScaled;b++)for(var c=0;c<this.widthScaled;c++)a(c,b,this.field[c+b*this.widthScaled])};Bb.prototype.getVectorAt=function(a,b){a=Math.floor(a*this.resolution);b=Math.floor(b*this.resolution);a=~~(a+b*this.widthScaled);return 0>a||a>=this.field.length?null:this.field[a]};Bb.prototype.update=function(a,b,c){a=this.getVectorAt(b.x,b.y);null!==a&&(b.ax=a.x,
b.ay=a.y)};var Dc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=X.fromObject.apply(X,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Dc,L);Dc.prototype.update=function(a,b,c){b.life=this.scatter.getValue()};var Ec=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=X.fromObject.apply(X,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Ec,L);Ec.prototype.update=function(a,b,c){b.mass=
this.scatter.getValue()};var Fc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=X.fromObject.apply(X,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Fc,L);Fc.prototype.update=function(a,b,c){b.scaleX=b.scaleY=this.scatter.getValue()};var Gc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=ra.fromObject.apply(ra,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Gc,L);Gc.prototype.update=
function(a,b,c){this.scatter.getValue();b.vx=this.scatter.value.x;b.vy=this.scatter.value.y};var Hc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=ra.fromObject.apply(ra,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Hc,L);Hc.prototype.update=function(a,b,c){a=this.scatter.getValue();b.x=a.x;b.y=a.y};var Ic=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=X.fromObject.apply(X,$jscomp.arrayFromIterable(b));
return c};$jscomp.inherits(Ic,L);Ic.prototype.update=function(a,b,c){b.r=this.scatter.getValue()};var Jc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=X.fromObject.apply(X,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Jc,L);Jc.prototype.update=function(a,b,c){b.textureIndex=Math.round(this.scatter.getValue())};var Kc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=Ua.fromObject.apply(Ua,
$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Kc,L);Kc.prototype.update=function(a,b,c){b.color=this.scatter.getValue()};var Lc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=ra.fromObject.apply(ra,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Lc,L);Lc.prototype.update=function(a,b,c){a=this.scatter.getValue();b.anchorX=a.x;b.anchorY=a.y};var P=function(){};P.linear=function(a){return a};P.quadraticIn=function(a){return a*
a};P.quadraticOut=function(a){return a*(2-a)};P.quadraticInOut=function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)};P.cubicIn=function(a){return a*a*a};P.cubicOut=function(a){return--a*a*a+1};P.cubicInOut=function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)};P.quarticIn=function(a){return a*a*a*a};P.quarticOut=function(a){return 1- --a*a*a*a};P.quarticInOut=function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)};P.quinticIn=function(a){return a*a*a*a*a};P.quinticOut=function(a){return--a*
a*a*a*a+1};P.quinticInOut=function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)};P.sinusoidalIn=function(a){return 1-Math.cos(a*Math.PI/2)};P.sinusoidalOut=function(a){return Math.sin(a*Math.PI/2)};P.sinusoidalInOut=function(a){return.5*(1-Math.cos(Math.PI*a))};P.exponentialIn=function(a){return 0===a?0:Math.pow(1024,a-1)};P.exponentialOut=function(a){return 1===a?1:1-Math.pow(2,-10*a)};P.exponentialInOut=function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*
(a-1))+2)};P.circularIn=function(a){return 1-Math.sqrt(1-a*a)};P.circularOut=function(a){return Math.sqrt(1- --a*a)};P.circularInOut=function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)};P.elasticIn=function(a){return 0===a?0:1===a?1:-Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*Math.PI)};P.elasticOut=function(a){return 0===a?0:1===a?1:Math.pow(2,-10*a)*Math.sin(5*(a-.1)*Math.PI)+1};P.elasticInOut=function(a){if(0===a)return 0;if(1===a)return 1;a*=2;return 1>a?-.5*Math.pow(2,
10*(a-1))*Math.sin(5*(a-1.1)*Math.PI):.5*Math.pow(2,-10*(a-1))*Math.sin(5*(a-1.1)*Math.PI)+1};P.backIn=function(a){return a*a*(2.70158*a-1.70158)};P.backOut=function(a){return--a*a*(2.70158*a+1.70158)+1};P.backInOut=function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};P.bounceIn=function(a){return 1-P.bounceOut(1-a)};P.bounceOut=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*
(a-=2.625/2.75)*a+.984375};P.bounceInOut=function(a){return.5>a?.5*P.bounceIn(2*a):.5*P.bounceOut(2*a-1)+.5};P.smootherStep=function(a){return a*a*a*(a*(6*a-15)+10)};var Va=function(){};Va.linear=function(a,b,c){var d=a.length-1,e=d*b,f=Math.floor(e);c=c||w.lerp;return 0>b?c(a[0],a[1],e):1<b?c(a[d],a[d-1],d-e):c(a[f],a[f+1>d?d:f+1],e-f)};Va.bezier=function(a,b){for(var c=0,d=a.length,e=Math.pow,f=0;f<d;f++){var g=e(1-b,d-f)*e(b,f)*a[f];var h=d;var l=f,p=Va.__factorial;h=p(h)/p(l)/p(h-l);c+=g*h}return c};
Va.catmullRom=function(a,b){var c=a.length-1,d=c*b,e=Math.floor(d),f=function(g,h,l,p,t){g=.5*(l-g);p=.5*(p-h);var m=t*t;return(2*(h-l)+g+p)*t*m+(3*(l-h)-2*g-p)*m+g*t+h};return a[0]===a[c]?(0>b&&(e=Math.floor(d=c*(1+b))),f(a[(e-1+c)%c],a[e],a[(e+1)%c],a[(e+2)%c],d-e)):0>b?a[0]-(f(a[0],a[0],a[1],a[1],-d)-a[0]):1<b?a[c]-(f(a[c],a[c],a[c-1],a[c-1],d-c)-a[c]):f(a[e?e-1:0],a[e],a[c<e+1?c:e+1],a[c<e+2?c:e+2],d-e)};Va.__factorial=function(){var a=[1];return function(b){if(a[b])return a[b];for(var c=b;--b;)c*=
b;return a[b]=c}}();var Mc=P.smootherStep,ka=function(a,b,c,d){b=void 0===b?.25:b;c=void 0===c?null:c;d=void 0===d?null:d;var e=Y.call(this)||this;e.mValues=a;e.mDuration=b;e.mProperties=c;e.mPlugins=d;e.mIsPlaying=!1;e.mIsPaused=!1;e.mStartTime=0;e.mPausedTime=0;e.mValuesStart={};e.mElapsed=0;e.mInterpolation=Va.linear;e.mDelay=0;e.mRepeatDelay=0;e.mRepeats=0;e.mInitiated=!1;e.mStarted=!1;e.mReversed=!1;e.mYoyo=!1;e.mIsYoyoBack=!1;e.mReverseOnInit=!1;e.mRemoveOnComplete=!0;e.mPlayOnAdded=!0;e.mEase=
Mc;if(null!==e.mProperties)for(var f in e.mProperties)e[f]=e.mProperties[f];return e};$jscomp.inherits(ka,Y);ka.prototype.__start=function(a){this.mIsPlaying=!0;this.mStartTime=a+this.mDelay};ka.prototype.play=function(){this.mIsPaused?this.__resume():this.__start(r.time.now);return this};ka.prototype.stop=function(){if(!this.mIsPlaying)return this;this.mIsPlaying=!1;return this};ka.prototype.reset=function(){this.mElapsed=0;this.mIsPlaying&&this.play();return this};ka.prototype.to=function(a,b){this.mValues=
a=void 0===a?{}:a;this.mDuration=void 0===b?.25:b;this.mInitiated=!1;return this};ka.prototype.pause=function(){if(!this.mIsPlaying)return this;this.mIsPaused=!0;this.mPausedTime=r.time.now;return this};ka.prototype.__resume=function(){this.mIsPaused&&(this.mIsPaused=!1,this.mStartTime+=r.time.now-this.mPausedTime)};ka.prototype.removeFromParent=function(){this.mIsPlaying&&this.stop();Y.prototype.removeFromParent.call(this)};ka.prototype.chain=function(a){if(!a)return this;this.mRemoveOnComplete=
!1;a.playOnAdded=!1;this.on(O.COMPLETE,function(){a.play()});return a};ka.prototype.onAdded=function(a){this.mPlayOnAdded&&this.__start(r.time.now)};ka.prototype.__update=function(a){};ka.prototype.set=function(a){this.mValues=a;for(var b in this.mValues)this.mValuesStart[b]=parseFloat(this.gameObject[b])};ka.prototype.reverse=function(a){a=void 0===a?!1:a;this.mInitiated?this.__reverse():this.mReverseOnInit=!0;a&&(this.mIsYoyoBack=!this.mIsYoyoBack);return this};ka.prototype.__reverse=function(){for(var a in this.mValues){var b=
$jscomp.makeIterator([this.mValuesStart[a],this.mValues[a]]);this.mValues[a]=b.next().value;this.mValuesStart[a]=b.next().value}};ka.prototype.onRender=function(){if(0===r.engine.numUpdates){var a=r.time.now;if(!(a<this.mStartTime||!1===this.mIsPlaying||!0===this.mIsPaused)&&!1!==this.mStarted&&!1!==this.mInitiated){this.mElapsed=(a-this.mStartTime)/this.mDuration;1<this.mElapsed&&(this.mElapsed=1);a=this.mEase(this.mIsYoyoBack?1-this.mElapsed:this.mElapsed);for(var b in this.mValues){var c=this.mValuesStart[b],
d=this.mValues[b];null!==this.mPlugins&&this.mPlugins.hasOwnProperty(b)?(c=Array.isArray(d)?d:[c,d],this.gameObject[b]=Va.linear(c,a,this.mPlugins[b])):Array.isArray(d)?this.gameObject[b]=this.mInterpolation(d,a):this.gameObject[b]=c+(d-c)*(this.mIsYoyoBack?1-a:a)}}}};ka.prototype.onUpdate=function(){var a=r.time.now;if(!(a<this.mStartTime||!1===this.mIsPlaying||!0===this.mIsPaused)){this.__collectStartingValues();this.mElapsed=(a-this.mStartTime)/this.mDuration;1<this.mElapsed&&(this.mElapsed=1);
var b=this.mEase(this.mIsYoyoBack?1-this.mElapsed:this.mElapsed),c;for(c in this.mValues){var d=this.mValuesStart[c],e=this.mValues[c];null!==this.mPlugins&&this.mPlugins.hasOwnProperty(c)?(d=Array.isArray(e)?e:[d,e],this.gameObject[c]=Va.linear(d,b,this.mPlugins[c])):Array.isArray(e)?this.gameObject[c]=this.mInterpolation(e,b):this.gameObject[c]=d+(e-d)*(this.mIsYoyoBack?1-b:b)}this.post(O.UPDATE,this.gameObject);if(1===this.mElapsed)if(0<this.mRepeats--)!0===this.mYoyo&&this.reverse(!0),this.mStartTime=
a+this.mRepeatDelay,this.post("loop",this.gameObject);else if(this.mIsPlaying=!1,this.post(O.COMPLETE,this.gameObject),this.mRemoveOnComplete)this.removeFromParent();else{for(var f in this.mValues)this.mValuesStart[f]=this.mValues[f];this.mStarted=!1}}};ka.prototype.__collectStartingValues=function(){if(!1===this.mStarted){this.mStarted=!0;this.post("start",this.gameObject);for(var a in this.mValues)!this.mInitiated&&Array.isArray(this.mValues[a])&&(this.mValues[a]=[this.gameObject[a]].concat(this.mValues[a])),
this.mValuesStart[a]=parseFloat(this.gameObject[a]);!0!==this.mReversed&&!0!==this.mReverseOnInit||this.__reverse();this.mInitiated=!0}};$jscomp.global.Object.defineProperties(ka.prototype,{ease:{configurable:!0,enumerable:!0,get:function(){return this.mEase},set:function(a){this.mEase=a}},interpolation:{configurable:!0,enumerable:!0,get:function(){return this.mInterpolation},set:function(a){this.mInterpolation=a}},elapsed:{configurable:!0,enumerable:!0,get:function(){return this.mElapsed}},delay:{configurable:!0,
enumerable:!0,get:function(){return this.mDelay},set:function(a){this.mDelay=a}},repeats:{configurable:!0,enumerable:!0,get:function(){return this.mRepeats},set:function(a){this.mRepeats=a}},repeatDelay:{configurable:!0,enumerable:!0,get:function(){return this.mRepeatDelay},set:function(a){this.mRepeatDelay=a}},loop:{configurable:!0,enumerable:!0,get:function(){return Infinity===this.mRepeats},set:function(a){this.mRepeats=a?Infinity:0}},yoyo:{configurable:!0,enumerable:!0,get:function(){return this.mYoyo},
set:function(a){this.mYoyo=a}},reversed:{configurable:!0,enumerable:!0,get:function(){return this.mReversed},set:function(a){this.mReversed=a}},removeOnComplete:{configurable:!0,enumerable:!0,get:function(){return this.mRemoveOnComplete},set:function(a){this.mRemoveOnComplete=a}},playOnAdded:{configurable:!0,enumerable:!0,get:function(){return this.mPlayOnAdded},set:function(a){this.mPlayOnAdded=a}},plugins:{configurable:!0,enumerable:!0,get:function(){return this.mPlugins},set:function(a){this.mPlugins=
a}},duration:{configurable:!0,enumerable:!0,get:function(){return this.mDuration}},isPlaying:{configurable:!0,enumerable:!0,get:function(){return!0===this.mIsPlaying&&!1===this.mIsPaused}}});$jscomp.global.Object.defineProperties(ka,{defaultEase:{configurable:!0,enumerable:!0,get:function(){return Mc},set:function(a){Mc=a}}});var ob=function(a,b,c,d,e){d=void 0===d?14:d;e=void 0===e?!0:e;n.assert(0<d,"FPS must be greater than 0.");this.mController=a;this.mName=b;this.mFrames=c;this.mNextFrameAt=this.mCurrentFrame=
0;this.mFPS=d;this.mFrameDuration=1/this.mFPS;this.mLoop=e;this.mPaused=!1;this.mElapsed=0;this.mCompleted=this.mStopped=!1};ob.prototype.__play=function(){!0===this.mCompleted&&(this.mElapsed=this.mCurrentFrame=0);this.mCompleted=this.mStopped=this.mPaused=!1;this.mNextFrameAt=r.time.now+this.mFrameDuration-this.mElapsed;this.mElapsed=0;return this.mFrames[this.mCurrentFrame]};ob.prototype.__stop=function(){this.mStopped=!0;this.mCurrentFrame=0};ob.prototype.__pause=function(){this.mPaused=!0;this.mElapsed=
this.mNextFrameAt-r.time.now};ob.prototype.__update=function(){if(r.time.now<this.mNextFrameAt||!0===this.mPaused||!0===this.mStopped||!0===this.mCompleted)return null;this.mCurrentFrame++;if(this.mCurrentFrame>=this.mFrames.length)if(!0===this.mLoop)this.mCurrentFrame=0;else return this.mCurrentFrame=this.mFrames.length-1,this.mController.post(O.COMPLETE,this),this.mCompleted=!0,null;this.mNextFrameAt=r.time.now+this.mFrameDuration;return this.mFrames[this.mCurrentFrame]};$jscomp.global.Object.defineProperties(ob.prototype,
{fps:{configurable:!0,enumerable:!0,get:function(){return this.mFPS},set:function(a){n.assert(0<a,"FPS must be greater than 0.");this.mFPS=a;this.mFrameDuration=1/this.mFPS;this.mNextFrameAt+=this.mNextFrameAt-r.time.now}},loop:{configurable:!0,enumerable:!0,get:function(){return this.mLoop},set:function(a){this.mLoop=a}},frames:{configurable:!0,enumerable:!0,get:function(){return this.mFrames}},isPlaying:{configurable:!0,enumerable:!0,get:function(){return!1===this.mPaused&&!1===this.mStopped}},
isComplete:{configurable:!0,enumerable:!0,get:function(){return this.mCompleted}},name:{configurable:!0,enumerable:!0,get:function(){return this.mName}}});var Ma=function(){var a=Y.call(this)||this;a.mAnimations={};a.mCurrentAnim=null;return a};$jscomp.inherits(Ma,Y);Ma.prototype.getByName=function(a){n.assert(null!==a,"Animation must be set first.");n.assert(this.mAnimations.hasOwnProperty(a),"Animation must be set first.");return this.mAnimations[a]};Ma.prototype.remove=function(a){n.assert(null!==
a,"Animation name shall not be null.");n.assert(!0===this.mAnimations.hasOwnProperty(a),"Unable to find animation.");var b=this.mAnimations[a];null!==this.mCurrentAnim&&this.mCurrentAnim===b&&(this.stop(),delete this.mAnimations[a]);this.mCurrentAnim=null};Ma.prototype.add=function(a,b,c,d){c=void 0===c?14:c;d=void 0===d?!0:d;n.assert(0<b.length,"Animation cannot be empty.");n.assert(0<c,"FPS must be greater than 0.");n.assert(0==this.mAnimations.hasOwnProperty(a),"Animation with same name already exists");
b=new ob(this,a,b,c,d);return this.mAnimations[a]=b};Ma.prototype.play=function(a){n.assert(this.mAnimations.hasOwnProperty(a),"Animation must be set first.");this.mCurrentAnim=this.mAnimations[a];a=this.mCurrentAnim.__play();var b=this.gameObject;null!==b&&null!==a&&(b.texture=a)};Ma.prototype.stop=function(){null!==this.mCurrentAnim&&this.mCurrentAnim.__stop()};Ma.prototype.pause=function(){null!==this.mCurrentAnim&&this.mCurrentAnim.__pause()};Ma.prototype.onRender=function(){if(null!==this.mCurrentAnim){var a=
this.mCurrentAnim.__update();null!==a&&(this.gameObject.texture=a)}};$jscomp.global.Object.defineProperties(Ma.prototype,{currentAnimation:{configurable:!0,enumerable:!0,get:function(){return this.mCurrentAnim}}});var ic=function(a){a=void 0===a?.5:a;var b=Ia.call(this)||this;b.mWaveShaperNode=r.audio.context.createWaveShaper();b.mInputNode=b.mWaveShaperNode;b.mOutputNode=b.mWaveShaperNode;b.mSamples=44100;b.mCurve=new Float32Array(b.mSamples);b.mValue=a;b.distortion=a;return b};$jscomp.inherits(ic,
Ia);ic.prototype.__makeDistortionCurve=function(a,b,c){a=~~(100*a);for(var d=Math.PI/180,e,f=0;f<b;++f)e=2*f/b-1,c[f]=(3+a)*e*20*d/(Math.PI+a*Math.abs(e));return c};$jscomp.global.Object.defineProperties(ic.prototype,{distortion:{configurable:!0,enumerable:!0,set:function(a){this.mValue=w.clamp(a,0,1);this.__makeDistortionCurve(this.mValue,this.mSamples,this.mCurve);this.mWaveShaperNode.curve=this.mCurve},get:function(){return this.mValue}}});var ib=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-
0]=arguments[c];c=Ia.call(this)||this;b=b||[60,170,310,600,1E3,3E3,6E3,12E3,14E3,16E3];c.mFilters=[];for(var d=0;d<b.length;d++)c.mFilters.push(c.__createFilter(b[d])),0<d&&c.mFilters[d-1].connect(c.mFilters[d]);c.mInputNode=c.mFilters[0];c.mOutputNode=c.mFilters[c.mFilters.length-1];c.mMaxGainLevel=16;c.mPresets={};return c};$jscomp.inherits(ib,Ia);ib.prototype.__createFilter=function(a){var b=r.audio.context.createBiquadFilter();b.type="peaking";b.frequency.setValueAtTime(a,0);b.Q.setValueAtTime(1,
0);b.gain.setValueAtTime(0,0);return b};ib.prototype.setLevelByIndex=function(a,b){n.assert(0<=a&&a<this.mFilters.length,"Frequency index is out of range");0>a||a>=this.mFilters.length||(b=w.clamp(b,-1,1),b*=this.mMaxGainLevel,this.mFilters[a].gain.setValueAtTime(b,0))};ib.prototype.setLevelByFrequency=function(a,b){for(var c=0;c<this.mFilters.length;c++)this.mFilters[c].frequency.value===a&&this.setLevelByIndex(c,b)};ib.prototype.addPreset=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-
1]=arguments[d];n.assert(c.length!=this.mFilters.length,"Number of preset values must be equal to frequencies number");this.mPresets[a]=c};ib.prototype.savePreset=function(a){var b=this;this.mPresets[a]=[];this.mFilters.forEach(function(c){return b.mPresets[a].push(c.frequency.value/b.mMaxGainLevel)})};ib.prototype.applyPreset=function(a){if(null!==this.mPresets[a])for(var b=0;b<this.mPresets[a].length;b++)this.setLevelByIndex(b,this.mPresets[a][b])};var Nc=function(a){var b=Ia.call(this)||this;b.mInputNode=
r.audio._newGainNode();b.mOutputNode=r.audio._newGainNode();b.mConvolver=r.audio.context.createConvolver();b.mDry=r.audio._newGainNode();b.mWet=r.audio._newGainNode();b.mTone=r.audio.context.createBiquadFilter();b.mConvolver.buffer=a;b.mInputNode.connect(b.mDry);b.mDry.connect(b.mOutputNode);b.mInputNode.connect(b.mTone);b.mTone.connect(b.mConvolver);b.mConvolver.connect(b.mWet);b.mWet.connect(b.mOutputNode);b.mDry.gain.setValueAtTime(1,0);b.mWet.gain.setValueAtTime(0,0);b.mTone.type="lowpass";b.mTone.frequency.setValueAtTime(350,
0);b.mTone.Q.setValueAtTime(Math.SQRT1_2,0);return b};$jscomp.inherits(Nc,Ia);$jscomp.global.Object.defineProperties(Nc.prototype,{wet:{configurable:!0,enumerable:!0,set:function(a){a=w.clamp(a,0,1);this.mWet.gain.setValueAtTime(a,0)},get:function(){return this.mWet.gain.value}},dry:{configurable:!0,enumerable:!0,set:function(a){a=w.clamp(a,0,1);this.mDry.gain.setValueAtTime(a,0)},get:function(){return this.mDry.gain.value}},tone:{configurable:!0,enumerable:!0,set:function(a){a=w.clamp(a,10,r.audio.context.sampleRate/
2);this.mTone.frequency.setValueAtTime(a,0)},get:function(){return this.mTone.frequency.value}}});var Wa=function(a,b,c,d){b=void 0===b?"master":b;c=void 0===c?!1:c;d=void 0===d?100:d;var e=Y.call(this)||this;e.mSoundClip=r.assets.getSound(a);e.mRolloff=d;e.mPlayOnAdded=!0;e.mStopOnRemove=!0;e.mSoundInstance=null;e.mCompleteBinding=null;e.mSpatialEffect=c;e.mChannelName=b;return e};$jscomp.inherits(Wa,Y);Wa.prototype.play=function(a,b,c){a=void 0===a?1:a;b=void 0===b?!1:b;(c=void 0===c?!1:c)&&this.mSoundInstance&&
this.stop();if(!this.mSoundInstance||c)this.mSoundInstance=this.mSoundClip.play(this.mChannelName,a,b),this.mCompleteBinding=this.mSoundInstance.on(O.COMPLETE,this.__onSoundComplete,this),this.spatialEffect=this.mSpatialEffect;return this.mSoundInstance};Wa.prototype.stop=function(){this.mSoundInstance&&(this.mCompleteBinding.off(),this.mSoundInstance.stop(),this.mSoundInstance=null)};Wa.prototype.__onSoundComplete=function(){this.mSoundInstance=null};Wa.prototype.onAdded=function(a){this.mPlayOnAdded&&
this.play()};Wa.prototype.onRemoved=function(a){this.mStopOnRemove&&this.mSoundInstance&&this.mSoundInstance.stop()};Wa.prototype.onUpdate=function(){if(this.mSpatialEffect&&null!=this.mSoundInstance&&!0===this.mSoundInstance.isPlaying){var a=r.stage,b=this.gameObject.localToGlobal(a.globalToLocal(new q(this.gameObject.pivotX,this.gameObject.pivotY)));this.mSoundInstance.mSpatialPanner.setPosition((b.x-a.centerX)/a.width*2,(b.y-a.centerY)/a.height*2,0)}};$jscomp.global.Object.defineProperties(Wa.prototype,
{playOnAdded:{configurable:!0,enumerable:!0,set:function(a){this.mPlayOnAdded=a},get:function(){return this.mPlayOnAdded}},stopOnRemove:{configurable:!0,enumerable:!0,set:function(a){this.mStopOnRemove=a},get:function(){return this.mStopOnRemove}},spatialEffect:{configurable:!0,enumerable:!0,set:function(a){(this.mSpatialEffect=a)&&null!=this.mSoundInstance&&!0===this.mSoundInstance.isPlaying&&(a=this.mSoundInstance.enableSpacePan(),a.rolloffFactor=this.mRolloff,a.refDistance=1,a.distanceModel="inverse")},
get:function(){return this.mSpatialEffect}}});var Cb=function(){return Y.call(this)||this};$jscomp.inherits(Cb,Y);Cb.prototype.onRemoved=function(a){this.loose()};Cb.prototype.listen=function(){r.audio.currentListener=this};Cb.prototype.loose=function(){r.audio.looseListener()};Cb.prototype.onRender=function(){if(r.audio.currentListener===this){var a=r.audio.context.listener,b=r.stage,c=this.gameObject.localToGlobal(b.globalToLocal(new q(this.gameObject.pivotX,this.gameObject.pivotY))),d=(c.x-b.centerX)/
b.width*2;b=(c.y-b.centerY)/b.height*2;null!=a.positionX?(a.positionX.setValueAtTime(d,0),a.positionY.setValueAtTime(b,0),a.positionZ.setValueAtTime(1,0)):a.setPosition(d,b,1)}};var Fa=function(){var a=Y.call(this)||this;a.mCollider=new Da(0,0,0,0);a.mInGroup=!1;a.mIsSleeping=!1;a.mSleepTime=0;a.mContacts=[];a.mPivot=new q(Number.MAX_VALUE);a.mCachedPosition=new q;a.mPairs=[];a.mIsStatic=!1;a.mPosition=new q;a.mVelocity=new q;a.mForce=new q;a.mTransform=new D(Number.MAX_VALUE);a.mMass=1;a.mInvMass=
1;a.frictionAir=.01;a.friction=.1;a.bounce=.1;return a};$jscomp.inherits(Fa,Y);Fa.prototype.update=function(){var a=this.gameObject,b=a.mCollidersCache,c=this.mCollider,d=this.mPosition,e=a.worldTransformation,f=e.data,g=this.mTransform;if(g.data[0]!==f[0]||g.data[2]!==f[2]){g.set(f[0],f[1],f[2],f[3],0,0);c.mChanged=!0;f=0;for(var h=b.length;f<h;f++)b[f].mChanged=!0}if(a!==r.stage){f=this.mCachedPosition;h=f.x;var l=f.y;e.transformXY(a.pivotX,a.pivotY,f);d.x+=f.x-h;d.y+=f.y-l;a.parent.globalToLocal(d,
f);a.x=f.x;a.y=f.y;a.worldTransformation.transformXY(a.pivotX,a.pivotY,f)}if(0===b.length)b=a.localBounds,a instanceof da?null!==a.mClipRect?c.set(0,0,b.width,b.height):c.set(-a.pivotX,-a.pivotY,b.width,b.height):c.set(-a.pivotX,-a.pivotY,b.width,b.height),c.refresh(g,d);else for(a=0,c=b.length;a<c;a++)b[a].refresh(g,d)};Fa.prototype.clearFlags=function(){var a=this.gameObject.mCollidersCache;this.mCollider.mChanged=!1;for(var b=0,c=a.length;b<c;b++)a[b].mChanged=!1};$jscomp.global.Object.defineProperties(Fa.prototype,
{mass:{configurable:!0,enumerable:!0,get:function(){return this.mMass},set:function(a){this.mMass=a;this.mInvMass=0===a||this.mIsStatic?0:1/a}},isStatic:{configurable:!0,enumerable:!0,get:function(){return this.mIsStatic},set:function(a){this.mIsStatic=a;this.mass=this.mMass}},x:{configurable:!0,enumerable:!0,set:function(a){this.mPosition.x=a},get:function(){return this.mPosition.x}},y:{configurable:!0,enumerable:!0,set:function(a){this.mPosition.y=a},get:function(){return this.mPosition.y}},forceX:{configurable:!0,
enumerable:!0,set:function(a){this.mIsSleeping=!1;this.mForce.x=a},get:function(){return this.mForce.x}},forceY:{configurable:!0,enumerable:!0,set:function(a){this.mIsSleeping=!1;this.mForce.y=a},get:function(){return this.mForce.y}},velocityX:{configurable:!0,enumerable:!0,set:function(a){this.mVelocity.x=a},get:function(){return this.mVelocity.x}},velocityY:{configurable:!0,enumerable:!0,set:function(a){this.mVelocity.y=a},get:function(){return this.mVelocity.y}}});var pb=function(){this.verticesB=
this.verticesA=this.axis=null;this.rangeA=new Oc;this.rangeB=new Oc;this.offset=0};pb.prototype.set=function(a,b,c){this.verticesA=a;this.verticesB=b;this.axis=c;this.refresh()};pb.prototype.refresh=function(){pb.__project(this.verticesA,this.axis,this.rangeA);pb.__project(this.verticesB,this.axis,this.rangeB)};pb.__project=function(a,b,c){for(var d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=0,g=a.length;f<g;f++){var h=a[f].dot(b);d=h<d?h:d;e=h>e?h:e}c.min=d;c.max=e};var Oc=function(){this.max=this.min=
0},cd=5,dd=1,ed=.2,fd=1,gd=.1,hd=1,ea=function(){this.bodyB=this.bodyA=this.b=this.a=null;this.mIsStatic=this.mInCollision=!1;this.mMass=this.mBias=this.mFriction=this.mPositionImpulse=this.mTangentImpulse=this.mNormalImpulse=0;this.mOffset=new q;this.mNormal=new q;this.mOverlap=0;this.mChanged=!1};ea.prototype.test=function(){return this.mInCollision};ea.prototype.preSolve=function(){var a=this.mNormal.x,b=this.mNormal.y,c=this.bodyA.mPosition,d=this.bodyB.mPosition,e=this.bodyA.mVelocity,f=this.bodyB.mVelocity,
g=this.bodyA.mInvMass,h=this.bodyB.mInvMass,l=this.mOffset,p=this.mNormalImpulse*a+this.mTangentImpulse*-b,t=this.mNormalImpulse*b+this.mTangentImpulse*+a;l.x=d.x-c.x;l.y=d.y-c.y;e.x-=p*g;e.y-=t*g;f.x+=p*h;f.y+=t*h;a=(f.x-e.x)*a+(f.y-e.y)*b;this.mBias=a<-(ea.bounceTreshhold*ea.unitsPerMeter*r.stage.mScaleX)?-Math.max(this.bodyA.bounce,this.bodyB.bounce)*a:0;this.mMass=1/(g+h);this.mFriction=Math.min(this.bodyA.friction,this.bodyB.friction);this.mPositionImpulse=0};ea.prototype.solveVelocity=function(){var a=
this.mNormal.x,b=this.mNormal.y,c=-b,d=+a,e=this.bodyA.mVelocity,f=this.bodyB.mVelocity,g=this.bodyA.mInvMass,h=this.bodyB.mInvMass,l=-((f.x-e.x)*a+(f.y-e.y)*b-this.mBias)*this.mMass,p=Math.max(this.mNormalImpulse+l,0);l=p-this.mNormalImpulse;this.mNormalImpulse=p;a*=l;b*=l;e.x-=a*g;e.y-=b*g;f.x+=a*h;f.y+=b*h;b=-((f.x-e.x)*c+(f.y-e.y)*d)*this.mMass;l=this.mFriction*this.mNormalImpulse;l=w.clamp(this.mTangentImpulse+b,-l,l);b=l-this.mTangentImpulse;this.mTangentImpulse=l;c*=b;d*=b;e.x-=c*g;e.y-=d*
g;f.x+=c*h;f.y+=d*h};ea.prototype.solvePosition=function(){var a=this.mNormal.x,b=this.mNormal.y,c=this.bodyA.mInvMass,d=this.bodyB.mInvMass,e=this.bodyA.mPosition,f=this.bodyB.mPosition,g=this.mOffset;g=(this.mOverlap+((g.x-f.x+e.x)*a+(g.y-f.y+e.y)*b)-ea.slop)*ea.baumgarte;if(!(0>=g)){g*=this.mMass;var h=this.mPositionImpulse;this.mPositionImpulse=Math.max(h+g,0);g=this.mPositionImpulse-h;a*=g;b*=g;e.x-=a*c;e.y-=b*c;f.x+=a*d;f.y+=b*d}};ea.__id=function(a,b){return a.mId>b.mId?a.mId+"&"+b.mId:b.mId+
"&"+a.mId};$jscomp.global.Object.defineProperties(ea,{timeToSleep:{configurable:!0,enumerable:!0,get:function(){return cd},set:function(a){cd=a}},slop:{configurable:!0,enumerable:!0,get:function(){return dd},set:function(a){dd=a}},baumgarte:{configurable:!0,enumerable:!0,get:function(){return ed},set:function(a){ed=a}},unitsPerMeter:{configurable:!0,enumerable:!0,get:function(){return fd},set:function(a){fd=a}},sleepThreshold:{configurable:!0,enumerable:!0,get:function(){return gd},set:function(a){gd=
a}},bounceTreshhold:{configurable:!0,enumerable:!0,get:function(){return hd},set:function(a){hd=a}}});var Pc=null,Na=function(){var a=ea.call(this)||this;a.a=null;a.b=null;for(var b=[],c=0;4>c;c++)b.push(new pb);a.mProjections=b;return a};$jscomp.inherits(Na,ea);Na.prototype.set=function(a,b,c,d){this.a=a;this.b=b;this.bodyA=c;this.bodyB=d;c=this.mProjections;for(var e=d=0;4>d;d+=2,e+=1)c[d].set(a.mVertices,b.mVertices,a.mNormals[e]),c[d+1].set(a.mVertices,b.mVertices,b.mNormals[e]);return this};
Na.prototype.__refreshProjectionsRanges=function(){for(var a=this.mProjections,b=0;4>b;b++)a[b].refresh()};Na.prototype.test=function(){var a=this.a,b=this.b;if(a.mChanged||b.mChanged)this.mChanged=!0;if(a.mMax.x<b.mMin.x||a.mMin.x>b.mMax.x||a.mMax.y<b.mMin.y||a.mMin.y>b.mMax.y)return this.mInCollision=!1;a=this.mProjections;b=this.mNormal;var c=this.bodyB.mPosition.x-this.bodyA.mPosition.x,d=this.bodyB.mPosition.y-this.bodyA.mPosition.y;this.mChanged&&(this.mChanged=!1,this.__refreshProjectionsRanges());
this.mOverlap=Number.MAX_VALUE;for(var e=0;4>e;e++){var f=a[e];f.offset=f.axis.x*c+f.axis.y*d;var g=f.rangeA.max,h=f.rangeB.min+f.offset;if(f.rangeA.min>f.rangeB.max+f.offset||h>g)return this.mInCollision=!1}for(c=0;4>c;c++){d=a[c];e=d.rangeA.min;f=d.rangeA.max;g=d.rangeB.min+d.offset;h=d.rangeB.max+d.offset;var l=f-g,p=h-e;l=l<p?l:-p;e<g&&f<h?l=f-g:f>h&&(l=e-h);e=Math.abs(l);e<this.mOverlap&&(this.mOverlap=e,b.copyFrom(d.axis),0>l&&b.multiplyScalar(-1))}return this.mInCollision=!0};$jscomp.global.Object.defineProperties(Na,
{pool:{configurable:!0,enumerable:!0,get:function(){null===Pc&&(Pc=new V(Na,100));return Pc}}});var Qc=null,Oa=function(){var a=ea.call(this)||this;a.a=null;a.b=null;a.mBoxHalfWidth=0;a.mBoxHalfHeight=0;a.mBoxRotate=new q;a.mCircleCenter=new q;return a};$jscomp.inherits(Oa,ea);Oa.prototype.set=function(a,b,c,d){this.a=a;this.b=b;this.bodyA=c;this.bodyB=d;return this};Oa.prototype.__rotate=function(a,b,c,d,e){var f=a.x-b,g=a.y-c;a.x=d*f-e*g+b;a.y=e*f+d*g+c};Oa.prototype.test=function(){var a=this.a,
b=this.b;a.mChanged&&(this.mChanged=!0);if(a.mMax.x<b.mMin.x||a.mMin.x>b.mMax.x||a.mMax.y<b.mMin.y||a.mMin.y>b.mMax.y)return this.mInCollision=!1;if(this.mChanged){this.mChanged=!1;var c=this.bodyA.mTransform.data,d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),e=Math.sqrt(c[2]*c[2]+c[3]*c[3]);this.mBoxRotate.set(c[0]/d,c[1]/d);this.mBoxHalfWidth=a.mRect.width/2*d;this.mBoxHalfHeight=a.mRect.height/2*e}c=this.mBoxRotate;d=this.mNormal;var f=this.mCircleCenter.copyFrom(b.mCenter),g=this.mBoxHalfWidth,h=this.mBoxHalfHeight;
(e=0!==c.y)&&this.__rotate(f,a.mCenter.x,a.mCenter.y,c.x,-c.y);var l=f.x-a.mCenter.x;f=f.y-a.mCenter.y;if(0===l&&0===f)return this.mOverlap=b.mRadius+g,d.set(-1,0),this.mInCollision=!0;var p=w.clamp(l,-g,g),t=w.clamp(f,-h,h);(a=l===p&&f===t)&&(Math.abs(l)>Math.abs(f)?p=0<p?g:-g:t=0<t?h:-h);g=l-p;h=f-t;l=g*g+h*h;b=b.mRadius;if(l>b*b&&!a)return this.mInCollision=!1;0===l?(this.mOverlap=b,d.set(0,1)):(l=Math.sqrt(l),this.mOverlap=b-l,a?d.set(-g/l,-h/l):d.set(g/l,h/l));e&&this.__rotate(d,0,0,c.x,c.y);
return this.mInCollision=!0};$jscomp.global.Object.defineProperties(Oa,{pool:{configurable:!0,enumerable:!0,get:function(){null===Qc&&(Qc=new V(Oa,100));return Qc}}});var Rc=null,Xa=function(){var a=ea.call(this)||this;a.a=null;a.b=null;return a};$jscomp.inherits(Xa,ea);Xa.prototype.set=function(a,b,c,d){this.a=a;this.b=b;this.bodyA=c;this.bodyB=d;return this};Xa.prototype.test=function(){var a=this.a,b=this.b,c=b.mCenter.x-a.mCenter.x,d=b.mCenter.y-a.mCenter.y;a=a.mRadius+b.mRadius;if(0===c&&0===
d)return this.mOverlap=a,this.mNormal.set(1,0),this.mInCollision=!0;b=c*c+d*d;if(b>a*a)return this.mInCollision=!1;b=Math.sqrt(b);this.mOverlap=a-b;this.mNormal.set(c/b,d/b);return this.mInCollision=!0};$jscomp.global.Object.defineProperties(Xa,{pool:{configurable:!0,enumerable:!0,get:function(){null===Rc&&(Rc=new V(Xa,100));return Rc}}});var Sc=function(){};Sc.prototype.test=function(a){};var na=function(){var a=ja.call(this)||this;a.mBodies=[];a.mPairs=[];a.mContacts=[];a.mBroadPhase=new Sc;a.mPairsHash=
Object.create(null);a.mBoundsBody=null;a.mBoundsLeft=new Da(0,0,0,0);a.mBoundsRight=new Da(0,0,0,0);a.mBoundsTop=new Da(0,0,0,0);a.mBoundsBottom=new Da(0,0,0,0);a.mGravity=new q(0,1E3);a.mIterations=5;a.mSleepEnabled=!0;a.delta=1/60;return a};$jscomp.inherits(na,ja);na.prototype.collisionInfo=function(a,b,c,d,e){for(var f=[],g=4;g<arguments.length;++g)f[g-4]=arguments[g];if((g=this.mPairsHash[ea.__id(a,b)])&&g.mInCollision){var h=g.a===a?1:-1;c.call.apply(c,[d,g.mNormal.x*h,g.mNormal.y*h,g.mOverlap].concat($jscomp.arrayFromIterable(f)))}};
na.prototype.isColliding=function(a,b,c,d,e){for(var f=[],g=4;g<arguments.length;++g)f[g-4]=arguments[g];b=void 0===b?null:b;c=void 0===c?null:c;d=void 0===d?null:d;g=a.mPairs;if(null===b){f=0;for(var h=g.length;f<h;f++)if(g[f].mInCollision)return!0;return!1}h=0;for(var l=g.length;h<l;h++){var p=g[h];if(!1!==p.mInCollision){var t=p.bodyA===a&&p.bodyB===b?1:p.bodyA===b&&p.bodyB===a?-1:0;if(0!==t)return c&&c.call.apply(c,[d,p.mNormal.x*t,p.mNormal.y*t,p.mOverlap].concat($jscomp.arrayFromIterable(f))),
!0}}return!1};na.prototype.onChildrenAdded=function(a){var b=this;B.forEach(a,function(c){(c=c.getComponent(Fa))&&b.__addBody(c)})};na.prototype.onChildrenRemoved=function(a){var b=this;B.forEach(a,function(c){(c=c.getComponent(Fa))&&b.__removeBody(c,a)})};na.prototype.onComponentAdded=function(a,b){b instanceof Fa?this.__addBody(b):b instanceof Ba&&this.__addCollider(a,b)};na.prototype.onComponentRemoved=function(a,b){b instanceof Fa?this.__removeBody(b,a):b instanceof Ba&&this.__removeCollider(a,
b)};na.prototype.__addBody=function(a){var b=this.mBodies,c=a.gameObject.mCollidersCache;a.mPairs.length=0;if(0===c.length)this.__addPairs(a.mCollider,a);else for(var d=0,e=c.length;d<e;d++)this.__addPairs(c[d],a);b.push(a)};na.prototype.__removeBody=function(a,b){var c=this.mBodies;b=b.mCollidersCache;if(0===b.length)this.__removePairs(a.mCollider);else for(var d=0,e=b.length;d<e;d++)this.__removePairs(b[d]);a.mPairs.length=0;c.splice(c.indexOf(a),1)};na.prototype.__addCollider=function(a,b){var c=
a.getComponent(Fa);c&&-1!==this.mBodies.indexOf(c)&&(this.__addPairs(b,c),1===a.mCollidersCache.length&&this.__removePairs(c.mCollider))};na.prototype.__removeCollider=function(a,b){var c=a.getComponent(Fa);if(c&&-1!==this.mBodies.indexOf(c)){this.__removePairs(b);for(var d=c.mPairs,e=d.length-1;0<=e;e--){var f=d[e];f.a!==b&&f.b!==b||d.splice(e,1)}0===a.mCollidersCache.length&&this.__addCollider(a,c.mCollider)}};na.prototype.__addPairs=function(a,b){var c=this.mBodies;a.mChanged=!0;for(var d=0,e=
c.length;d<e;d++){var f=c[d],g=f.gameObject.mCollidersCache;if(f!==b)if(0===g.length)this.__addPair(a,f.mCollider,b,f);else for(var h=0,l=g.length;h<l;h++)this.__addPair(a,g[h],b,f)}};na.prototype.__addPair=function(a,b,c,d){var e=a.constructor===Da,f=b.constructor===Da;if(e&&f)e=Na.pool.get();else if(e||f){if(e=Oa.pool.get(),f){f=c;var g=a;a=b;c=d;b=g;d=f}}else e=Xa.pool.get();e.mChanged=!0;e.set(a,b,c,d);e.mInCollision=!1;this.mPairs.push(e);this.mPairsHash[ea.__id(a,b)]=e;c.mPairs.push(e);d.mPairs.push(e)};
na.prototype.__removePairs=function(a){for(var b=this.mPairs,c=this.mPairsHash,d=b.length-1;0<=d;d--){var e=b[d];if(e.a===a||e.b===a)b.splice(d,1),e instanceof Na?Na.pool.release(e):e instanceof Oa?Oa.pool.release(e):e instanceof Xa&&Xa.pool.release(e),delete c[ea.__id(e.a,e.b)],e.bodyA.mPairs.splice(e.bodyA.mPairs.indexOf(e),1),e.bodyB.mPairs.splice(e.bodyB.mPairs.indexOf(e),1)}};na.prototype.onPostUpdate=function(){for(var a=this.delta,b=this.mContacts,c=this.mBodies,d=this.mPairs,e=b.length=0,
f=c.length;e<f;e++){var g=c[e];g.update();g.mContacts.length=0;g.mInGroup=!1}e=0;for(f=d.length;e<f;e++)g=d[e],g.mIsStatic=(g.bodyA.mIsSleeping||0===g.bodyA.mInvMass)&&(g.bodyB.mIsSleeping||0===g.bodyB.mInvMass),!1===g.mIsStatic&&(g.mInCollision=!0);e=0;for(f=d.length;e<f;e++)g=d[e],g.mInCollision&&!1===g.mIsStatic&&g.test();e=0;for(f=d.length;e<f;e++)g=d[e],g.mInCollision?(!1===g.mIsStatic&&b.push(g),g.bodyA.mContacts.push(g),g.bodyB.mContacts.push(g)):(g.mNormalImpulse=0,g.mTangentImpulse=0);this.__solve(a);
if(this.mSleepEnabled)for(a=[],b=[],d=0,e=c.length;d<e;d++)if(f=c[d],f.clearFlags(),!f.mInGroup&&!f.mIsSleeping&&0!==f.mInvMass){a.length=0;b.length=0;for(b.push(f);0!==b.length;){f=b.pop();g=f.mContacts;a.push(f);f.mInGroup=!0;for(var h=0,l=g.length;h<l;h++){var p=g[h];p=p.bodyA===f?p.bodyB:p.bodyA;p.mInGroup||0===p.mInvMass||b.push(p)}}f=!0;g=ea.sleepThreshold*ea.unitsPerMeter*r.stage.mScaleX;h=0;for(l=a.length;h<l;h++){p=a[h];var t=p.mVelocity;p.mSleepTime=t.x*t.x+t.y*t.y<g?p.mSleepTime+1:0;f=
f&&p.mSleepTime>ea.timeToSleep}g=0;for(h=a.length;g<h;g++)a[g].mIsSleeping=f}};na.prototype.__solve=function(a){for(var b=this.mIterations,c=this.mContacts,d=this.mBodies,e=this.mGravity,f=0,g=d.length;f<g;f++){var h=d[f];if(0!==h.mInvMass&&!h.mIsSleeping){var l=h.mForce,p=h.mVelocity,t=h.mInvMass;h=1-h.frictionAir;p.x=(p.x+(l.x*t+e.x)*a)*h;p.y=(p.y+(l.y*t+e.y)*a)*h}}e=0;for(f=c.length;e<f;e++)c[e].preSolve();for(e=0;e<b;e++)for(f=0,g=c.length;f<g;f++)c[f].solveVelocity();a*=r.stage.mScaleX*ea.unitsPerMeter;
e=0;for(f=d.length;e<f;e++)l=d[e],l.mForce.set(0,0),0===l.mInvMass||l.mIsSleeping||(g=l.mPosition,l=l.mVelocity,g.x+=l.x*a,g.y+=l.y*a);for(d=0;d<b;d++)for(a=0,e=c.length;a<e;a++)c[a].solvePosition()};na.prototype.__setBounds=function(){var a=r.stage.bounds,b=Number.MAX_SAFE_INTEGER;this.mBoundsLeft.set(-b,0,b,a.height);this.mBoundsRight.set(a.width,0,b,a.height);this.mBoundsTop.set(-b,-b,a.width+2*b,b);this.mBoundsBottom.set(-b,a.height,a.width+2*b,b)};$jscomp.global.Object.defineProperties(na.prototype,
{boundsEnabled:{configurable:!0,enumerable:!0,set:function(a){a?(this.mBoundsBody||(this.mBoundsBody=new Fa,this.mBoundsBody.isStatic=!0,r.stage.addComponent(this.mBoundsLeft),r.stage.addComponent(this.mBoundsRight),r.stage.addComponent(this.mBoundsTop),r.stage.addComponent(this.mBoundsBottom),this.__setBounds()),r.stage.addComponent(this.mBoundsBody)):r.stage.removeComponent(this.mBoundsBody)}},gravityX:{configurable:!0,enumerable:!0,set:function(a){this.mGravity.x=a},get:function(){return this.mGravity.x}},
gravityY:{configurable:!0,enumerable:!0,set:function(a){this.mGravity.y=a},get:function(){return this.mGravity.y}},iterations:{configurable:!0,enumerable:!0,set:function(a){this.mIterations=a},get:function(){return this.mIterations}},sleepEnabled:{configurable:!0,enumerable:!0,set:function(a){this.mSleepEnabled=a},get:function(){return this.mSleepEnabled}}});var jc=function(a){a=void 0===a?4200:a;var b=M.call(this,!1)||this;b.mDuration=a;b.mSvgLogo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 241.8 220.2"><defs><style>.b{fill:#f5f5f5}.c{fill:url(#a)}</style><pattern id="a" width="17.6" height="14.87" patternUnits="userSpaceOnUse" viewBox="0 0 17.6 14.9"><path fill="none" d="M0 0h17.6v14.87H0z"/><path class="b" d="M0 13.4v1.5h1.5A1.5 1.5 0 0 1 0 13.4z"/><path class="b" d="M8.8 0a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 1 1-3 0A1.5 1.5 0 0 1 8.8 0H0v13.4a1.5 1.5 0 0 1 1.5-1.5A1.5 1.5 0 0 1 3 13.4a1.5 1.5 0 0 1-1.5 1.5h4.3a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.4 1.4 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5h6a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 3 0 1.5 1.5 0 0 1-1.5 1.5h5.8V0zm6.6.7a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5 1.4 1.4 0 0 1-1.5-1.5A1.5 1.5 0 0 1 15.4.7zM.4 2.2A1.5 1.5 0 0 1 1.9.7a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5A1.5 1.5 0 0 1 .4 2.2zm1.7 5.7A1.5 1.5 0 0 1 .6 6.4a1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 0 3zm2 3.8a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5zm.2-8a1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.4 1.4 0 0 1-1.5 1.5 1.5 1.5 0 0 1-1.5-1.5zm2.2 3.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0zm2.2 5.3a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5zm1.4-8a1.5 1.5 0 0 1 3 0 1.5 1.5 0 1 1-3 0zm2.5 5.7a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.4 1.4 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5zm3 3.5a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.4 1.4 0 0 1-1.5 1.5zm0-5.5a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.4 1.4 0 0 1-1.5 1.5z"/></pattern></defs><path class="c" d="M25.8 105.2c12.1 8.8 29.7 6.7 59.8 6.8-7.9-7.3-9.1-18.7-7.1-27.3-6.6 7.3-5.1 19.3-12.8 19.4-3.4.1-6.9-4.7-8.3-10.8-5.3 9.4-12 10.7-14.7-4.5-2.3 2-3.9 8.2-9.5 6.2S26.8 81.8 30 71.3A28.3 28.3 0 0 1 14.6 61c-1.4 20.8.5 36.4 11.2 44.2zM51.9 39.9c29.7-3.6 54-22.8 69.5-26.3-.1 0-40.7-.3-72.3 1.9 6.2 3.5 10.5 16.3 2.8 24.4zM170.4 34.2c5.6-2 32.1-9.5 54.4-2.7-3-13.7-22.9-17-71.8-17.8a32.2 32.2 0 0 1 17.4 20.5zM211.3 109.3c-12.2 2.1-12.8-8.8-32.9-8.9-15.5 0-35.2 13.2-36.1 13.7h49.3c19.1 0 32.5-.6 35.5-7.3s-2.7-12.3-10.7-15.6c5.3 5.6 4.1 16.5-5.1 18.1zM66 189.2c-5.9 5-26 17.8-43.6 6.3 3.6 8.4 13.6 12.7 45.1 12-1.6-2.4-5.3-10.4-1.5-18.3zM32 161.5c7.3 7.8 18.1 2.6 33.7-6.2 10.5-6 27.5-9.9 40.6-1.1 3.7-8.7 5.4-10.9 6.7-10.6s.7 2.7 5.6 7c.4-1 3.8-7.9 3.8-12l-59.9-.8c-1.5 6.6-9.9 19-23.9 17.4-2.4-.3-2.5-11.6 2.4-16.9a36.7 36.7 0 0 0-7.4.9c-4.4 5.1-7 16.4-1.6 22.3zM150.9 148.1c23.6-.5 26 19.9 41.1 21 10.9.9 13.6-16.8 35.7-11.8-1.3-11.1-7.7-16.2-22.2-17.4 3 10.3-6.6 28.5-19.3 21.5a1.5 1.5 0 0 1-.8-1.1c-.9-11 2.8-15.8 7.5-20.7l-55.7-.7a18.5 18.5 0 0 1 3.7 12.4 20.7 20.7 0 0 1 10-3.2zM162 195.9c-3.9 3.6-3.8 9.5-2.5 12.5h4.1c0-14.8 17-12.8 21.2-.8 22.7-1.5 30.9-3.2 36-8.7s6.4-15.3 6.8-27.1c-2.6 3-9.8 14.7-10.9 16.4-17.8 26.3-39.9-5.9-54.7 7.7z"/><path class="b" d="M150 42.6c-.2 10.4-9.8 13.6-9.4-.7-16.2 1.9-14.5 8.5-13.7 9.5 4.4 5.6 29 4.5 27.3-4.3a5.7 5.7 0 0 0-4.2-4.5z"/><path class="b" d="M162.2 46.4c-1.7-15.7-17.2-18.2-28.4-15.6s-22.3 12.7-15.6 25.4 46.2 10.3 44-9.8zm-37.8 6.7c-5.4-9.7 10.6-13.4 13.2-13.8 7.5-1.3 18.2-1.2 19.6 7.6 2 13.2-28.8 13.3-32.8 6.2zM184.7 68.8c-1.1 0-1.1 3.3-5.4 12.5.3 0 5.8 0 8.6.2-.7-9.1-2.1-12.7-3.2-12.7zM162.5 82.9l7-1.1c-2.5-4.6-5.8-8.6-7 1.1zM153.1 74.5a55.8 55.8 0 0 0-7.8 2c6.4 9.4 7.4 2.2 7.8-2zM134.8 94.6c.4-.2 4.9-3.1 6.9-4.1-1.9-2-8.1-9.9-6.9 4.1zM190.9 81.8a58.3 58.3 0 0 1 9 1.5 77.7 77.7 0 0 0 .4-8.8c-1.7-.3-7.2-1.2-10.3-1.5a52 52 0 0 1 .9 8.8z"/><path class="b" d="M216.5 76.2a39.1 39.1 0 0 1-5.6 10.4c13 3 25.3 10.8 18.1 23.1-3.8 6.6-16.4 7.5-37.4 7.5l-55.4-.2a32.3 32.3 0 0 1-18.8 1.1c-6.8 1.5-18.2 3.7-28.2-3.1-30.8-.4-49.7 3.2-64.9-7.1C6.4 95.7 11.6 60.3 12 56.8c-6.4-12.5-.8-29.4 2.3-34.1S29.4 7.5 44.4 13c.2-.1 27.5-2.4 76-2.4 74.4 0 105.2.8 107.6 22.3 6 2.4 13.2 13 6.2 21 4.8 9.4.1 19.1-9.7 21.5a37.4 37.4 0 0 1 10.7 5.7c1.4-2.5 8.5-19.8 4.8-41.9-4.5-27.1-17.9-33.2-35.4-34.9C157.9 0 88.5.2 81.7.1 38.1-.3 18.2-.5 8.1 22.2-3.1 47.6-2.6 91.7 9.1 108c7.7 10.7 19.1 15.3 37.9 15.3 34.5 0 141.3 1.4 165.3 1.8 11-.3 27.9-3.4 29.3-19.7s-6.8-25.2-25.1-29.2z"/><path class="b" d="M202.7 88.6c1.3-.2 6.5-2 10.7-12.6-3-.2-6.3-.5-10.1-1.1.8 11.4-3 14-.6 13.7z"/><path class="b" d="M231.9 56c-7.6 5.5-18.2 1.8-19.8-3.4-2.6-8.6 4.4-10.9 6.7-10.6 7.7.8 7 6.1 4 8.1a1.5 1.5 0 0 1-1.9-2.4c1.8-1.3 0-2.8-2.1-2.7s-5.4 1-3.8 6.7 17.1 7.3 18.9-4.4c1-6.8-5.8-16.4-32.5-15.4a108.5 108.5 0 0 0-30.4 5.2c1.2 8.3-1.9 15.7-8.5 20.1-5.3 11.2-41.6 17.9-48.4-2.7-7.5.8-13.1 10-13.9 14.9a1.4 1.4 0 0 1-1.6 1.2c-6.5-.7-16.7 3.6-17.9 20-1.3 18.3 14.9 29.2 31.7 25.4a21.7 21.7 0 0 1-5-3.5c-5.7-.2-13.7-1.1-17.4-12.1-.6-1.7 2.1-3.2 2.9-.9 2.5 7.8 8.3 9.6 11.8 10a23.3 23.3 0 0 1-4.4-13.3c-.1-2.5 3-2 3-.2-.1 12.3 14.5 29.4 42 13 33.9-20.2 50.8-8.1 55.8-5 1.4.9 9.2 5.2 13.7.1 1.8-2 4.1-10.3-6.4-14.9-4.2 3.7-11.5 3.3-8.9-3-32.1-5.7-50.2 2.7-61.8 10.2s-16.4.3-17-2.5c-1.8-8.4 16.6-26.2 60.2-24.6 1.3-3.9 5.3-5.7 8.1.6 7.4.6 18 3.2 28.9 3.2s18.2-5.3 14-17.1z"/><path class="b" d="M176 81.3l3.8-9.1a107.7 107.7 0 0 0-23.6 1.6c-1.1 15.7-9.6 10.9-13.8 3.6-27.3 10.6-19.1 22.7-10.5 18.6-1.6-15.7 6-15 12.5-7a77.4 77.4 0 0 1 15.1-5.4c1.4-15.6 10-9.6 13.3-2.1zM65.8 101.1c5.2-.4 1.4-10.4 17-26.2 13.1-13.2-7.9-26.6-17.9-13s-4.4 39.6.9 39.2z"/><path class="b" d="M49.8 63.9c-4.7 6.2-6.6 20.2-2.4 30.6 2.9 7 6.9-1.5 9.3-5.4-1.2-8.8 0-20.5 5.2-28.1-5.6-3.5-10.1.3-12.1 2.9zM32.3 74.3c-2.4 10.4-.6 17.3 2.6 18.1s4.7-5.4 7.3-7.6c-.6-7.7.9-15.8 4.2-21.2-8.7-3.1-12.8 5.3-14.1 10.7z"/><path class="b" d="M12.2 39.9c-1.8 22.1 15.2 28 18.9 28.5 1.7-3.6 6.8-11.4 17.2-7.3 5.5-6.4 12-4.8 15.5-2.5C73.9 48.2 92 53.8 89.6 69.3a16.6 16.6 0 0 1 7.9-1.7c1.7-5.9 7.7-14.9 15.9-16.1a18.6 18.6 0 0 1 5.1-15.2c-4 1.6-20.6 10.6-28.1 12.3-1.4.3-2.4-2.4-.3-3 9.3-2.5 26.9-13.5 42.8-17.6 19.5-5.2 34.5 6.7 32.1 22.8 10.1-14.5-5.4-34.6-20.7-36.4-33.4-4.1-53.3 26.5-98.8 28.9-7 .4-11.9-2-13.7-6s-.9-9 3.7-10.6c2.1-.7 3.5 2.3 1.1 2.8s-4.9 9.2 4.8 10.7c12.7 2 14.5-14.3 7.3-21.2s-34-9.4-36.5 20.9zM108.8 156a30.1 30.1 0 0 1 6.8 8.2 45.5 45.5 0 0 1 2-10.6 17.4 17.4 0 0 1-5-5.7 47.5 47.5 0 0 0-3.8 8.1zM40.3 152.4c7.2.6 18.4-6.1 19.7-17.7-20.3-.3-20.5 13-19.7 17.7zM105.5 182.8c-9.5-20.1-30.2-13.6-46.7-2.2-14.8 10.3-29.4 7.7-35.8.1a31.5 31.5 0 0 1-4.6-32.4C5 168 14.6 187.8 24.8 193.5c18.7 10.5 37.8-5 41.6-8.5 12.4-11.2 28.8-11.8 33.4 2.2 4 12.2-7.6 21.6-15.9 18.1-10.7-4.4-6.4-13.5-3.1-15.1a7.4 7.4 0 0 1 8.7 1.9c1.2 1.3-.5 3.6-2.1 2.1s-3.5-2.1-5.1-1.3-4.3 7.6 2.6 9.6c8.9 2.6 14.7-7.1 12-14.4-3.9-10.7-15.2-8.9-19.9-6.6-14.5 7.2-12.8 30 6 30.7 23.2.9 27-19.8 22.5-29.4zM188.4 159.2c11.6 4.5 18.7-15.8 11.7-23.9-4.2 7.6-13.1 10.2-11.7 23.9z"/><path class="b" d="M191.9 172.1c-15.6-.4-20.8-23.1-41.9-20.9-24 2.5-24.8 45.6-13.1 57.6h3.1c-4.1-9.4-6.7-28.1 7.8-38.2 1.7-1.1 3.6 1.3 1.7 2.5-13.6 9.4-10.2 27.6-6.2 35.7h3.5c-4.2-8.4-3.6-21.3 2.4-27.3 18.5-18.3 44.9 16.4 57.1-.5 8-11.1 12.7-17.8 26.8-16.9a13.3 13.3 0 0 0-7-4c-19.7-4.1-20.7 12.4-34.2 12z"/><path class="b" d="M208.6 182.8c-13.7 18.8-40.7-15.8-57.2.7-5.4 5.4-5.6 18-1.2 25.1h6.1c-2-5.6.6-12.1 3.8-14.9 17.6-15 37.6 17.6 54.2-7.3 1-1.5 8.3-14.5 13.9-19.3-10.5.6-14.4 8.6-19.6 15.7z"/><path class="b" d="M238.8 151.3c-4-14.1-13.7-23-25.3-23.2-.3 0-120-1.8-163.5-1.8-40.8 0-44.9 21.4-47.3 34.2-3.8 20.4 3.9 40.1 8.9 46.1 9.4 11.4 25.3 13.6 48 13.6l128.4-.3c35.9 0 44.8-12.6 48.4-23.6 4.7-14 5.7-33.3 2.4-45zm-1.3 15.2c-1.5 1.5-3.3-.7-6.8 2.3.1 26.5-6.3 35.4-19 38.4-16.1 3.8-43.4 4.7-112.7 4.4-5.8 3.8-19.8 6.6-29-1.2-23.1.7-48.8.4-51.7-18.1-4.9-4.8-12.3-15.9-8.2-33.2 5.2-21.3 22.1-24.3 34.6-23.9 4.2-2.6 10-3.9 17-3.4 2 .2 1.4 2.5 1.3 3l59.3.8c.1-2-.9-2.5.1-3.9s8.9 1.7 11.8 4.1l61.1 1c4.2-4.3 3.6-10 9.2 0 12.4.9 25 4.3 26.3 21.8 3.7 1.8 8.1 6.4 6.7 7.9z"/><path class="b" d="M166.6 208.3l15.1-.6c-3.8-8.4-15.4-10.2-15.1.6zM113.3 166.2c-11.1-19.9-33.8-15.2-46.1-8.3-16.4 9.1-28.6 15.1-37.4 5.6-5.7-6.1-4.3-16.7-.5-23.4-12.8 6.6-13.3 28.1-4 38.6 5.7 6.5 18.5 8.7 31.8-.5 16.2-11.4 36.6-18.1 48.8-1.1 5.5 7.7 6.4 22.9-3 31.6h7.1c8-7 11.2-28.4 3.3-42.5z"/><path class="b" d="M137.7 153.6c1.7-13.2-7.4-17.4-12.4-18.8 1.6 11.6-8 17-6.8 36 4.6 13.7 2 29.9-4.4 38h19c-8.6-12.6-10-41.8 4.6-55.2z"/></svg>';
b.mSvgText='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 228.9 29"><defs><style>.a{fill:#f5f5f5}</style></defs><path class="a" d="M9.7 19a3.7 3.7 0 0 1 2.9 1.4 6 6 0 0 1 .9 3.6 4.6 4.6 0 0 1-1.4 3.8c-.9.7-2.5 1-4.7 1L0 28.7V10.1l6.6-.2a9.4 9.4 0 0 1 4.9 1c.9.7 1.4 2 1.4 3.9a5.1 5.1 0 0 1-.7 3A3.3 3.3 0 0 1 9.7 19zm-6.4-1.1h3.4a3.3 3.3 0 0 0 2.3-.6 2.5 2.5 0 0 0 .7-2.1 2.9 2.9 0 0 0-.7-2.1 5.1 5.1 0 0 0-2.6-.5H3.3zm0 8.3h3.5a3.9 3.9 0 0 0 2.6-.6c.5-.3.7-1.1.7-2.2a3 3 0 0 0-.7-2.4 3.8 3.8 0 0 0-2.7-.7H3.3zM22.9 10.1v14.3a2.1 2.1 0 0 0 .3 1.2 2.3 2.3 0 0 0 1.3.3h6.4l.2 2.6c-1.8.2-4.3.2-7.4.2s-4.2-1.2-4.2-3.8V10.1zM46.2 23.4h-6.9l-1.5 5.3h-3.5L39.9 11a1.2 1.2 0 0 1 1.2-.9h3.3a1.2 1.2 0 0 1 1.2.9l5.6 17.7h-3.5zm-.8-2.7l-1.9-6.4c-.2-1-.4-1.5-.4-1.6h-.7l-.4 1.6-1.9 6.4zM68.2 25.8l.3 2.5a18.5 18.5 0 0 1-5.7.7c-2.8 0-4.7-.7-5.8-2.1s-1.7-4-1.7-7.5.5-6 1.7-7.4 3-2.2 5.8-2.2a19.8 19.8 0 0 1 5.3.6l-.3 2.6a39.4 39.4 0 0 0-5-.2c-1.5 0-2.6.4-3.1 1.4s-.9 2.7-.9 5.2.3 4.3.9 5.2a3.2 3.2 0 0 0 3.1 1.5 37.5 37.5 0 0 0 5.4-.3zM79.1 20.3h-1.8a11.1 11.1 0 0 1 .2 1.9v6.5h-3.4V10.1h3.4v5.5a12.5 12.5 0 0 1-.2 2.1h1.8l5.1-7.6h3.7l-5 7.5a4.3 4.3 0 0 1-1.3 1.4 4.5 4.5 0 0 1 1.5 1.6l5.1 8h-3.7zM100 21.4l-3.8-1.2a5.1 5.1 0 0 1-2.8-2 5.9 5.9 0 0 1-.9-3.4c0-2 .5-3.4 1.4-4s2.6-1 5-1a24 24 0 0 1 5.8.6l-.2 2.4H99a4.7 4.7 0 0 0-2.5.4c-.4.2-.6.8-.6 1.7a2.5 2.5 0 0 0 .4 1.7 3.8 3.8 0 0 0 1.7.8l3.5 1.1a5.3 5.3 0 0 1 3 2 5.9 5.9 0 0 1 .9 3.4c0 2.1-.5 3.4-1.5 4.2s-2.7 1-5.1 1a30.8 30.8 0 0 1-6.1-.6L93 26l5.8.2a4.4 4.4 0 0 0 2.5-.5 2.2 2.2 0 0 0 .6-1.8 2.2 2.2 0 0 0-.4-1.6 3.5 3.5 0 0 0-1.5-.9zM126 10.1h3.5a1.2 1.2 0 0 1 1.3 1.4l.8 17.2h-3.3l-.7-15.8h-.5l-3.2 12.3a1.3 1.3 0 0 1-1.4 1.1H120a1.4 1.4 0 0 1-1.5-1.1l-3.2-12.3h-.5l-.6 15.8h-3.3l.7-17.2c.1-.9.5-1.4 1.4-1.4h3.5a1.2 1.2 0 0 1 1.3 1.2l2.7 10 .5 2.6h.4a26.1 26.1 0 0 1 .6-2.6l2.6-10a1.4 1.4 0 0 1 1.4-1.2zM141.4 28.7H138V10.1h3.4zM161.5 13h-5.7v15.7h-3.4V13h-5.7v-2.9h14.8zM180.9 10.1v18.6h-3.4v-8.5h-7.3v8.5h-3.4V10.1h3.4v7.3h7.3v-7.3zM196 13.1l-.2-2.6a24.4 24.4 0 0 1 5.9-.7 8.9 8.9 0 0 1 4.5.9 3.5 3.5 0 0 1 1.5 3.3 6.4 6.4 0 0 1-.7 3.1 13.3 13.3 0 0 1-2.4 3.3l-4.9 5.3 2.8-.2h5.8v3.2h-12.7v-2a2 2 0 0 1 .5-1.4l4.9-5.4c2.2-2.4 3.3-4.2 3.3-5.6a1.3 1.3 0 0 0-.7-1.3 5.7 5.7 0 0 0-2.2-.3 52.9 52.9 0 0 0-5.4.4zM214.3 28.7V10.1l7-.2c2.8 0 4.8.7 5.9 2.1s1.7 3.8 1.7 7.4-.6 6.1-1.7 7.5-3.1 2-5.9 2-4.5 0-7-.2zm3.4-16v13.4h3.6a3.6 3.6 0 0 0 3.2-1.4 12.6 12.6 0 0 0 .8-5.3c0-2.5-.3-4.3-.9-5.3a3.3 3.3 0 0 0-3.1-1.4h-3.6zM.1 8.1v-8h2.7a2.9 2.9 0 0 1 2.1.5 3 3 0 0 1 .5 2 2.9 2.9 0 0 1-.5 1.9 2.5 2.5 0 0 1-1.9.6H1.2v3zm1.1-4h1.6a1.6 1.6 0 0 0 1.1-.3 2.1 2.1 0 0 0 .3-1.2 2.3 2.3 0 0 0-.3-1.3A1.6 1.6 0 0 0 2.8 1H1.2zM9.7 0a3 3 0 0 1 2.5.9 5.2 5.2 0 0 1 .7 3.2 5 5 0 0 1-.7 3.2 3 3 0 0 1-2.5.9 2.8 2.8 0 0 1-2.4-.9 5 5 0 0 1-.7-3.2A5.2 5.2 0 0 1 7.3.9 2.8 2.8 0 0 1 9.7 0zm1.6 1.7A1.7 1.7 0 0 0 9.7 1a1.6 1.6 0 0 0-1.5.7 4.5 4.5 0 0 0-.4 2.4 4.5 4.5 0 0 0 .4 2.4 1.6 1.6 0 0 0 1.5.7 1.7 1.7 0 0 0 1.6-.7 4.5 4.5 0 0 0 .4-2.4 4.5 4.5 0 0 0-.4-2.4zM24.2.1l-1.6 7.6a.4.4 0 0 1-.4.4h-1.3a.4.4 0 0 1-.4-.4l-1.2-5.8a3.4 3.4 0 0 1-.1-.9h-.3l-.2.9-1.1 5.8V8h-1.7c-.3 0-.4-.1-.5-.4L13.9.1h1.2l1.2 6.1a5.1 5.1 0 0 0 .1 1h.3c0-.3.1-.7.1-1L18 .5a.4.4 0 0 1 .4-.4h1.3a.2.2 0 0 1 .2.2.2.2 0 0 1 .2.2l1.1 5.7c.1.3.1.6.2 1h.3v-.5a1.1 1.1 0 0 0 .1-.5L22.9.1zM30.3 7.1V8H27a1.6 1.6 0 0 1-1.2-.4 1.2 1.2 0 0 1-.4-1v-5a1.4 1.4 0 0 1 .4-1.1A2.1 2.1 0 0 1 27 .1h3.4V1h-3.2l-.5.2a.7.7 0 0 0-.1.5v1.7h3.3v1h-3.3v2a1.1 1.1 0 0 0 .1.6h3.6zM37.6 8.1h-1.2l-.7-2.5a1.1 1.1 0 0 0-1-.8h-1.6v3.3h-1.2v-8h2.8a3.4 3.4 0 0 1 2 .5 2.4 2.4 0 0 1 .6 1.8 2.8 2.8 0 0 1-.3 1.4 2 2 0 0 1-1.2.6 1.4 1.4 0 0 1 1 1.2zm-4.5-4.3h1.6a1.6 1.6 0 0 0 1.1-.3 1.4 1.4 0 0 0 .3-1.1 1.6 1.6 0 0 0-.3-1.1 1.6 1.6 0 0 0-1.1-.3h-1.6zM43.9 7.1V8h-3.3a1.6 1.6 0 0 1-1.2-.4 1.2 1.2 0 0 1-.4-1v-5a1.4 1.4 0 0 1 .4-1.1 2.1 2.1 0 0 1 1.2-.4H44V1h-3.2a.6.6 0 0 0-.5.2.8.8 0 0 0-.2.5v1.7h3.4v1h-3.4v2a1.1 1.1 0 0 0 .2.6h3.6zM45.5 8.1v-8h2.9a3 3 0 0 1 2.4.9 5.2 5.2 0 0 1 .7 3.2 5.2 5.2 0 0 1-.7 3.2 3 3 0 0 1-2.4.9zm1.1-7v6h1.8a1.6 1.6 0 0 0 1.5-.7 5.7 5.7 0 0 0 .4-2.4 6.5 6.5 0 0 0-.4-2.4 1.8 1.8 0 0 0-1.5-.6h-1.8zM59.6 3.9a1.5 1.5 0 0 1 1.3.6 2.8 2.8 0 0 1 .3 1.5 2.2 2.2 0 0 1-.5 1.6 3.4 3.4 0 0 1-2 .5h-3v-8h2.6a3.7 3.7 0 0 1 2.1.4 1.8 1.8 0 0 1 .6 1.6 2.3 2.3 0 0 1-.3 1.3 1.4 1.4 0 0 1-1.1.5zm-2.8-.4h1.6a2.9 2.9 0 0 0 1.2-.2 1.3 1.3 0 0 0 .3-1c0-.5-.1-.9-.4-1a1.7 1.7 0 0 0-1.2-.3h-1.5zm0 3.7h1.7a1.7 1.7 0 0 0 1.2-.3c.3-.1.4-.5.4-1a1.7 1.7 0 0 0-.4-1.2 1.9 1.9 0 0 0-1.3-.3h-1.6zM65.6 5.3v2.8h-1.1V5.3L61.8.1h1.3l1.6 3.3a4.2 4.2 0 0 0 .3.9h.1a8.5 8.5 0 0 1 .3-.9L67 .1h1.2z"/></svg>';
return b};$jscomp.inherits(jc,M);jc.prototype.show=function(){var a=this,b=.001*this.mDuration;b="#logo,#splash-screen{position:relative;box-sizing:border-box}#logo-inner,#logo-name{margin-left:auto;margin-right:auto}#splash-screen{z-index:999;top:0;left:0;width:100%;height:100%;display:block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAIklEQVQYV2OUkpL6/+zZMwYpKSkGEM3IwMDwnwEJMBJUAQCLUhABUGRZzwAAAABJRU5ErkJggg==);opacity:1;animation:hide 0s ease-in "+b+"s forwards}@keyframes hide{to{opacity:0}}#logo{top:20%;left:50%;animation:fadein "+
b+"s linear forwards}@keyframes fadein{0%{opacity:0}100%,40%{opacity:1}}#logo-name{width:100%;margin-top:108px}";var c=document.createElement("style");c.type="text/css";c.innerHTML=b;document.getElementsByTagName("head")[0].appendChild(c);var d=document.getElementById(r.engine.containerElementId),e=d.style.overflow;d.style.overflow="hidden";var f=document.createElement("div");f.id="splash-screen";d.appendChild(f);var g=document.createElement("div");g.id="logo";f.appendChild(g);var h=document.createElement("div");
h.id="logo-inner";h.innerHTML=this.mSvgLogo;g.appendChild(h);var l=document.createElement("div");l.id="logo-name";l.innerHTML=this.mSvgText;g.appendChild(l);var p=function(){var u=f.offsetWidth,y=f.offsetHeight;u=a.calculateAspectRatioFit(u,y,.5*u,.5*y);g.style.width=u.width+"px";g.style.height=u.height+"px";g.style.marginLeft=.5*-u.width+"px";h.style.width=Math.min(u.width,u.height)+"px";h.style.height=Math.min(u.width,u.height)+"px";l.style.width=.9*Math.min(u.width,u.height)+"px";l.style.height=
Math.min(u.width,u.height)+"px";l.style.marginTop="12px"};p();var t=d.offsetWidth,m=d.offsetHeight,v=setInterval(function(u){if(t!==d.offsetWidth||m!==d.offsetHeight)t=d.offsetWidth,m=d.offsetHeight,p()},1E3/60);setTimeout(function(){clearTimeout(v);c.parentNode.removeChild(c);f.parentNode.removeChild(f);d.style.overflow=e;a.post(O.COMPLETE)},this.mDuration);this.post(O.COMPLETE)};jc.prototype.calculateAspectRatioFit=function(a,b,c,d){c=Math.min(c/a,d/b);return{width:a*c,height:b*c}};var Ya=function(a,
b,c){a=void 0===a?1:a;b=void 0===b?1:b;c=void 0===c?!0:c;var d=Y.call(this)||this;n.assert(0<a,"the interval value must be greater than 0");n.assert(0<b,"the ticksCount value must be greater than 0");d.mStartOnAdded=c;d.mInterval=a;d.mTicksCount=b;d.mIsRunning=!1;d.mTick=0;d.mElapsedSeconds=0;d.mTotalElapsedSeconds=0;return d};$jscomp.inherits(Ya,Y);Ya.prototype.onAdded=function(){this.mStartOnAdded&&this.start()};Ya.prototype.onUpdate=function(){if(!1!==this.mIsRunning&&(this.mElapsedSeconds+=r.time.delta,
this.mTotalElapsedSeconds+=r.time.delta,this.mElapsedSeconds>=this.mInterval)){this.mElapsedSeconds=0;for(var a=Math.max(1,~~(r.time.delta/this.mInterval)),b=0;b<a;b++)if(this.mTick++,this.post("tick",this.mTick),this.mTick>=this.mTicksCount){this.mIsRunning=!1;this.post("complete");break}}};Ya.prototype.start=function(){this.mIsRunning=!0;return this};Ya.prototype.stop=function(){this.mIsRunning=!1;this.reset();return this};Ya.prototype.pause=function(){this.mIsRunning=!1;return this};Ya.prototype.reset=
function(){this.mTotalElapsedSeconds=this.mElapsedSeconds=this.mTick=0;return this};$jscomp.global.Object.defineProperties(Ya.prototype,{ticksLeft:{configurable:!0,enumerable:!0,get:function(){return this.mTicksCount-this.mTick}},currentTick:{configurable:!0,enumerable:!0,get:function(){return this.mTick}},elapsedSeconds:{configurable:!0,enumerable:!0,get:function(){return this.mElapsedSeconds}},secondsToNextTick:{configurable:!0,enumerable:!0,get:function(){return this.mInterval-this.mElapsedSeconds}},
isRunning:{configurable:!0,enumerable:!0,get:function(){return!0===this.mIsRunning}},isComplete:{configurable:!0,enumerable:!0,get:function(){return this.mTick>=this.mTicksCount}},ticksCount:{configurable:!0,enumerable:!0,get:function(){return this.mTicksCount},set:function(a){n.assert(0<a,"the ticksCount value must be greater than 0");this.mTicksCount=a}},interval:{configurable:!0,enumerable:!0,get:function(){return this.mInterval},set:function(a){n.assert(0<a,"the interval value must be greater than 0");
this.mInterval=a}},totalElapsedSeconds:{configurable:!0,enumerable:!0,get:function(){return this.mTotalElapsedSeconds}},startOnAdded:{configurable:!0,enumerable:!0,get:function(){return this.mStartOnAdded},set:function(a){this.mStartOnAdded=a}}});var ud=0,U=function(a,b,c,d){d=void 0===d?null:d;var e=M.call(this)||this;e.id=++ud;r.engine=e;e.mContainerElementId=a;e.mContainerElement=null;e.mVideoDriverClass=c;e.mSystemClasses=d;e.mStageWidth=0;e.mStageHeight=0;e.mLastUpdateTime=0;e.mFrameNum=0;e.mNumUpdates=
0;e.mMaxUpdatesPerFrame=60;e.mLastRenderTime=0;e.mSystems=[];e.mGameObject=null;e.mIsRunning=!1;e.mIsStarted=!1;e.mIsPanic=!1;e.mRAFHandle=-1;e.mViewport=null;e.mVideo=null;e.mPaused=!1;e.mUnpausing=!1;e.mPauseOnHide=!0;e.mPauseOnBlur=!0;e.mTagCache={};e.mGameClass=b;e.mStage=null;e.mWasStopped=!1;e.mFrameTimes=[];e.mUseHiDPR=!1;e.mPendingDispose=!1;e.__initialize();return e};$jscomp.inherits(U,M);U.prototype.__initialize=function(){console.log("%c                         >>> BLACK <<<                         ",
"background: #000; color: #fff;");this.mContainerElement=document.getElementById(this.mContainerElementId);if(!this.mContainerElement)throw Error("Container element was not found");r.device=new Xb;this.mStageWidth=this.mContainerElement.clientWidth;this.mStageHeight=this.mContainerElement.clientHeight;this.mUseHiDPR=r.device.isMobile;this.__bootViewport();this.__update=this.__update.bind(this)};U.prototype.pause=function(){this.mPaused=!0;for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onPause();
this.post("paused")};U.prototype.resume=function(){!0===this.mPaused&&(this.mUnpausing=!0)};U.prototype.__setUnpaused=function(){this.mPaused=!1;for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onResume();this.post("unpaused")};U.prototype.__bootViewport=function(){this.mViewport=new Ha(this.mContainerElement)};U.prototype.__bootSystems=function(){if(null!==this.mSystemClasses)for(var a=0;a<this.mSystemClasses.length;a++)this.__addSystem(new this.mSystemClasses[a])};U.prototype.__checkVisibility=
function(){var a=this;"undefined"===typeof document.hidden?(document.hidden=!1,document.visibilityState="visible",window.onpagehide=function(b){return a.__onVisibilityChangeFallback(b)},window.onpageshow=function(b){return a.__onVisibilityChangeFallback(b)}):document.addEventListener("visibilitychange",function(b){return a.__onVisibilityChange(b)},!1);window.onblur=function(b){return a.__onVisibilityChangeFallback(b)};window.onfocus=function(b){return a.__onVisibilityChangeFallback(b)}};U.prototype.__bootStage=
function(){this.mStage=new Ca;this.__checkVisibility();document.hidden&&!0===this.mPauseOnHide&&this.pause()};U.prototype.__onVisibilityChangeFallback=function(a){a=a.type;"blur"===a&&!0===this.mPauseOnBlur?this.pause():"pagehide"===a&&!0===this.mPauseOnHide?this.pause():("focus"===a||"pageshow"===a)&&!1===document.hidden&&this.resume()};U.prototype.__onVisibilityChange=function(){!0===this.mPauseOnHide&&"hidden"===document.visibilityState?this.pause():"visible"===document.visibilityState&&this.resume()};
U.prototype.hasSystem=function(a){for(var b=0;b<this.mSystems.length;b++)if(this.mSystems[b]instanceof a)return!0;return!1};U.prototype.__addSystem=function(a){this.mSystems.push(a);return a};U.prototype.getSystem=function(a){for(var b=0;b<this.mSystems.length;b++){var c=this.mSystems[b];if(c instanceof a)return c}return null};U.prototype.__bootVideo=function(){this.mVideo=new this.mVideoDriverClass(this.mViewport.mViewportElement,this.mStageWidth,this.mStageHeight)};U.prototype.start=function(){if(!0===
this.mWasStopped)n.error("Black engine cannot be re-started.");else if(r.engine=this,!0!==this.mIsStarted){r.time=new oc;this.__bootSystems();this.__bootStage();this.__bootVideo();this.mStage.__refresh();this.post(O.READY);this.mGameObject=new this.mGameClass;this.mStage.addChild(this.mGameObject);var a=this;this.mIsStarted=!0;this.mVideo.start();this.mRAFHandle=window.requestAnimationFrame(function(b){a.mIsRunning=!0;a.mLastUpdateTime=b;a.mLastRenderTime=a.mLastUpdateTime;a.__update(b,!0)})}};U.prototype.stop=
function(){this.mIsRunning=this.mIsStarted=!1;window.cancelAnimationFrame(this.mRAFHandle);console.log("%c                        <<< BYE BYE >>>                        ","background: #000; color: #fff;")};U.prototype.destroy=function(){this.mPendingDispose=!0};U.prototype.__dispose=function(){this.stop();this.mVideo.dispose();this.mViewport.dispose();r.assets.dispose();r.assets=null;for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].dispose();M.dispose();this.mFrameNum=this.mNumUpdates=0;r.engine=
null};U.prototype.__update=function(a,b){var c=r.time;!0===this.mPaused&&!0===this.mUnpausing&&(this.mUnpausing=!1,this.mLastRenderTime=this.mLastUpdateTime=a,this.__setUnpaused());this.mRAFHandle=window.requestAnimationFrame(this.__update);if(!0!==this.mPaused){var d=Math.floor((a-this.mLastUpdateTime)/c.mDeltaTimeMs);!0===b&&(d=1);d>this.mMaxUpdatesPerFrame&&(this.post("looped",d),n.warn("Unable to catch up "+d+" update(s)."),d=this.mMaxUpdatesPerFrame);this.mNumUpdates=d;for(b=0;b<d;b++)c.mActualTime+=
c.delta,c.mTime=c.mActualTime,this.__internalUpdate(),this.__internalSystemPostUpdate();for(b=a-c.mDeltaTimeMs;this.mLastUpdateTime<b;)this.mLastUpdateTime+=c.mDeltaTimeMs;c.mAlphaTime=0===d?(a-this.mLastUpdateTime)/c.mDeltaTimeMs:0;c.mTime=c.mActualTime+.001*(a-this.mLastUpdateTime)*c.mScale;this.__internalSystemRender();this.mVideo.beginFrame();this.mVideo.render(this.mStage);this.mVideo.endFrame();this.mFrameNum++;this.mIsPanic=!1;K.__dirty=!1;this.mLastRenderTime=a;!0===this.mPendingDispose&&
this.__dispose()}};U.prototype.__internalUpdate=function(){this.mViewport.__update();for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onUpdate();this.mStage.__update()};U.prototype.__internalSystemPostUpdate=function(){for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onPostUpdate()};U.prototype.__internalSystemRender=function(){for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onRender()};U.prototype.onTagUpdated=function(a,b,c){if(null!==b){var d=this.mTagCache[b];d.splice(d.indexOf(a),
1);0===d.length&&delete this.mTagCache[b]}null!==c&&(!1===this.mTagCache.hasOwnProperty(c)&&(this.mTagCache[c]=[]),this.mTagCache[c].push(a))};U.prototype.onChildrenAdded=function(a,b){var c=this;if(b.root instanceof Ca){K.__dirty=!0;for(b=0;b<this.mSystems.length;b++)this.mSystems[b].onChildrenAdded(a);B.forEach(a,function(d){if(!0!==d.mAdded){c.onTagUpdated(d,null,d.mTag);d.mAdded=!0;d.onAdded();for(var e=0;e<d.mComponents.length;e++){var f=d.mComponents[e];!0!==f.mAdded&&(f.mAdded=!0,f.onAdded(d))}}})}};
U.prototype.onChildrenChanged=function(a){K.__dirty=!0;for(var b=0;b<this.mSystems.length;b++)this.mSystems[b].onChildrenChanged(a)};U.prototype.onChildrenRemoved=function(a){var b=this;K.__dirty=!0;for(var c=0;c<this.mSystems.length;c++)this.mSystems[c].onChildrenRemoved(a);B.forEach(a,function(d){if(!0===d.mAdded){b.onTagUpdated(d,null,d.mTag);d.mAdded=!1;d.onRemoved();for(var e=0;e<d.mComponents.length;e++){var f=d.mComponents[e];!1!==f.mAdded&&(f.mAdded=!1,f.onRemoved(d))}}})};U.prototype.onComponentAdded=
function(a,b){K.__dirty=!0;for(var c=0;c<this.mSystems.length;c++)this.mSystems[c].onComponentAdded(a,b);!0!==b.mAdded&&(b.mAdded=!0,b.onAdded(a))};U.prototype.onComponentRemoved=function(a,b){K.__dirty=!0;for(var c=0;c<this.mSystems.length;c++)this.mSystems[c].onComponentRemoved(a,b);!1!==b.mAdded&&(b.mAdded=!1,b.onRemoved(a))};$jscomp.global.Object.defineProperties(U.prototype,{ups:{configurable:!0,enumerable:!0,get:function(){return.001*r.time.mDeltaTimeMs},set:function(a){n.isNumber(a);n.assert(0<
a);r.time.mDeltaTimeMs=1E3/a;r.time.mDeltaTime=.001*r.time.mDeltaTimeMs}},viewport:{configurable:!0,enumerable:!0,get:function(){return this.mViewport}},containerElement:{configurable:!0,enumerable:!0,get:function(){return this.mContainerElement}},pauseOnHide:{configurable:!0,enumerable:!0,get:function(){return this.mPauseOnHide},set:function(a){this.mPauseOnHide=a}},pauseOnBlur:{configurable:!0,enumerable:!0,get:function(){return this.mPauseOnBlur},set:function(a){this.mPauseOnBlur=a}},isPaused:{configurable:!0,
enumerable:!0,get:function(){return this.mPaused}},stage:{configurable:!0,enumerable:!0,get:function(){return this.mStage}},containerElementId:{configurable:!0,enumerable:!0,get:function(){return this.mContainerElementId}},useHiDPR:{configurable:!0,enumerable:!0,get:function(){return this.mUseHiDPR},set:function(a){this.mUseHiDPR=a}},frameNum:{configurable:!0,enumerable:!0,get:function(){return this.mFrameNum}},numUpdates:{configurable:!0,enumerable:!0,get:function(){return this.mNumUpdates}},maxUpdatesPerFrame:{configurable:!0,
enumerable:!0,get:function(){return this.mMaxUpdatesPerFrame},set:function(a){this.mMaxUpdatesPerFrame=a}}});k.Acceleration=vc;k.AlphaOverLife=wc;k.AnchorOverLife=Bc;k.AnimationController=Ma;k.AnimationInfo=ob;k.Arcade=na;k.Asset=N;k.AssetLoader=va;k.AssetManager=R;k.AssetManagerState=nb;k.AssetType=J;k.AtlasTexture=Ea;k.AtlasTextureAsset=Mb;k.BVGAsset=Rb;k.BVGParser=xa;k.BVGStyle=mb;k.BindingType=rb;k.BitmapFontAsset=kb;k.BitmapFontCharData=Zc;k.BitmapFontData=Yc;k.BitmapTextField=Tb;k.BitmapTextRenderer=
vb;k.BitmapTextRendererCanvas=dc;k.Black=r;k.BlendMode=Pa;k.BoxCollider=Da;k.BoxToBoxPair=Na;k.BoxToCirclePair=Oa;k.BroadPhase=Sc;k.Camera=pc;k.CanvasDriver=oa;k.CanvasRenderTexture=db;k.CapsStyle=fb;k.Circle=ia;k.CircleCollider=Fb;k.CircleToCirclePair=Xa;k.Collider=Ba;k.ColorHelper=x;k.ColorOverLife=xc;k.ColorScatter=Ua;k.ColorScatterBase=Ab;k.Component=Y;k.Curve=ca;k.Debug=n;k.Device=Xb;k.DisplayObject=da;k.DisplayObjectRendererCanvas=gb;k.DistortionEffect=ic;k.Ease=P;k.Emitter=ua;k.EmitterRendererCanvas=
xb;k.EmitterSortOrder=uc;k.EmitterState=ya;k.Engine=U;k.FillRule=Qb;k.FloatCurveScatter=hc;k.FloatScatter=X;k.FloatScatterBase=hb;k.FontAlign=ad;k.FontAsset=Lb;k.FontFaceAssetLoader=eb;k.FontMetrics=za;k.FontStyle=Eb;k.FontVerticalAlign=bd;k.FontWeight=Ub;k.GameObject=B;k.Glob=E;k.Graphics=Z;k.GraphicsCommand=tb;k.GraphicsCommandType=I;k.GraphicsData=S;k.GraphicsGradient=Zb;k.GraphicsLinearGradient=Ta;k.GraphicsPath=qc;k.GraphicsPattern=Pb;k.GraphicsRenderer=bc;k.GraphicsRendererCanvas=zb;k.HSV=jb;
k.ImageAssetLoader=Gb;k.InitialAnchor=Lc;k.InitialColor=Kc;k.InitialLife=Dc;k.InitialMass=Ec;k.InitialPosition=Hc;k.InitialRotation=Ic;k.InitialScale=Fc;k.InitialTexture=Jc;k.InitialVelocity=Gc;k.Input=fa;k.InputComponent=Qa;k.Interpolation=Va;k.JSONAsset=Jb;k.JointStyle=Sa;k.Key={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,DIGIT_0:48,DIGIT_1:49,DIGIT_2:50,DIGIT_3:51,DIGIT_4:52,DIGIT_5:53,DIGIT_6:54,DIGIT_7:55,DIGIT_8:56,
DIGIT_9:57,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,INSERT:45,
DELETE:46,LEFT_WINDOW:91,RIGHT_WINDOW:92,CONTEXT_MENU:93,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,BACKQUOTE:192,BRAKET_LEFT:219,BACK_SLASH:220,BRAKET_RIGHT:221,SINGLE_QUOTE:222,SPACE:32};k.KeyInfo=Wc;k.Line=Q;k.LoaderType=pa;k.MapMap=F;k.MasterAudio=la;k.MathEx=w;k.Matrix=D;k.Message=O;k.MessageBinding=Db;k.MessageDispatcher=M;k.MessageType=qb;k.Modifier=L;k.ObjectPool=V;k.Orientation=Wb;k.Oriented=Cc;k.Pair=ea;k.ParserBase=$b;k.Particle=
ec;k.Perlin=A;k.Polygon=aa;k.Projection=pb;k.RGB=ha;k.RadialScatter=gc;k.Range=Oc;k.Rectangle=z;k.RenderSession=ac;k.RenderTarget=sb;k.RenderTargetCanvas=bb;k.Renderer=K;k.ReverbEffect=Nc;k.RigidBody=Fa;k.RotationOverLife=zc;k.ScaleOverLife=yc;k.Scatter=wb;k.SimpleEQ=ib;k.Sound=Wa;k.SoundAsset=Nb;k.SoundAtlasAsset=Ob;k.SoundAtlasClip=lb;k.SoundChannel=Aa;k.SoundClip=Ra;k.SoundEffect=Ia;k.SoundInstance=ta;k.SoundListener=Cb;k.SoundState=qa;k.SplashScreen=jc;k.Sprite=Sb;k.SpriteRendererCanvas=yb;k.Stage=
Ca;k.StageScaleMode=cb;k.StereoPanner=Yb;k.System=ja;k.TextField=Ga;k.TextMetricsData=Uc;k.TextMetricsEx=ab;k.TextRenderer=Ka;k.TextRendererCanvas=cc;k.TextSegmentMetricsData=Vc;k.TextStyle=Za;k.Texture=ba;k.TextureAsset=Ib;k.TextureOverLife=Ac;k.TilingInfo=function(a,b,c,d,e,f){this.width=void 0===a?0:a;this.height=void 0===b?0:b;this.scaleX=void 0===c?1:c;this.scaleY=void 0===d?1:d;this.wrapX=void 0===e?0:e;this.wrapY=void 0===f?0:f};k.Time=oc;k.Timer=Ya;k.Tween=ka;k.Vector=q;k.VectorCurveScatter=
fc;k.VectorField=Bb;k.VectorScatter=ra;k.VectorScatterBase=La;k.VectorTextureAsset=ub;k.VideoNullDriver=T;k.Viewport=Ha;k.XHRAssetLoader=Hb;k.XMLAsset=Kb;Object.defineProperty(k,"__esModule",{value:!0})});
