/*

 Blacksmith 2D v0.5.14

 SIMPLIFIED BSD LICENSE
 ======================

 Copyright 2019 Borna Technology Ltd. All rights reserved.

 Redistribution and use in source and binary forms, with or without modification,
 are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice, this list of
 conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright notice, this list
 of conditions and the following disclaimer in the documentation and/or other materials
 provided with the distribution.

 THIS SOFTWARE IS PROVIDED BY BORNA TECHNOLOGY "AS IS" AND ANY EXPRESS OR IMPLIED
 WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL BORNA TECHNOLOGY OR
 CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

 The views and conclusions contained in the software and documentation are those of the
 authors and should not be interpreted as representing official policies, either expressed
 or implied, of Borna Technology.
*/
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(l){return l.raw=l};$jscomp.createTemplateTagFirstArgWithRaw=function(l,A){l.raw=A;return l};$jscomp.arrayIteratorImpl=function(l){var A=0;return function(){return A<l.length?{done:!1,value:l[A++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};
$jscomp.makeIterator=function(l){var A="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return A?A.call(l):$jscomp.arrayIterator(l)};$jscomp.arrayFromIterator=function(l){for(var A,n=[];!(A=l.next()).done;)n.push(A.value);return n};$jscomp.arrayFromIterable=function(l){return l instanceof Array?l:$jscomp.arrayFromIterator($jscomp.makeIterator(l))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(l){var A=function(){};A.prototype=l;return new A};$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,A,n){if(l==Array.prototype||l==Object.prototype)return l;l[A]=n.value;return l};
$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var A=0;A<l.length;++A){var n=l[A];if(n&&n.Math==Math)return n}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(l,A){var n=$jscomp.propertyToPolyfillSymbol[A];if(null==n)return l[A];n=l[n];return void 0!==n?n:l[A]};$jscomp.polyfill=function(l,A,n,w){A&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,A,n,w):$jscomp.polyfillUnisolated(l,A,n,w))};
$jscomp.polyfillUnisolated=function(l,A,n,w){n=$jscomp.global;l=l.split(".");for(w=0;w<l.length-1;w++){var E=l[w];if(!(E in n))return;n=n[E]}l=l[l.length-1];w=n[l];A=A(w);A!=w&&null!=A&&$jscomp.defineProperty(n,l,{configurable:!0,writable:!0,value:A})};
$jscomp.polyfillIsolated=function(l,A,n,w){var E=l.split(".");l=1===E.length;w=E[0];w=!l&&w in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var ia=0;ia<E.length-1;ia++){var T=E[ia];if(!(T in w))return;w=w[T]}E=E[E.length-1];n=$jscomp.IS_SYMBOL_NATIVE&&"es6"===n?w[E]:null;A=A(n);null!=A&&(l?$jscomp.defineProperty($jscomp.polyfills,E,{configurable:!0,writable:!0,value:A}):A!==n&&($jscomp.propertyToPolyfillSymbol[E]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(E):$jscomp.POLYFILL_PREFIX+
E,E=$jscomp.propertyToPolyfillSymbol[E],$jscomp.defineProperty(w,E,{configurable:!0,writable:!0,value:A})))};
$jscomp.getConstructImplementation=function(){function l(){function n(){}new n;Reflect.construct(n,[],function(){});return new n instanceof n}if($jscomp.TRUST_ES6_POLYFILLS&&"undefined"!=typeof Reflect&&Reflect.construct){if(l())return Reflect.construct;var A=Reflect.construct;return function(n,w,E){n=A(n,w);E&&Reflect.setPrototypeOf(n,E.prototype);return n}}return function(n,w,E){void 0===E&&(E=n);E=$jscomp.objectCreate(E.prototype||Object.prototype);return Function.prototype.apply.call(n,E,w)||
E}};$jscomp.construct={valueOf:$jscomp.getConstructImplementation}.valueOf();$jscomp.underscoreProtoCanBeSet=function(){var l={a:!0},A={};try{return A.__proto__=l,A.a}catch(n){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(l,A){l.__proto__=A;if(l.__proto__!==A)throw new TypeError(l+" is not extensible");return l}:null;
$jscomp.inherits=function(l,A){l.prototype=$jscomp.objectCreate(A.prototype);l.prototype.constructor=l;if($jscomp.setPrototypeOf){var n=$jscomp.setPrototypeOf;n(l,A)}else for(n in A)if("prototype"!=n)if(Object.defineProperties){var w=Object.getOwnPropertyDescriptor(A,n);w&&Object.defineProperty(l,n,w)}else l[n]=A[n];l.superClass_=A.prototype};$jscomp.polyfill("Reflect",function(l){return l?l:{}},"es6","es3");$jscomp.polyfill("Reflect.construct",function(l){return $jscomp.construct},"es6","es3");
$jscomp.polyfill("Reflect.setPrototypeOf",function(l){if(l)return l;if($jscomp.setPrototypeOf){var A=$jscomp.setPrototypeOf;return function(n,w){try{return A(n,w),!0}catch(E){return!1}}}return null},"es6","es5");$jscomp.polyfill("Number.EPSILON",function(l){return Math.pow(2,-52)},"es6","es3");$jscomp.polyfill("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991},"es6","es3");
$jscomp.checkEs6ConformanceViaProxy=function(){try{var l={},A=Object.create(new $jscomp.global.Proxy(l,{get:function(n,w,E){return n==l&&"q"==w&&E==A}}));return!0===A.q}catch(n){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(l){if(l)return l;var A=function(E,ia){this.$jscomp$symbol$id_=E;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:ia})};A.prototype.toString=function(){return this.$jscomp$symbol$id_};var n=0,w=function(E){if(this instanceof w)throw new TypeError("Symbol is not a constructor");return new A("jscomp_symbol_"+(E||"")+"_"+n++,E)};return w},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(l){if(l)return l;l=Symbol("Symbol.iterator");for(var A="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<A.length;n++){var w=$jscomp.global[A[n]];"function"===typeof w&&"function"!=typeof w.prototype[l]&&$jscomp.defineProperty(w.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return l},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(l){l={next:l};l[Symbol.iterator]=function(){return this};return l};$jscomp.owns=function(l,A){return Object.prototype.hasOwnProperty.call(l,A)};
$jscomp.polyfill("WeakMap",function(l){function A(){if(!l||!Object.seal)return!1;try{var x=Object.seal({}),F=Object.seal({}),Q=new l([[x,2],[F,3]]);if(2!=Q.get(x)||3!=Q.get(F))return!1;Q.delete(x);Q.set(F,4);return!Q.has(x)&&4==Q.get(F)}catch(t){return!1}}function n(){}function w(x){var F=typeof x;return"object"===F&&null!==x||"function"===F}function E(x){if(!$jscomp.owns(x,T)){var F=new n;$jscomp.defineProperty(x,T,{value:F})}}function ia(x){if(!$jscomp.ISOLATE_POLYFILLS){var F=Object[x];F&&(Object[x]=
function(Q){if(Q instanceof n)return Q;Object.isExtensible(Q)&&E(Q);return F(Q)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(l&&$jscomp.ES6_CONFORMANCE)return l}else if(A())return l;var T="$jscomp_hidden_"+Math.random();ia("freeze");ia("preventExtensions");ia("seal");var lb=0,D=function(x){this.id_=(lb+=Math.random()+1).toString();if(x){x=$jscomp.makeIterator(x);for(var F;!(F=x.next()).done;)F=F.value,this.set(F[0],F[1])}};D.prototype.set=function(x,F){if(!w(x))throw Error("Invalid WeakMap key");
E(x);if(!$jscomp.owns(x,T))throw Error("WeakMap key fail: "+x);x[T][this.id_]=F;return this};D.prototype.get=function(x){return w(x)&&$jscomp.owns(x,T)?x[T][this.id_]:void 0};D.prototype.has=function(x){return w(x)&&$jscomp.owns(x,T)&&$jscomp.owns(x[T],this.id_)};D.prototype.delete=function(x){return w(x)&&$jscomp.owns(x,T)&&$jscomp.owns(x[T],this.id_)?delete x[T][this.id_]:!1};return D},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(l){function A(){if($jscomp.ASSUME_NO_NATIVE_MAP||!l||"function"!=typeof l||!l.prototype.entries||"function"!=typeof Object.seal)return!1;try{var D=Object.seal({x:4}),x=new l($jscomp.makeIterator([[D,"s"]]));if("s"!=x.get(D)||1!=x.size||x.get({x:4})||x.set({x:4},"t")!=x||2!=x.size)return!1;var F=x.entries(),Q=F.next();if(Q.done||Q.value[0]!=D||"s"!=Q.value[1])return!1;Q=F.next();return Q.done||4!=Q.value[0].x||"t"!=Q.value[1]||!F.next().done?!1:!0}catch(t){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(l&&$jscomp.ES6_CONFORMANCE)return l}else if(A())return l;var n=new WeakMap,w=function(D){this.data_={};this.head_=T();this.size=0;if(D){D=$jscomp.makeIterator(D);for(var x;!(x=D.next()).done;)x=x.value,this.set(x[0],x[1])}};w.prototype.set=function(D,x){D=0===D?0:D;var F=E(this,D);F.list||(F.list=this.data_[F.id]=[]);F.entry?F.entry.value=x:(F.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:D,value:x},F.list.push(F.entry),
this.head_.previous.next=F.entry,this.head_.previous=F.entry,this.size++);return this};w.prototype.delete=function(D){D=E(this,D);return D.entry&&D.list?(D.list.splice(D.index,1),D.list.length||delete this.data_[D.id],D.entry.previous.next=D.entry.next,D.entry.next.previous=D.entry.previous,D.entry.head=null,this.size--,!0):!1};w.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=T();this.size=0};w.prototype.has=function(D){return!!E(this,D).entry};w.prototype.get=function(D){return(D=
E(this,D).entry)&&D.value};w.prototype.entries=function(){return ia(this,function(D){return[D.key,D.value]})};w.prototype.keys=function(){return ia(this,function(D){return D.key})};w.prototype.values=function(){return ia(this,function(D){return D.value})};w.prototype.forEach=function(D,x){for(var F=this.entries(),Q;!(Q=F.next()).done;)Q=Q.value,D.call(x,Q[1],Q[0],this)};w.prototype[Symbol.iterator]=w.prototype.entries;var E=function(D,x){var F=x&&typeof x;"object"==F||"function"==F?n.has(x)?F=n.get(x):
(F=""+ ++lb,n.set(x,F)):F="p_"+x;var Q=D.data_[F];if(Q&&$jscomp.owns(D.data_,F))for(D=0;D<Q.length;D++){var t=Q[D];if(x!==x&&t.key!==t.key||x===t.key)return{id:F,list:Q,index:D,entry:t}}return{id:F,list:Q,index:-1,entry:void 0}},ia=function(D,x){var F=D.head_;return $jscomp.iteratorPrototype(function(){if(F){for(;F.head!=D.head_;)F=F.previous;for(;F.next!=F.head;)return F=F.next,{done:!1,value:x(F)};F=null}return{done:!0,value:void 0}})},T=function(){var D={};return D.previous=D.next=D.head=D},lb=
0;return w},"es6","es3");$jscomp.findInternal=function(l,A,n){l instanceof String&&(l=String(l));for(var w=l.length,E=0;E<w;E++){var ia=l[E];if(A.call(n,ia,E,l))return{i:E,v:ia}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(l){return l?l:function(A,n){return $jscomp.findInternal(this,A,n).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(l){return l?l:function(A,n,w){var E=this.length||0;0>n&&(n=Math.max(0,E+n));if(null==w||w>E)w=E;w=Number(w);0>w&&(w=Math.max(0,E+w));for(n=Number(n||0);n<w;n++)this[n]=A;return this}},"es6","es3");$jscomp.typedArrayFill=function(l){return l?l:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
(function(l,A){"object"===typeof exports&&"undefined"!==typeof module?A(exports):"function"===typeof define&&define.amd?define(["exports"],A):(l=l||self,A(l["black-engine"]={}))})(this,function(l){function A(a,b){if(!b)return null;for(var c=this.pages,d=null,e=0;e<c.length;e++)if(c[e].baseTexture===b.baseTexture){d=c[e];break}null===d&&(d=new spine.TextureAtlasPage,d.name="texturePage",d.baseTexture=b.native,c.push(d));c=new spine.TextureAtlasRegion;c.name=a;c.page=d;c.texture=b;c.index=-1;c.width=
b.width;c.height=b.height;this.regions.push(c);return c}var n=function(){n.assert(!1,"Static class.")};n.isNumber=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];b.forEach(function(d){if("number"!==typeof d||!1!==isNaN(parseFloat(d))||!0!==isFinite(d))if(n.logOnFail&&console.error("[ASSERT]","Not a number."),n.throwOnFail)throw Error("Not a number.");})};n.assert=function(a,b){if(!0!==a&&(b=null==b?"Assertion failed.":b,n.logOnFail&&console.error("[ASSERT]",b),n.throwOnFail))throw Error(b);
};n.assertWarn=function(a,b){!0!==a&&n.warn(null==b?"Assertion warning.":b)};n.assertInfo=function(a,b){!0!==a&&n.info(null==b?"Assertion info.":b)};n.log=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];console.info.apply(console,["%c%s","color: #000000","LOG:"].concat($jscomp.arrayFromIterable(b)))};n.info=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];console.info.apply(console,["%c%s","color: #003bd2","INFO:"].concat($jscomp.arrayFromIterable(b)))};
n.warn=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];console.info.apply(console,["%c%s","color: #f67400","WARN:"].concat($jscomp.arrayFromIterable(b)))};n.error=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];console.info.apply(console,["%c%s","color: #d50000","ERROR:"].concat($jscomp.arrayFromIterable(b)))};n.time=function(a){n.timeProfiles[a]=performance.now()};n.timeEnd=function(a){n.timeProfiles[a]=performance.now()-n.timeProfiles[a]};n.throwOnFail=
!0;n.logOnFail=!1;n.timeProfiles={};var w=function(){};w.randomBetween=function(a,b){return Math.floor(Math.random()*(b-a+1)+a)};w.clamp=function(a,b,c){return a<b?b:a>c?c:a};w.distance=function(a,b,c,d){a-=c;b-=d;return Math.sqrt(a*a+b*b)};w.distanceSqr=function(a,b,c,d){a-=c;b-=d;return a*a+b*b};w.angleBetween=function(a,b,c,d){return Math.atan2(d-b,c-a)};w.mapRange=function(a,b,c,d,e){return d+(e-d)*(a-b)/(c-b)};w.lerp=function(a,b,c){return a+c*(b-a)};w.equals=function(a,b,c){c=void 0===c?Number.EPSILON:
c;return a-c<b&&a+c>b};w.PI_Q=Math.PI/4;w.PI2=2*Math.PI;w.DEG2RAD=.017453292519943295;w.RAD2DEG=57.29577951308232;var E=function(a){this.mRepeat=0;this.mPerm=[];for(a=0;512>a;a++)this.mPerm.push(E.__permutation[a%256])};E.prototype.__perlin=function(a,b,c){0<this.mRepeat&&(a%=this.mRepeat,b%=this.mRepeat,c%=this.mRepeat);var d=this.mPerm,e=~~a&255,f=~~b&255,g=~~c&255;a-=~~a;b-=~~b;var h=c-~~c,k=a*a*a*(a*(6*a-15)+10),p=b*b*b*(b*(6*b-15)+10);c=h*h*h*(h*(6*h-15)+10);var q=d[d[d[e]+f]+g],m=d[d[d[e]+this.inc(f)]+
g],u=d[d[d[e]+f]+this.inc(g)],v=d[d[d[e]+this.inc(f)]+this.inc(g)],y=d[d[d[this.inc(e)]+f]+g],G=d[d[d[this.inc(e)]+this.inc(f)]+g],H=d[d[d[this.inc(e)]+f]+this.inc(g)];d=d[d[d[this.inc(e)]+this.inc(f)]+this.inc(g)];e=this.lerp(this.grad(q,a,b,h),this.grad(y,a-1,b,h),k);g=this.lerp(this.grad(m,a,b-1,h),this.grad(G,a-1,b-1,h),k);f=this.lerp(e,g,p);e=this.lerp(this.grad(u,a,b,h-1),this.grad(H,a-1,b,h-1),k);g=this.lerp(this.grad(v,a,b-1,h-1),this.grad(d,a-1,b-1,h-1),k);a=this.lerp(e,g,p);return.5*(this.lerp(f,
a,c)+1)};E.prototype.perlin=function(a,b,c,d,e){d=void 0===d?1:d;e=void 0===e?1:e;if(1===d&&1===e)return this.__perlin(a,b,c);for(var f=0,g=1,h=1,k=0,p=0;p<d;p++)f+=this.__perlin(a*g,b*g,c*g)*h,k+=h,h*=e,g*=2;return f/k};E.prototype.inc=function(a){a++;0<this.mRepeat&&(a%=this.mRepeat);return a};E.prototype.grad=function(a,b,c,d){switch(a&15){case 0:return b+c;case 1:return-b+c;case 2:return b-c;case 3:return-b-c;case 4:return b+d;case 5:return-b+d;case 6:return b-d;case 7:return-b-d;case 8:return c+
d;case 9:return-c+d;case 10:return c-d;case 11:return-c-d;case 12:return c+b;case 13:return-c+d;case 14:return c-b;case 15:return-c-d}};E.prototype.lerp=function(a,b,c){return a+c*(b-a)};E.__permutation=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,
92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,
84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180];var ia=function(){this.mMap=new Map};ia.prototype.has=function(a,b){return this.mMap.has(a)&&this.mMap.get(a).has(b)};ia.prototype.set=function(a,b,c){var d=this.mMap.get(a);null==d&&(d=new Map,this.mMap.set(a,d));d.set(b,c)};ia.prototype.get=function(a,b){return null!=this.mMap.get(a)?this.mMap.get(a)&&this.mMap.get(a).get(b):null};var T=function(a,b){this.mReleased=[];this.mCapacity=void 0===
b?100:b;this.mType=a};T.prototype.releaseAll=function(){this.mReleased.splice(0,this.mReleased.length)};T.prototype.get=function(){return 0<this.mReleased.length?this.mReleased.pop():new this.mType};T.prototype.release=function(a){(-1===this.mCapacity||this.mReleased.length<this.mCapacity)&&this.mReleased.push(a)};$jscomp.global.Object.defineProperties(T.prototype,{capacity:{configurable:!0,enumerable:!0,get:function(){return this.mCapacity},set:function(a){n.assert(0!==a,"Capacity cannot be equal to zero.");
n.assert(-1<a,"Capacity cannot be smaller then -1.");this.mCapacity=a;this.mCapacity>this.mReleased.length&&this.mReleased.splice(0,this.mReleased.length-this.mCapacity)}}});var lb=function(a,b,c){this.r=void 0===a?0:a;this.g=void 0===b?0:b;this.b=void 0===c?0:c},D=function(a,b,c){this.h=void 0===a?0:a;this.s=void 0===b?0:b;this.v=void 0===c?0:c},x=function(){};x.hex2rgb=function(a){return new lb(a>>16&255,a>>8&255,a&255)};x.rgb2hex=function(a){return a.r<<16|a.g<<8|a.b};x.hsv2rgb=function(a){var b=
a.h,c=a.s;a=a.v;var d=0,e=0,f=0,g=Math.floor(6*b),h=6*b-g;b=a*(1-c);var k=a*(1-h*c);c=a*(1-(1-h)*c);switch(g%6){case 0:d=a;e=c;f=b;break;case 1:d=k;e=a;f=b;break;case 2:d=b;e=a;f=c;break;case 3:d=b;e=k;f=a;break;case 4:d=c;e=b;f=a;break;case 5:d=a,e=b,f=k}return new lb(255*d,255*e,255*f)};x.rgb2hsv=function(a){var b=a.r,c=a.g;a=a.b;b/=255;c/=255;a/=255;var d=Math.max(b,c,a),e=Math.min(b,c,a),f=0,g=d-e;if(d===e)f=0;else{switch(d){case b:f=(c-a)/g+(c<a?6:0);break;case c:f=(a-b)/g+2;break;case a:f=(b-
c)/g+4}f/=6}return new D(f,0===d?0:g/d,d)};x.lerpHSV=function(a,b,c){c=void 0===c?.5:c;a=x.rgb2hsv(x.hex2rgb(a));b=x.rgb2hsv(x.hex2rgb(b));var d=0,e=b.h-a.h;if(a.h>b.h){var f=b.h;b.h=a.h;a.h=f;e=-e;c=1-c}.5<e&&(a.h+=1,d=(a.h+c*(b.h-a.h))%1);.5>=e&&(d=a.h+c*e);return x.rgb2hex(x.hsv2rgb(new D(d,a.s+c*(b.s-a.s),a.v+c*(b.v-a.v))))};x.hexColorToString=function(a){a=a.toString(16);return"#000000".substring(0,7-a.length)+a};x.intToRGBA=function(a,b){return"rgba("+(a>>16&255)+", "+(a>>8&255)+", "+(a&255)+
", "+(void 0===b?1:b)+")"};var F={"*":"[^/]+","**":".+/?[^/]+","**/":".+/?"},Q=function(a){this.mRegExp=new RegExp("^"+a.replace(/\./g,"\\.").replace(/\*\*$/g,".+").replace(/(?:\*\*\/|\*\*|\*)/g,function(b){return F[b]})+"$")};Q.prototype.test=function(a){return this.mRegExp.test(a)};var t=function(a,b){a=void 0===a?0:a;b=void 0===b?0:b;n.isNumber(a,b);this.x=a;this.y=b};t.prototype.set=function(a,b){a=void 0===a?0:a;b=void 0===b?0:b;n.isNumber(a,b);this.x=a;this.y=b;return this};t.prototype.add=
function(a){this.x+=a.x;this.y+=a.y;return this};t.prototype.subtract=function(a){this.x-=a.x;this.y-=a.y;return this};t.prototype.distance=function(a){var b=this.x-a.x;a=this.y-a.y;return Math.sqrt(b*b+a*a)};t.prototype.distanceSqr=function(a){var b=this.x-a.x;a=this.y-a.y;return b*b+a*a};t.prototype.multiply=function(a){this.x*=a.x;this.y*=a.y;return this};t.prototype.multiplyScalar=function(a){n.isNumber(a);this.x*=a;this.y*=a;return this};t.prototype.dot=function(a){return this.x*a.x+this.y*a.y};
t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};t.prototype.lengthSqr=function(){return this.x*this.x+this.y*this.y};t.prototype.normalize=function(){var a=this.lengthSqr();0<a?(a=Math.sqrt(a),this.x/=a,this.y/=a):this.y=this.x=0;return this};t.prototype.clamp=function(a,b){n.isNumber(a,b);this.x=w.clamp(this.x,a,b);this.y=w.clamp(this.y,a,b);return this};t.prototype.clampLength=function(a,b){n.isNumber(a,b);a=w.clamp(this.length(),a,b);this.normalize();this.multiplyScalar(a);
return this};t.prototype.lerp=function(a,b){n.isNumber(b);this.x=w.lerp(this.x,a.x,b);this.y=w.lerp(this.y,a.y,b);return this};t.prototype.copyTo=function(a){a.x=this.x;a.y=this.y;return a};t.prototype.copyFrom=function(a){this.x=a.x;this.y=a.y;return this};t.prototype.clone=function(){return new t(this.x,this.y)};t.prototype.equals=function(a,b){b=void 0===b?Number.EPSILON:b;return null!==a&&Math.abs(a.x-this.x)<b&&Math.abs(a.y-this.y)<b};t.prototype.isEmpty=function(){return 0===this.x&&0===this.y};
t.prototype.setRotationFrom=function(a,b){n.isNumber(b);return this.subtract(a).setRotation(b).add(a)};t.prototype.setRotation=function(a){n.isNumber(a);var b=Math.cos(a);a=Math.sin(a);return this.set(this.x*b-this.y*a,this.x*a+this.y*b)};t.prototype.angleBetween=function(a){return Math.atan2(a.y-this.y,a.x-this.x)};t.prototype.angle=function(){return Math.atan2(this.y,this.x)};t.prototype.perp=function(){return this.set(this.y,-this.x)};t.fromAngle=function(a,b){n.isNumber(a);b=b||new t;return b.set(Math.cos(a),
Math.sin(a))};t.randomRange=function(a,b,c){c=c||new t;c.x=Math.random()*(b.x-a.x)+a.x;c.y=Math.random()*(b.y-a.y)+a.y;return c};t.prototype.toString=function(a){a=void 0===a?2:a;return"Vector: { x: "+this.x.toFixed(a)+", y: "+this.y.toFixed(a)+" }"};$jscomp.global.Object.defineProperties(t.prototype,{random:{configurable:!0,enumerable:!0,get:function(){return w.randomBetween(this.x,this.y)}}});t.__cache=new t;t.pool=new T(t);var X=function(a,b){this.start=a;this.end=b};X.prototype.set=function(a,
b){this.start=a;this.end=b;return this};X.prototype.clone=function(){return new X(this.start.clone(),this.end.clone())};X.prototype.copyTo=function(a){return a.set(this.start.clone(),this.end.clone())};X.prototype.copyFrom=function(a){return this.set(a.start.clone(),a.end.clone())};X.prototype.equals=function(a,b){b=void 0===b?Number.EPSILON:b;return this.start.equals(a.start,b)&&this.end.equals(a.end,b)||this.start.equals(a.end,b)&&this.end.equals(a.start,b)};X.prototype.reverse=function(){var a=
this.start;this.start=this.end;this.end=a;return this};X.prototype.normalize=function(){this.end.subtract(this.start).normalize().add(this.start);return this};X.prototype.scale=function(a){this.end.subtract(this.start).multiplyScalar(a).add(this.start);return this};X.prototype.zero=function(){return this.set(new t,new t)};X.prototype.length=function(){return this.start.distance(this.end)};X.prototype.center=function(a){a=a||new t;return a.set((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/
2)};X.prototype.containsXY=function(a,b){return this.contains(new t(a,b))};X.prototype.contains=function(a){return this.start.distance(a)+this.end.distance(a)===this.length()};X.prototype.intersects=function(a){var b=this.start,c=this.end,d=a.start;a=a.end;var e=(a.y-d.y)*(c.x-b.x)-(a.x-d.x)*(c.y-b.y);if(0===e)return!1;var f=b.y-d.y,g=b.x-d.x;b=(c.x-b.x)*f-(c.y-b.y)*g;f=((a.x-d.x)*f-(a.y-d.y)*g)/e;g=b/e;return 0<=f&&1>=f&&0<g&&1>g};X.prototype.intersectsCircle=function(a){var b=this.start,c=this.end;
if(a.contains(b)||a.contains(c))return!0;var d=b.distance(c),e=(c.x-b.x)/d;c=(c.y-b.y)/d;d=e*(a.x-b.x)+c*(a.y-b.y);var f=(new t(d*e+b.x,d*c+b.y)).distance(new t(a.x,a.y));if(f<a.r){a=Math.sqrt(Math.pow(a.r,2)-Math.pow(f,2));f=(d+a)*e+b.x;var g=(d+a)*c+b.y;return this.__isInBoundsXY((d-a)*e+b.x,(d-a)*c+b.y)||this.__isInBoundsXY(f,g)}return!1};X.prototype.__isInBoundsXY=function(a,b){var c=this.start.x,d=this.start.y,e=this.end.x,f=this.end.y;return a>Math.min(c,e)&&a<Math.max(c,e)&&b>Math.min(d,f)&&
b<Math.max(d,f)};X.prototype.toString=function(a){a=void 0===a?2:a;return"Line { start: "+this.start.toString(a)+", end: "+this.end.toString(a)+" }"};$jscomp.global.Object.defineProperties(X.prototype,{left:{configurable:!0,enumerable:!0,get:function(){return Math.min(this.start.x,this.end.x)}},right:{configurable:!0,enumerable:!0,get:function(){return Math.max(this.start.x,this.end.x)}},top:{configurable:!0,enumerable:!0,get:function(){return Math.min(this.start.y,this.end.y)}},bottom:{configurable:!0,
enumerable:!0,get:function(){return Math.max(this.start.y,this.end.y)}},type:{configurable:!0,enumerable:!0,get:function(){return"Line"}}});X.__cache=new X(new t,new t);var z=function(a,b,c,d){a=void 0===a?0:a;b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?0:d;n.isNumber(a,b,c,d);this.x=a;this.y=b;this.width=c;this.height=d};z.prototype.set=function(a,b,c,d){n.isNumber(a,b,c,d);this.x=a;this.y=b;this.width=c;this.height=d;return this};z.prototype.copyFrom=function(a){this.x=a.x;this.y=a.y;this.width=
a.width;this.height=a.height;return this};z.prototype.copyTo=function(a){a.x=this.x;a.y=this.y;a.width=this.width;a.height=this.height;return a};z.prototype.size=function(a){a=a||new t;return a.set(this.width,this.height)};z.prototype.zero=function(){return this.set(0,0,0,0)};z.prototype.equals=function(a,b){b=void 0===b?Number.EPSILON:b;return null!==a&&Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.width-a.width)<b&&Math.abs(this.height-a.height)<b};z.prototype.containsXY=function(a,
b){return a>=this.x&&a<=this.right&&b>=this.y&&b<=this.bottom};z.prototype.contains=function(a){return a.x>=this.x&&a.y>=this.y&&a.right<=this.right&&a.bottom<=this.bottom};z.prototype.intersects=function(a){return a.right>this.x&&a.bottom>this.y&&a.x<this.right&&a.y<this.bottom};z.prototype.intersection=function(a,b){b=b||new z;var c=this.x<a.x?a.x:this.x,d=this.right>a.right?a.right:this.right;if(d<=c)return new z;var e=this.y<a.y?a.y:this.y;a=this.bottom>a.bottom?a.bottom:this.bottom;if(a<=e)return new z;
b.set(c,e,d-c,a-e);return b};z.prototype.union=function(a){var b=this.x>a.x?a.x:this.x,c=this.y>a.y?a.y:this.y;return this.set(b,c,(this.right<a.right?a.right:this.right)-b,(this.bottom<a.bottom?a.bottom:this.bottom)-c)};z.prototype.expand=function(a,b,c,d){n.isNumber(a,b,c,d);if(0===this.volume)return this.set(a,b,c,d);var e=this.right,f=this.bottom;this.x>a&&(this.x=a,this.width=e-a);this.y>b&&(this.y=b,this.height=f-b);e<a+c&&(this.width=a+c-this.x);f<b+d&&(this.height=b+d-this.y);return this};
z.prototype.expandXY=function(a,b){a<this.x&&(this.width+=this.x-a,this.x=a);b<this.y&&(this.height+=this.y-b,this.y=b);a>this.x+this.width&&(this.width=a-this.x);b>this.y+this.height&&(this.height=b-this.y);return this};z.prototype.inflate=function(a,b){a=void 0===a?0:a;b=void 0===b?0:b;n.isNumber(a,b);this.x-=a;this.y-=b;this.width+=2*a;this.height+=2*b;return this};z.prototype.clone=function(){return new z(this.x,this.y,this.width,this.height)};z.prototype.center=function(a){a=a||new t;return a.set(this.x+
.5*this.width,this.y+.5*this.height)};z.prototype.scale=function(a,b){this.width*=a;this.height*=b;return this};z.fromPoints=function(a){var b=new z;if(0===a.length)return b;for(var c=a.length,d=a[0].x,e=a[0].y,f=a[0].x,g=a[0].y,h=1;h<c;h++){var k=a[h],p=k.x;k=k.y;d=Math.min(p,d);f=Math.max(p,f);e=Math.min(k,e);g=Math.max(k,g)}b.x=d;b.y=e;b.width=f-d;b.height=g-e;return b};z.fromPointsXY=function(a){var b=new z;if(2>a.length)return b;for(var c=a.length,d=a[0],e=a[1],f=a[0],g=a[1],h=2;h<c;h+=2){var k=
a[h],p=a[h+1];d=Math.min(k,d);f=Math.max(k,f);e=Math.min(p,e);g=Math.max(p,g)}b.x=d;b.y=e;b.width=f-d;b.height=g-e;return b};z.prototype.toString=function(a){a=void 0===a?2:a;return"Rectangle { x: "+this.x.toFixed(a)+", y: "+this.y.toFixed(a)+", width: "+this.width.toFixed(a)+", height: "+this.height.toFixed(a)+" }"};$jscomp.global.Object.defineProperties(z.prototype,{left:{configurable:!0,enumerable:!0,get:function(){return this.x},set:function(a){n.isNumber(a);this.x=a}},right:{configurable:!0,
enumerable:!0,get:function(){return this.x+this.width},set:function(a){n.isNumber(a);this.x=a-this.width}},top:{configurable:!0,enumerable:!0,get:function(){return this.y},set:function(a){n.isNumber(a);this.y=a}},bottom:{configurable:!0,enumerable:!0,get:function(){return this.y+this.height},set:function(a){n.isNumber(a);this.y=a-this.height}},topLeft:{configurable:!0,enumerable:!0,get:function(){return new t(this.x,this.y)},set:function(a){this.left=a.x;this.top=a.y}},topRight:{configurable:!0,enumerable:!0,
get:function(){return new t(this.right,this.y)},set:function(a){this.right=a.x;this.top=a.y}},bottomRight:{configurable:!0,enumerable:!0,get:function(){return new t(this.right,this.bottom)},set:function(a){this.right=a.x;this.bottom=a.y}},bottomLeft:{configurable:!0,enumerable:!0,get:function(){return new t(this.x,this.bottom)},set:function(a){this.x=a.x;this.bottom=a.y}},volume:{configurable:!0,enumerable:!0,get:function(){return this.width*this.height}},perimeter:{configurable:!0,enumerable:!0,
get:function(){return 2*(this.width+this.height)}},isEmpty:{configurable:!0,enumerable:!0,get:function(){return 0>=this.width||0>=this.height}},lines:{configurable:!0,enumerable:!0,get:function(){return[new X(this.topLeft,this.topRight),new X(this.topRight,this.bottomRight),new X(this.bottomRight,this.bottomLeft),new X(this.bottomLeft,this.topLeft)]}},random:{configurable:!0,enumerable:!0,get:function(){var a=w.randomBetween(this.x,this.width),b=w.randomBetween(this.y,this.height);return new t(a,
b)}}});z.__cache=new z;z.pool=new T(z);var C=function(a,b,c,d,e,f){a=void 0===a?1:a;b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?1:d;e=void 0===e?0:e;f=void 0===f?0:f;this.data=new Float32Array(6);this.set(a,b,c,d,e,f)};C.prototype.set=function(a,b,c,d,e,f){a=void 0===a?1:a;b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?1:d;e=void 0===e?0:e;f=void 0===f?0:f;n.isNumber(a,b,c,d,e,f);var g=this.data;g[0]=a;g[1]=b;g[2]=c;g[3]=d;g[4]=e;g[5]=f;return this};C.prototype.translate=function(a,b){n.isNumber(a,
b);var c=this.data,d=c[1],e=c[3],f=c[5];this.data[4]=c[0]*a+c[2]*b+c[4];this.data[5]=d*a+e*b+f;return this};C.prototype.setTranslation=function(a,b){n.isNumber(a,b);this.data[4]=a;this.data[5]=b;return this};C.prototype.setRotation=function(a,b){b=void 0===b?1:b;n.isNumber(a,b);var c=this.data;c[0]=Math.cos(a)*b;c[2]=Math.sin(a)*b;c[1]=-c[2];c[3]=c[0];return this};C.prototype.rotate=function(a){n.isNumber(a);var b=this.data,c=Math.cos(a);a=Math.sin(a);var d=b[0],e=b[2],f=b[4];b[0]=d*c-b[1]*a;b[1]=
d*a+b[1]*c;b[2]=e*c-b[3]*a;b[3]=e*a+b[3]*c;b[4]=f*c-b[5]*a;b[5]=f*a+b[5]*c;return this};C.prototype.scale=function(a,b){n.isNumber(a,b);var c=this.data,d=c[1],e=c[2],f=c[3];this.data[0]=c[0]*a;this.data[1]=d*a;this.data[2]=e*b;this.data[3]=f*b;return this};C.prototype.skew=function(a,b){var c=Math.sin(a);a=Math.cos(a);var d=Math.sin(b);b=Math.cos(b);var e=this.data;this.set(e[0]*b-e[1]*c,e[0]*d+e[1]*a,e[2]*b-e[3]*c,e[2]*d+e[3]*a,e[4]*b-e[5]*c,e[4]*d+e[5]*a)};C.prototype.identity=function(){return this.set(1,
0,0,1,0,0)};C.prototype.prepend=function(a){var b=this.data,c=a.data;a=b[0];var d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=c[0],p=c[1],q=c[2],m=c[3],u=c[4];c=c[5];if(1!==k||0!==p||0!==q||1!==m)b[1]=a*p+d*m,b[0]=a*k+d*q,b[3]=e*p+f*m,b[2]=e*k+f*q;b[5]=g*p+h*m+c;b[4]=g*k+h*q+u;return this};C.prototype.append=function(a){var b=this.data,c=a.data;a=b[0];var d=b[1],e=b[2],f=b[3],g=b[4],h=b[5],k=c[0],p=c[1],q=c[2],m=c[3],u=c[4];c=c[5];b[0]=a*k+e*p;b[1]=d*k+f*p;b[2]=a*q+e*m;b[3]=d*q+f*m;b[4]=a*u+e*c+g;b[5]=d*u+
f*c+h;return this};C.prototype.transformXY=function(a,b,c){n.isNumber(a,b);c=c||new t;var d=this.data;c.x=d[0]*a+d[2]*b+d[4];c.y=d[1]*a+d[3]*b+d[5];return c};C.prototype.transformDirectionXY=function(a,b,c){n.isNumber(a,b);var d=this.data;c=c||new t;c.x=d[0]*a+d[2]*b;c.y=d[1]*a+d[3]*b;return c};C.prototype.transformVector=function(a,b){b=b||new t;var c=this.data;return b.set(c[0]*a.x+c[2]*a.y+c[4],c[1]*a.x+c[3]*a.y+c[5])};C.prototype.transformRect=function(a,b){b=b||new z;var c=Number.MAX_VALUE,d=
-Number.MAX_VALUE,e=Number.MAX_VALUE,f=-Number.MAX_VALUE,g=this.data,h=t.pool.get();a=[a.x,a.y,a.x+a.width,a.y,a.x,a.y+a.height,a.x+a.width,a.y+a.height];for(var k=0;k<a.length;k+=2)h.x=g[0]*a[k]+g[2]*a[k+1]+g[4],h.y=g[1]*a[k]+g[3]*a[k+1]+g[5],c>h.x&&(c=h.x),d<h.x&&(d=h.x),e>h.y&&(e=h.y),f<h.y&&(f=h.y);t.pool.release(h);return b.set(c,e,d-c,f-e)};C.prototype.invert=function(){var a=this.data,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=a[5],h=b*e-c*d;if(0===h)return a[0]=a[1]=a[2]=a[3]=0,a[4]=-f,a[5]=-g,
this;h=1/h;a[0]=e*h;a[1]=-c*h;a[2]=-d*h;a[3]=b*h;a[4]=(d*g-e*f)*h;a[5]=(c*f-b*g)*h;return this};C.prototype.__decompose=function(){var a=this.data,b=a[0],c=a[1],d=a[2],e=a[3],f=a[4];a=a[5];var g=-Math.atan2(-d,e),h=Math.atan2(c,b),k=0,p=0,q=0;1E-5>Math.abs(g+h)?(k=h,0>b&&0<=e&&(k+=0>=k?Math.PI:-Math.PI)):(p=g,q=h);return[f,a,k,Math.sqrt(b*b+c*c),Math.sqrt(d*d+e*e),p,q]};C.prototype.clone=function(){var a=new C,b=this.data;a.set(b[0],b[1],b[2],b[3],b[4],b[5]);return a};C.prototype.copyTo=function(a){var b=
this.data,c=a.data;c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];c[5]=b[5];return a};C.prototype.copyFrom=function(a){return a.copyTo(this)};C.prototype.exactEquals=function(a){if(!a)return!1;var b=this.data;a=a.data;return b[0]===a[0]&&b[1]===a[1]&&b[2]===a[2]&&b[3]===a[3]&&b[4]===a[4]&&b[5]===a[5]};C.prototype.equals=function(a,b){b=void 0===b?Number.EPSILON:b;if(!a)return!1;var c=this.data;a=a.data;return Math.abs(c[0]-a[0])<b&&Math.abs(c[1]-a[1])<b&&Math.abs(c[2]-a[2])<b&&Math.abs(c[3]-a[3])<
b&&Math.abs(c[4]-a[4])<b&&Math.abs(c[5]-a[5])<b};C.prototype.toString=function(a){a=void 0===a?2:a;return"        | "+this.value[0].toFixed(a)+" | "+this.value[1].toFixed(a)+" | "+this.value[4].toFixed(a)+" |\nMatrix: | "+this.value[2].toFixed(a)+" | "+this.value[3].toFixed(a)+" | "+this.value[5].toFixed(a)+" |"};$jscomp.global.Object.defineProperties(C.prototype,{isIdentity:{configurable:!0,enumerable:!0,get:function(){return this.exactEquals(C.__identity)}},value:{configurable:!0,enumerable:!0,
get:function(){return this.data}}});C.__cache=new C;C.__identity=new C;C.pool=new T(C);var ja=function(a,b,c){this.x=void 0===a?0:a;this.y=void 0===b?0:b;this.r=void 0===c?1:c};ja.prototype.set=function(a,b,c){this.x=a;this.y=b;this.r=c;return this};ja.prototype.clone=function(){return new ja(this.x,this.y,this.r)};ja.prototype.copyTo=function(a){return a.set(this.x,this.y,this.r)};ja.prototype.copyFrom=function(a){return this.set(a.x,a.y,a.r)};ja.prototype.equals=function(a,b){b=void 0===b?Number.EPSILON:
b;return null!==a&&Math.abs(this.x-a.x)<b&&Math.abs(this.y-a.y)<b&&Math.abs(this.r-a.r)<b};ja.prototype.containsXY=function(a,b){return this.contains(new t(a,b))};ja.prototype.contains=function(a){return(new t(this.x,this.y)).subtract(a).length()<=this.r};ja.prototype.zero=function(){return this.set(0,0,0)};ja.prototype.intersects=function(a){var b=(new t(this.x,this.y)).distance(new t(a.x,a.y));return b<=this.r+a.r&&b>=this.r-a.r};ja.prototype.collide=function(a){return(new t(this.x,this.y)).distance(new t(a.x,
a.y))<=this.r+a.r};ja.prototype.overlap=function(a){return this.r<a.r?!1:(new t(this.x,this.y)).distance(new t(a.x,a.y))<=this.r-a.r};ja.prototype.center=function(a){a=a||new t;return a.set(this.x,this.y)};ja.getCircumferencePoint=function(a,b,c,d,e){e=e||new t;e.set(a+c*Math.sin(d),b+c*-Math.cos(d));return e};ja.prototype.toString=function(a){a=void 0===a?2:a;return"Circle { x: "+this.x.toFixed(a)+", y: "+this.y.toFixed(a)+", r: "+this.r.toFixed(a)+" }"};$jscomp.global.Object.defineProperties(ja.prototype,
{volume:{configurable:!0,enumerable:!0,get:function(){return Math.PI*this.r*this.r}},perimeter:{configurable:!0,enumerable:!0,get:function(){return 2*Math.PI*this.r}},left:{configurable:!0,enumerable:!0,get:function(){return this.x-this.r}},right:{configurable:!0,enumerable:!0,get:function(){return this.x+this.r}},top:{configurable:!0,enumerable:!0,get:function(){return this.y-this.r}},bottom:{configurable:!0,enumerable:!0,get:function(){return this.y+this.r}},topPoint:{configurable:!0,enumerable:!0,
get:function(){return new t(this.x,this.top)}},bottomPoint:{configurable:!0,enumerable:!0,get:function(){return new t(this.x,this.bottom)}}});ja.__cache=new ja;var ca=function(a){this.mVertices=a=void 0===a?[]:a;this.mLines=[];this.mBounds=new z;this.mCenter=new t;2<a.length&&this.refresh()};ca.prototype.set=function(a){this.mVertices=a;this.refresh();return this};ca.prototype.copyTo=function(a){for(var b=this.mVertices.length,c=[],d=0;d<b;d++)c.push(this.mVertices[d].clone());return a.set(c)};ca.prototype.copyFrom=
function(a){a=a.mVertices;for(var b=a.length,c=[],d=0;d<b;d++)c.push(a[d].clone());return this.set(c)};ca.prototype.clone=function(){for(var a=this.mVertices,b=a.length,c=[],d=0;d<b;d++)c.push(a[d].clone());return new ca(c)};ca.prototype.containsXY=function(a,b){return this.contains(new t(a,b))};ca.prototype.contains=function(a){if(a.x<this.mBounds.x||this.mBounds.x+this.mBounds.width<a.x||a.y<this.mBounds.y||this.mBounds.y+this.mBounds.height<a.y)return!1;var b=this.mCenter,c=this.mLines,d=c.length;
if(b.equals(a))return!0;a=new X(a,b.clone());b=0;a.scale((this.width+this.height)/a.length());for(var e=0;e<d;e++)b+=c[e].intersects(a)?1:0;return 0!==b%2};ca.prototype.collide=function(a){if(!this.mBounds.intersects(a.mBounds))return!1;var b=this.mLines,c=b.length;a=a.mLines;for(var d=a.length,e=0;e<c;e++)for(var f=0;f<d;f++)if(b[e].intersects(a[f]))return!0;return!1};ca.prototype.collideCircle=function(a){var b=this.mBounds,c=this.mLines;if(b.left>a.right||b.right<a.left||b.top>a.bottom||b.bottom<
a.top)return!1;b=c.length;for(var d=0;d<b;d++)if(c[d].intersectsCircle(a))return!0;return!1};ca.prototype.collideRectangle=function(a){if(!this.mBounds.intersects(a))return!1;var b=this.mLines,c=b.length;a=a.lines;for(var d=a.length,e=0;e<c;e++)for(var f=0;f<d;f++)if(b[e].intersects(a[f]))return!0;return!1};ca.prototype.overlap=function(a){if(this.mBounds.width<a.mBounds.width||this.mBounds.height<a.mBounds.height||!this.contains(a.mCenter))return!1;var b=this.mLines,c=b.length;a=a.mLines;for(var d=
a.length,e=0;e<c;e++)for(var f=0;f<d;f++)if(b[e].intersects(a[f]))return!1;return!0};ca.prototype.overlapCircle=function(a){if(!this.containsXY(a.x,a.y))return!1;for(var b=this.mLines,c=b.length,d=0;d<c;d++)if(b[d].intersectsCircle(a))return!1;return!0};ca.prototype.overlapRectangle=function(a){if(!this.contains(a.center()))return!1;var b=this.mLines,c=b.length;a=a.lines;for(var d=a.length,e=0;e<c;e++)for(var f=0;f<d;f++)if(b[e].intersects(a[f]))return!1;return!0};ca.prototype.refresh=function(){var a=
this.mCenter,b=this.mBounds,c=this.mVertices,d=this.mLines=[];a.set(0,0);for(var e=-Number.MAX_VALUE,f=-Number.MAX_VALUE,g=Number.MAX_VALUE,h=Number.MAX_VALUE,k=0;k<c.length;k++){var p=c[k];a.add(p);var q=p,m=q.x;q=q.y;e=m>e?m:e;f=q>f?q:f;g=m<g?m:g;h=q<h?q:h;d.push(new X(p,c[k+1]||c[0]))}a.multiplyScalar(1/c.length);b.set(g,h,e-g,f-h);return this};ca.prototype.refreshCenter=function(){var a=this.mCenter,b=this.mVertices,c=b.length;a.set(0,0);for(var d=0;d<c;d++)a.add(b[d]);a.multiplyScalar(1/b.length);
return this};ca.prototype.refreshBounds=function(){for(var a=this.mBounds,b=this.mVertices,c=-Number.MAX_VALUE,d=-Number.MAX_VALUE,e=Number.MAX_VALUE,f=Number.MAX_VALUE,g=b.length,h,k,p=0;p<g;p++)h=b[p].x,k=b[p].y,c=h>c?h:c,d=k>d?k:d,e=h<e?h:e,f=k<f?k:f;a.set(e,f,c-e,d-f);return this};ca.prototype.refreshLines=function(){for(var a=this.mVertices,b=this.mLines=[],c=0;c<a.length;c+=2)b.push(new X(a[c],a[c+1]||a[0]));return this};ca.fromPath=function(a){var b=[];a=a.split(" ");for(var c=0;c<a.length;c+=
2)b.push(new t(Number(a[c]),Number(a[c+1])));return new ca(b)};ca.prototype.setRotation=function(a){var b=this.mCenter,c=this.mVertices,d=Math.cos(a);a=Math.sin(a);for(var e=0,f=c.length;e<f;e++){var g=c[e];g.subtract(b).set(g.x*d-g.y*a,g.x*a+g.y*d).add(b)}return this.refresh()};ca.prototype.setTranslation=function(a){var b=this.mVertices,c=b.length;a.subtract(this.mCenter);for(var d=0;d<c;d++)b[d].add(a);return this.refresh()};ca.prototype.toString=function(a){a=void 0===a?2:a;for(var b=this.mLines,
c=this.mVertices,d=b.length,e="",f="",g=0;g<d;g++)f+=b[g].toString(a);d=c.length;for(b=0;b<d;b++)e+=c[b].toString(a);return"Polygon { vertices: "+e+", bounds: "+this.mBounds.toString(a)+", center: "+this.mCenter.toString()+", lines: "+f+" }"};$jscomp.global.Object.defineProperties(ca.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.mBounds.width}},height:{configurable:!0,enumerable:!0,get:function(){return this.mBounds.height}},perimeter:{configurable:!0,enumerable:!0,get:function(){for(var a=
this.mLines,b=a.length,c=0,d=0;d<b;d++)c+=a[d].length();return c}},vertices:{configurable:!0,enumerable:!0,get:function(){return this.mVertices}},center:{configurable:!0,enumerable:!0,get:function(){return this.mCenter}}});ca.__cache=new ca;var ea=function(){this.mPoints=[];this.mLookup=null;this.mBaked=!1;this.mStep=1/60;this.mEachT=[]};ea.prototype.set=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.mPoints=this.__initPoints(b);this.__refreshEachT();this.mBaked&&this.__refreshCache();
return this};ea.prototype.__initPoints=function(a){for(var b=[],c=6;c<a.length;c+=6)b=b.concat(a.slice(c-6,c+2));return b};ea.prototype.__refreshCache=function(){for(var a=this.mLookup=[],b=this.getFullLength(),c=this.mPoints,d=c.length,e=0;e<d;e+=8)for(var f=ea.getLength.apply(ea,$jscomp.arrayFromIterable(c.slice(e,e+8))),g=f=this.mStep*b/f;1>g;g+=f)a.push(ea.lerp.apply(ea,[g].concat($jscomp.arrayFromIterable(c.slice(e,e+8)))));return this};ea.prototype.__refreshEachT=function(){for(var a=this.mPoints,
b=this.mEachT=[],c=a.length,d=[],e=0;e<c;e+=8)d.push(ea.getLength.apply(ea,$jscomp.arrayFromIterable(a.slice(e,e+8))));a=this.getFullLength();for(var f=e=0;f<c;f+=8)e+=d[f/8],b.push(e/a);return this};ea.lerp=function(a,b,c,d,e,f,g,h,k,p){var q=1-a,m=a*a,u=q*q,v=u*q,y=m*a;p=p||new t;p.set(b,c);p.x*=v;p.y*=v;p.x+=3*u*a*d;p.y+=3*u*a*e;p.x+=3*q*m*f;p.y+=3*q*m*g;p.x+=y*h;p.y+=y*k;return p};ea.prototype.interpolate=function(a,b){b=b||new t;var c=this.mLookup;if(this.mBaked)return b.copyFrom(c[Math.ceil((c.length-
1)*a)]),b;for(var d=this.mEachT,e=this.mPoints,f=0;d[f]<a;)f++;c=d[f-1]||0;d=d[f];e=e.slice(8*f,8*f+8);return ea.lerp.apply(ea,[(a-c)/(d-c)].concat($jscomp.arrayFromIterable(e),[b]))};ea.getLength=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=new t(b[0],b[1]);var d=new t(b[2],b[3]),e=new t(b[4],b[5]);b=new t(b[6],b[7]);return(b.distance(c)+c.distance(d)+d.distance(e)+e.distance(b))/2};ea.prototype.getFullLength=function(){for(var a=this.mPoints,b=a.length,c=0,d=0;d<b;d+=
8)c+=ea.getLength.apply(ea,$jscomp.arrayFromIterable(a.slice(d,d+8)));return c};$jscomp.global.Object.defineProperties(ea.prototype,{baked:{configurable:!0,enumerable:!0,get:function(){return this.mBaked},set:function(a){this.mBaked=a;!this.mLookup&&this.mPoints&&this.__refreshCache()}}});ea.__cache=new ea;var sb={DIRECT:"direct",BUBBLE:"bubble"},tb={REGULAR:"regular",OVERHEARD:"overheard"},O=function(){this.sender=null;this.name="";this.origin=this.target=null;this.canceled=!1;this.type=sb.DIRECT};
O.prototype.cancel=function(){this.canceled=!0};O.prototype.toString=function(){return"MESSAGE: { name: '"+this.name+"', sender: '"+(void 0!==this.sender.name?this.sender.name:"")+"', target: '"+this.target.name+"', path: '"+this.path+"' }"};O.prototype.__reset=function(){this.sender=null;this.name="";this.target=null;this.canceled=!1;this.type=sb.DIRECT;return this};$jscomp.global.Object.defineProperties(O,{PROGRESS:{configurable:!0,enumerable:!0,get:function(){return"progress"}},COMPLETE:{configurable:!0,
enumerable:!0,get:function(){return"complete"}},ERROR:{configurable:!0,enumerable:!0,get:function(){return"error"}},CHANGE:{configurable:!0,enumerable:!0,get:function(){return"change"}},READY:{configurable:!0,enumerable:!0,get:function(){return"ready"}},UPDATE:{configurable:!0,enumerable:!0,get:function(){return"update"}},RESIZE:{configurable:!0,enumerable:!0,get:function(){return"resize"}},pool:{configurable:!0,enumerable:!0,get:function(){return kd}}});var kd=new T(O),Gb=function(a,b,c,d,e,f,g){f=
void 0===f?tb.REGULAR:f;g=void 0===g?null:g;this.owner=a;this.name=b;this.callback=c;this.isOnce=d;this.context=void 0===e?null:e;this.pathPattern=g;this.glob=null==g?null:new Q(g);this.type=f};Gb.prototype.off=function(){this.owner.__off(this)};Gb.prototype.__reset=function(){this.pathPattern=this.owner=null;return this};var na=null,r=function(){na=this;this.mCamera=this.mAssets=this.mDevice=this.mTime=this.mAudio=this.mInput=this.mEngine=null};$jscomp.global.Object.defineProperties(r,{engine:{configurable:!0,
enumerable:!0,get:function(){return na.mEngine},set:function(a){na.mEngine=a}},input:{configurable:!0,enumerable:!0,get:function(){return na.mInput},set:function(a){na.mInput=a}},audio:{configurable:!0,enumerable:!0,get:function(){return na.mAudio},set:function(a){na.mAudio=a}},time:{configurable:!0,enumerable:!0,get:function(){return na.mTime},set:function(a){na.mTime=a}},device:{configurable:!0,enumerable:!0,get:function(){return na.mDevice},set:function(a){na.mDevice=a}},assets:{configurable:!0,
enumerable:!0,get:function(){return na.mAssets},set:function(a){na.mAssets=a}},stage:{configurable:!0,enumerable:!0,get:function(){return na.mEngine.mStage}},driver:{configurable:!0,enumerable:!0,get:function(){return na.mEngine.mVideo}},camera:{configurable:!0,enumerable:!0,get:function(){return null!==na.mCamera&&!0===na.mCamera.mAdded?na.mCamera:null},set:function(a){na.mCamera=a}},magic:{configurable:!0,enumerable:!0,get:function(){return Math.random()}}});new r;var M=function(a){this.mBindings=
null;this.checkForStage=void 0===a?!1:a};M.prototype.on=function(a,b,c){return this.__on(a,b,!1,c)};M.prototype.off=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];if(-1!==d.indexOf("@")){n.error("Removing overheard bindings is not allowed.");break}if(null!==this.mBindings&&!0===this.mBindings.hasOwnProperty(d)){d=this.mBindings[d].slice();for(var e=0;e<d.length;e++)this.__off(d[e])}}};M.prototype.once=function(a,b,c){return this.__on(a,b,
!0,c)};M.prototype.post=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];d=this.__draftMessage(a);d.type===sb.DIRECT?this.__invoke.apply(this,[this,d].concat($jscomp.arrayFromIterable(c))):d.type===sb.BUBBLE&&this.__postBubbles.apply(this,[this,d,!0].concat($jscomp.arrayFromIterable(c)));!1===d.canceled&&this.__invokeOverheard.apply(this,[this,d].concat($jscomp.arrayFromIterable(c)));O.pool.release(d)};M.prototype.__on=function(a,b,c,d){c=void 0===c?!1:c;d=void 0===d?null:
d;n.assert(null!==a,"name cannot be null.");n.assert(0<a.trim().length,"name cannot be null.");n.assert(0!==a.indexOf("~"),"Using `~` is not tot allowed here.");n.assert(null!==b,"callback cannot be null.");var e=a.indexOf("@");if(-1!==e){var f=a.substring(0,e);a=a.substring(e+1);e=M.mOverheardHandlers;!1===e.hasOwnProperty(f)&&(e[f]=[]);e=e[f];b=new Gb(this,f,b,c,d,tb.OVERHEARD,a);e.push(b);return b}null===this.mBindings&&(this.mBindings={});!1===this.mBindings.hasOwnProperty(a)&&(this.mBindings[a]=
[]);b=new Gb(this,a,b,c,d,tb.REGULAR);this.mBindings[a].push(b);return b};M.prototype.__off=function(a){if(a.type===tb.REGULAR){if(null!==this.mBindings&&!1!==this.mBindings.hasOwnProperty(a.name)){var b=this.mBindings[a.name];a=b.indexOf(a);-1!==a&&b.splice(a,1)}}else a.type===tb.OVERHEARD&&(b=M.mOverheardHandlers,!1!==b.hasOwnProperty(a.name)&&(b=b[a.name],a=b.indexOf(a),-1!==a&&b.splice(a,1)))};M.prototype.__invoke=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];if(!0!==
b.canceled&&null!==this.mBindings&&(!0!==this.checkForStage||this===r.stage||null!==this.stage)&&(e=this.mBindings[b.name],void 0!==e&&0!==e.length)){e=e.slice(0);for(var f=0;f<e.length;f++){b.target=this;var g=e[f];if(!0!==this.checkForStage||g.owner.stage!==r.stage||null!==g.owner.stage)if(g.callback.call.apply(g.callback,[g.context,b].concat($jscomp.arrayFromIterable(d))),!0===g.isOnce&&this.__off(g),!0===b.canceled)break}}};M.prototype.__invokeOverheard=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-
2]=arguments[e];if(!0!==b.canceled&&(e=M.mOverheardHandlers[b.name],void 0!==e&&0!==e.length)){e=e.slice(0);for(var f=0;f<e.length;f++){var g=e[f];if((!0!==this.checkForStage||g.owner.stage!==r.stage||null!==g.owner.stage)&&this.__checkPath(a.path,g)&&(b.target=this,g.callback.call.apply(g.callback,[g.context,b].concat($jscomp.arrayFromIterable(d))),!0===g.isOnce&&this.__off(g),!0===b.canceled))break}}};M.prototype.__postBubbles=function(a,b,c,d){for(var e=[],f=3;f<arguments.length;++f)e[f-3]=arguments[f];
b.origin=this;f=[this];for(var g=this;null!==g.parent;)f.push(g.parent),g=g.parent;for(g=0;g<f.length;g++){var h=f[g];h.__invoke.apply(h,[a,b].concat($jscomp.arrayFromIterable(e)));if(!0===b.canceled)break}};M.prototype.__draftMessage=function(a){var b=O.pool.get();b.__reset();b.sender=this;"~"===a.charAt(0)?(b.name=a.substr(1),b.type=sb.BUBBLE):b.name=a;return b};M.prototype.__checkPath=function(a,b){return null===a||null===b.pathPattern?!1:a===b.pathPattern?!0:-1===b.pathPattern.indexOf("*")?a===
b.pathPattern:b.glob.test(a)};M.dispose=function(){M.mOverheardHandlers={}};$jscomp.global.Object.defineProperties(M.prototype,{parent:{configurable:!0,enumerable:!0,get:function(){return null}},stage:{configurable:!0,enumerable:!0,get:function(){return null}},path:{configurable:!0,enumerable:!0,get:function(){return null}}});M.mOverheardHandlers={};var Hb={NORMAL:"normal",ITALIC:"italic"},Wb={NORMAL:"400",BOLD:"700"},mc=null,ab=function(a,b,c,d,e,f,g){d=void 0===d?Hb.NORMAL:d;e=void 0===e?Wb.NORMAL:
e;this.name="def";this.family=void 0===a?"sans-serif":a;this.size=void 0===c?14:c;this.color=void 0===b?0:b;this.alpha=1;this.style=d;this.weight=e;this.strokeThickness=void 0===f?0:f;this.strokeColor=void 0===g?16777215:g;this.strokeAlpha=1;this.dropShadow=!1;this.shadowColor=this.shadowDistanceY=this.shadowDistanceX=0;this.shadowAlpha=1;this.shadowBlur=0};ab.prototype.clone=function(a,b,c,d,e,f,g){a=void 0===a?null:a;b=void 0===b?NaN:b;c=void 0===c?NaN:c;d=void 0===d?null:d;e=void 0===e?null:e;
f=void 0===f?NaN:f;g=void 0===g?NaN:g;var h=new ab;h.family=null===a?this.family:a;h.size=isNaN(c)?this.size:c;h.color=isNaN(b)?this.color:b;h.style=null===d?this.style:d;h.weight=null===e?this.weight:e;h.strokeThickness=isNaN(f)?this.strokeThickness:f;h.strokeColor=isNaN(g)?this.strokeColor:g;h.dropShadow=this.dropShadow;h.shadowAlpha=this.shadowAlpha;h.shadowBlur=this.shadowBlur;h.shadowColor=this.shadowColor;h.shadowDistanceX=this.shadowDistanceX;h.shadowDistanceY=this.shadowDistanceY;return h};
$jscomp.global.Object.defineProperties(ab,{default:{configurable:!0,enumerable:!0,get:function(){null===mc&&(mc=new ab("sans-serif",0,14,Hb.NORMAL,Wb.NORMAL,0,0));return mc}}});var Vc={},Xb=null,bb=null,nc=!1,Aa=function(a){null===Xb&&("undefined"!==typeof OffscreenCanvas&&!0===nc?(bb=new OffscreenCanvas(10,200),Xb=bb.getContext("2d")):(bb=document.createElement("canvas"),Xb=bb.getContext("2d"),bb.width=10,bb.height=200));a.size=24;this.mCanvas=bb;this.mCtx=Xb;this.mStyle=a;var b=Math.floor(.7766*
bb.height);this.mCtx.clearRect(0,0,this.mCanvas.width,this.mCanvas.height);this.mCtx.font=a.weight+" "+a.size+'px "'+a.family+'"';this.mCtx.fillText("x",0,b,1);var c=this.mCtx.getImageData(0,0,1,this.mCanvas.height).data;a=this.__getBottom(c)-this.__getTop(c);for(var d=32;126>=d;d++)this.mCtx.fillText(String.fromCharCode(d),0,b,1);c=this.mCtx.getImageData(0,0,1,this.mCanvas.height).data;d=this.__getTop(c);c=this.__getBottom(c);b-=d;d=c-d;this.baseline=b;this.bottom=d;this.ascent=b-a;this.descent=
d-b;this.xHeight=a;this.capHeight=b};Aa.prototype.__getTop=function(a){for(var b=3,c=a.length;b<c;b+=4)if(0<a[b])return(b-3)/4;return a.length/4};Aa.prototype.__getBottom=function(a){for(var b=a.length-1;0<b;b-=4)if(0<a[b])return(b+1)/4;return 0};Aa.get=function(a){var b=Vc[a];null==b&&(b=new ab(a,0,24),b=new Aa(b),Vc[a]=b);return b};$jscomp.global.Object.defineProperties(Aa.prototype,{capHeightNormalized:{configurable:!0,enumerable:!0,get:function(){return this.capHeight/this.mStyle.size}},xHeightNormalized:{configurable:!0,
enumerable:!0,get:function(){return this.xHeight/this.mStyle.size}},ascentNormalized:{configurable:!0,enumerable:!0,get:function(){return this.ascent/this.mStyle.size}},descentNormalized:{configurable:!0,enumerable:!0,get:function(){return this.descent/this.mStyle.size}},baselineNormalized:{configurable:!0,enumerable:!0,get:function(){return this.baseline/this.mStyle.size}},bottomNormalized:{configurable:!0,enumerable:!0,get:function(){return this.bottom/this.mStyle.size}}});$jscomp.global.Object.defineProperties(Aa,
{useOffscreenCanvas:{configurable:!0,enumerable:!0,get:function(){return nc},set:function(a){nc=a}}});var Wc=function(){this.segments=[];this.bounds=new z;this.shadowBounds=this.strokeBounds=null;this.lineWidth=[]},Xc=function(a,b,c,d){this.text=a;this.style=b;this.lineIndex=c;this.bounds=d},oc=null,pc=null,cb=function(){throw Error("Singleton");};cb.measure=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];e=[];for(var f=/(~{([^}]+)}|^)(.+?(?=~{.+}|$|^))|(\n)/gm,g,h="def",
k=0;null!==(g=f.exec(a));)g[4]&&k++,g[2]&&(h=g[2]),g[3]&&e.push({tag:h,text:g[3],style:d.filter(function(ta){return ta.name===h})[0],lineIndex:k});f=new Wc;var p=d.filter(function(ta){return"def"===ta.name})[0]||ab.default;d=p.size*b;g=new z;k=new z;var q=null,m=-1,u=0,v=0;p=Aa.get(p.family).baselineNormalized*p.size;for(var y=0;y<e.length;y++){var G=e[y],H=G.style,W=cb.__measure(G.text,H);v=Aa.get(H.family).baselineNormalized*H.size;m!==G.lineIndex&&(u=f.lineWidth[G.lineIndex]=0);v=d*G.lineIndex+
p-v;W.x=u+2;W.y=v+2;u+=W.width;m=G.lineIndex;G.bounds=W;f.lineWidth[G.lineIndex]+=W.width;g.union(W);k.union(W.clone().inflate(H.strokeThickness,H.strokeThickness));!0===H.dropShadow&&(v=W.clone(),v.inflate(H.shadowBlur,H.shadowBlur),v.x+=H.shadowDistanceX,v.y+=H.shadowDistanceY,q=q||v,q.union(v));f.segments.push(new Xc(G.text,H,G.lineIndex,G.bounds))}f.bounds=g;f.strokeBounds=k;f.shadowBounds=q||new z;return f};cb.__measure=function(a,b,c){c=void 0===c?null:c;n.assert(null!=b,"Style cannot be null");
c=c||new z;c.zero();var d=Aa.get(b.family);null===oc&&(oc="undefined"!==typeof OffscreenCanvas&&!0===Aa.useOffscreenCanvas?new OffscreenCanvas(0,0):document.createElement("canvas"),pc=oc.getContext("2d"));var e=0;b.style===Hb.ITALIC&&(e=d.bottomNormalized*b.size/4);pc.font=b.weight+" "+b.style+" "+b.size+'px "'+b.family+'"';a=Math.ceil(pc.measureText(a).width);return c.set(0,d.baselineNormalized*b.size,a+2+e,d.bottomNormalized*b.size+2)};cb.measureBitmap=function(a,b,c,d){d=d||new z;for(var e=-1,
f=0,g=0,h=0,k=0,p=0;p<a.length;p++){var q=a.charCodeAt(p);if(/(?:\r\n|\r|\n)/.test(a.charAt(p)))f=0,g+=b.lineHeight*c,e=-1;else{var m=b.chars[q];null!=m&&(0<=e&&m.kerning[e]&&(f+=m.kerning[e]),f+=m.xAdvance,k=Math.max(k,f+m.xOffset),h=Math.max(h,g+m.height+m.yOffset),e=q)}}return d.set(0,0,k,h)};var qc=function(){this.mActualTime=this.mTime=0;this.mDeltaTimeMs=1E3/60;this.mDeltaTime=1E3/60*.001;this.mScale=1;this.mRenderOffset=this.mAlphaTime=0};$jscomp.global.Object.defineProperties(qc.prototype,
{now:{configurable:!0,enumerable:!0,get:function(){return this.mTime}},dt:{configurable:!0,enumerable:!0,get:function(){return this.mDeltaTime*this.mScale}},alpha:{configurable:!0,enumerable:!0,get:function(){return this.mAlphaTime}},delta:{configurable:!0,enumerable:!0,get:function(){return this.mDeltaTime*this.mScale}},scale:{configurable:!0,enumerable:!0,get:function(){return this.mScale},set:function(a){n.assert(0<=a,"Time scale must be >= 0.");this.mScale=a}}});var ka=function(){return M.call(this)||
this};$jscomp.inherits(ka,M);ka.prototype.onPause=function(){};ka.prototype.onResume=function(){};ka.prototype.onUpdate=function(){};ka.prototype.onPostUpdate=function(){};ka.prototype.onRender=function(){};ka.prototype.onChildrenAdded=function(a){};ka.prototype.onChildrenRemoved=function(a){};ka.prototype.onChildrenChanged=function(a){};ka.prototype.onComponentAdded=function(a,b){};ka.prototype.onComponentRemoved=function(a,b){};ka.prototype.dispose=function(){};var Yb={UNIVERSAL:"universal",LANDSCAPE:"landscape",
PORTRAIT:"portrait"},Ia=function(a){a=void 0===a?null:a;var b=M.call(this)||this;b.mContainerElement=a;b.mViewportElement=null;b.mSize=new z;b.isTransparent=!0;b.backgroundColor=0;b.mChecksLeftSeconds=0;b.mOrientation=Yb.UNIVERSAL;b.mOrientationLock=!1;b.mRotation=0;b.mIsPrimary=!1;b.mReflect=!1;b.__initialize();return b};$jscomp.inherits(Ia,M);Ia.prototype.__initialize=function(){var a=this;this.mViewportElement=document.createElement("div");this.mViewportElement.style.position="relative";this.mContainerElement.appendChild(this.mViewportElement);
var b=this.mContainerElement.style;b.userSelect="none";b.touchAction="none";b.cursor="auto";b.WebkitTapHighlightColor="rgba(0, 0, 0, 0)";b=this.mContainerElement.getBoundingClientRect();this.mSize.set(b.left,b.top,b.width,b.height);this.mIsPrimary=this.isPrimary();this.__onResize();this.mBoundResize=function(c){return a.__onResize()};window.addEventListener("resize",this.mBoundResize)};Ia.prototype.isPrimary=function(){var a=screen.msOrientation||(screen.orientation||screen.mozOrientation||{}).type;
if("landscape-primary"===a||"portrait-primary"===a)return!0;if("landscape-secondary"===a||"portrait-secondary"===a)return!1;n.warn("The orientation API isn't supported in this browser");return!0};Ia.prototype.__update=function(){0>=this.mChecksLeftSeconds||(this.__onResize(),this.mChecksLeftSeconds-=r.time.delta)};Ia.prototype.refresh=function(){this.__onResize()};Ia.prototype.__onResize=function(){var a=this.mViewportElement.style,b=this.mContainerElement.getBoundingClientRect(),c=b.width>b.height?
Yb.LANDSCAPE:Yb.PORTRAIT,d=z.pool.get().copyFrom(b),e=this.mIsPrimary;this.mIsPrimary=this.isPrimary();this.mIsPrimary!==e&&(this.mReflect=!this.mReflect);this.mOrientationLock&&this.mOrientation!==c?(this.mRotation=this.mReflect?-1:1,a.transform=this.mReflect?"rotate(-90deg)":"rotate(90deg)",a.left=.5*(b.width-b.height)+"px",a.top=.5*(b.height-b.width)+"px",a.width=b.height+"px",a.height=b.width+"px",d.width=b.height,d.height=b.width):(this.mRotation=0,this.mReflect=!1,a.transform="rotate(0deg)",
a.left="0px",a.top="0px",a.width=b.width+"px",a.height=b.height+"px");!0!==this.mSize.equals(d)&&(this.mSize.copyFrom(d),this.post(O.RESIZE,d),this.mChecksLeftSeconds=1,z.pool.release(d))};Ia.prototype.dispose=function(){this.mViewportElement.remove();window.removeEventListener("resize",this.mBoundResize)};$jscomp.global.Object.defineProperties(Ia.prototype,{orientation:{configurable:!0,enumerable:!0,get:function(){return this.mOrientation},set:function(a){this.mOrientation=a;this.__onResize()}},
orientationLock:{configurable:!0,enumerable:!0,get:function(){return this.mOrientationLock},set:function(a){this.mOrientationLock=a;this.__onResize()}},size:{configurable:!0,enumerable:!0,get:function(){return this.mSize}},nativeElement:{configurable:!0,enumerable:!0,get:function(){return this.mViewportElement}},rotation:{configurable:!0,enumerable:!0,get:function(){return this.mRotation}},isLandscape:{configurable:!0,enumerable:!0,get:function(){return this.size.width>=this.size.height}},isPortrait:{configurable:!0,
enumerable:!0,get:function(){return!this.isLandscape}}});var ld=0,Z=function(){var a=M.call(this,!0)||this;a.mId=++ld;a.mGameObject=null;a.mAdded=!1;a.enabled=!0;return a};$jscomp.inherits(Z,M);Z.prototype.onAdded=function(a){};Z.prototype.onRemoved=function(a){};Z.prototype.onUpdate=function(){};Z.prototype.onRender=function(){};Z.prototype.removeFromParent=function(){null!==this.mGameObject&&this.mGameObject.removeComponent(this)};$jscomp.global.Object.defineProperties(Z.prototype,{gameObject:{configurable:!0,
enumerable:!0,get:function(){return this.mGameObject}},parent:{configurable:!0,enumerable:!0,get:function(){return this.mGameObject}},stage:{configurable:!0,enumerable:!0,get:function(){return null===this.mGameObject?null:this.mGameObject.stage}},path:{configurable:!0,enumerable:!0,get:function(){return null!==this.mGameObject?this.mGameObject.path+"#"+this.constructor.name:this.constructor.name}}});var Ra={AUTO:"auto",NORMAL:"normal",ADD:"add",MULTIPLY:"multiply",SCREEN:"screen",OVERLAY:"overlay",
DARKEN:"darken",LIGHTEN:"lighten",COLOR_DODGE:"colorDodge",COLOR_BURN:"colorBurn",HARD_LIGHT:"hardLight",SOFT_LIGHT:"softLight",DIFFERENCE:"difference",EXCLUSION:"exclusion",HUE:"hue",SATURATE:"saturate",COLOR:"color",LUMINOSITY:"luminosity",MASK:"mask",MASK_INV:"maskInv"},md={auto:"auto",normal:"source-over",add:"lighter",multiply:"multiply",screen:"screen",overlay:"overlay",darken:"darken",lighten:"lighten",colorDodge:"color-dodge",colorBurn:"color-burn",hardLight:"hard-light",softLight:"soft-light",
difference:"difference",exclusion:"exclusion",due:"hue",saturate:"saturate",color:"color",luminosity:"luminosity",mask:"source-in",maskInv:"source-out"},nd=0,da=function(a,b,c,d,e,f){b=void 0===b?null:b;c=void 0===c?null:c;d=void 0===d?1:d;e=void 0===e?null:e;f=void 0===f?null:f;this.mId=++nd;this.mNative=a;this.mValid=!1;this.mRegion=new z;this.mUntrimmedRegion=new z;this.mRenderHeight=this.mRenderWidth=this.mDisplayHeight=this.mDisplayWidth=this.mNativeHeight=this.mNativeWidth=0;this.mScale=d;this.mRegistrationPoint=
e;this.mSlice9borders=f;this.set(a,b,c,d)};da.prototype.set=function(a,b,c,d){b=void 0===b?null:b;c=void 0===c?null:c;d=void 0===d?1:d;n.assert(null!=a,"nativeElement cannot be null");n.assert(!isNaN(d),"scale cannot be NaN");this.mScale=d;this.mNative=a;this.mNativeWidth=a.naturalWidth||a.videoWidth||a.width;this.mNativeHeight=a.naturalHeight||a.videoHeight||a.height;this.mRegion=b||this.mRegion.set(0,0,this.mNativeWidth,this.mNativeHeight);this.mUntrimmedRegion=c||this.mUntrimmedRegion.set(0,0,
this.mRegion.width,this.mRegion.height);this.mDisplayWidth=Math.ceil(this.mUntrimmedRegion.width*this.mScale);this.mDisplayHeight=Math.ceil(this.mUntrimmedRegion.height*this.mScale);this.mRenderWidth=Math.ceil(this.mRegion.width*this.mScale);this.mRenderHeight=Math.ceil(this.mRegion.height*this.mScale);this.mValid=null!=a&&0<this.mDisplayWidth&&0<this.mDisplayHeight};da.getScaleFactorFromName=function(a){var b=a.indexOf("@");if(-1===b)return 1;var c=a.indexOf("x",b);return parseFloat(a.substring(b+
1,c))};da.removeScaleFactorFromName=function(a){var b=a.indexOf("@");if(-1===b)return a;var c=a.indexOf("x",b);return a.substring(0,b)+a.substring(c+1)};da.fromBase64String=function(a){var b=new Image;b.src=a;return new da(b)};da.fromCanvasAsImage=function(a,b,c){b=void 0===b?"image/png":b;c=void 0===c?1:c;var d=new Image;d.src=a.toDataURL(b,c);return new da(d)};da.fromCanvas=function(a){return r.driver.getTextureFromCanvas(a)};$jscomp.global.Object.defineProperties(da.prototype,{width:{configurable:!0,
enumerable:!0,get:function(){return this.mDisplayWidth}},height:{configurable:!0,enumerable:!0,get:function(){return this.mDisplayHeight}},scale:{configurable:!0,enumerable:!0,get:function(){return this.mScale}},region:{configurable:!0,enumerable:!0,get:function(){return this.mRegion}},untrimmedRegion:{configurable:!0,enumerable:!0,get:function(){return this.mUntrimmedRegion}},nativeWidth:{configurable:!0,enumerable:!0,get:function(){return this.mNativeWidth}},nativeHeight:{configurable:!0,enumerable:!0,
get:function(){return this.mNativeHeight}},displayWidth:{configurable:!0,enumerable:!0,get:function(){return this.mDisplayWidth}},displayHeight:{configurable:!0,enumerable:!0,get:function(){return this.mDisplayHeight}},renderWidth:{configurable:!0,enumerable:!0,get:function(){return this.mRenderWidth}},renderHeight:{configurable:!0,enumerable:!0,get:function(){return this.mRenderHeight}},isValid:{configurable:!0,enumerable:!0,get:function(){return this.mValid}},registrationPoint:{configurable:!0,
enumerable:!0,get:function(){return this.mRegistrationPoint}},slice9borders:{configurable:!0,enumerable:!0,get:function(){return this.mSlice9borders}},native:{configurable:!0,enumerable:!0,get:function(){return this.mNative}},id:{configurable:!0,enumerable:!0,get:function(){return this.mId}}});var ub=function(a,b){this.mWidth=Math.ceil(a);this.mHeight=Math.ceil(b)};ub.prototype.resize=function(a,b){this.mWidth=a;this.mHeight=b};ub.prototype.clear=function(){};$jscomp.global.Object.defineProperties(ub.prototype,
{width:{configurable:!0,enumerable:!0,get:function(){return this.mWidth},set:function(a){this.mWidth=a}},height:{configurable:!0,enumerable:!0,get:function(){return this.mHeight},set:function(a){this.mHeight=a}}});var db=function(a,b){var c=ub.call(this,a,b)||this;c.mCanvas=document.createElement("canvas");c.mCtx=c.mCanvas.getContext("2d");c.resize(a,b);return c};$jscomp.inherits(db,ub);db.prototype.resize=function(a,b){this.mCanvas.width=Math.ceil(a);this.mCanvas.height=Math.ceil(b)};db.prototype.clear=
function(){this.mCtx.setTransform(1,0,0,1,0,0);this.mCtx.clearRect(0,0,this.mCanvas.width,this.mCanvas.height)};$jscomp.global.Object.defineProperties(db.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.mCanvas.width},set:function(a){this.mCanvas.width=a}},height:{configurable:!0,enumerable:!0,get:function(){return this.mCanvas.height},set:function(a){this.mCanvas.height=a}},native:{configurable:!0,enumerable:!0,get:function(){return this.mCanvas}},context:{configurable:!0,
enumerable:!0,get:function(){return this.mCtx}}});var K=function(){this.parent=this.gameObject=null;this.endPassRequired=this.skipSelf=this.skipChildren=!1;this.endPassRequiredAt=-1;this.alpha=1;this.blendMode=Ra.NORMAL;this.color=null};K.prototype.preRender=function(a,b){this.endPassRequired=null!==this.gameObject.mClipRect&&!1===this.gameObject.mClipRect.isEmpty;this.skipSelf=this.skipChildren=!(0<this.gameObject.mAlpha&&!0===this.gameObject.mVisible)};K.prototype.begin=function(a,b){this.alpha=
this.gameObject.mAlpha*this.parent.alpha;this.color=null===this.gameObject.mColor?this.parent.color:this.gameObject.mColor;this.blendMode=this.gameObject.mBlendMode===Ra.AUTO?this.parent.blendMode:this.gameObject.mBlendMode};K.prototype.upload=function(a,b){b=this.gameObject;var c=b.worldTransformation;a.setSnapToPixels(b.snapToPixels);a.setGlobalAlpha(this.alpha);a.setGlobalBlendMode(this.blendMode);a.setTransform(c);!0===this.endPassRequired&&a.beginClip(b.mClipRect,b.mPivotX,b.mPivotY)};K.prototype.render=
function(a,b){};K.prototype.end=function(a,b){a.endClip();this.endPassRequiredAt=-1;this.endPassRequired=!1};K.getColoredTexture=function(a,b){if(16777215===b||null===b)return a;var c=b.toString();if(K.__colorCache.has(a.id,c))return K.__colorCache.get(a.id,c);var d=a.region,e=d.width,f=d.height,g=new db(e,f),h=g.context;h.fillStyle=x.hexColorToString(b);h.fillRect(0,0,e,f);h.globalCompositeOperation="multiply";h.drawImage(a.native,d.x,d.y,d.width,d.height,0,0,d.width,d.height);h.globalCompositeOperation=
"destination-atop";h.drawImage(a.native,d.x,d.y,d.width,d.height,0,0,d.width,d.height);b=new da(g.native,null,a.untrimmedRegion.clone(),a.scale);K.__colorCache.set(a.id,c,b);return b};K.__colorCache=new ia;K.__dirty=!0;K.skipUnchangedFrames=!1;var Ca=function(){var a=Z.call(this)||this;a.mChanged=!0;a.mCenter=new t;a.mMin=new t;a.mMax=new t;return a};$jscomp.inherits(Ca,Z);Ca.prototype.containsPoint=function(a){n.error("Abstract method.");return!1};Ca.prototype.refresh=function(a,b){};var Sa=function(){var a=
Z.call(this)||this;a.touchable=!0;a.mPointerInDispatched=!1;return a};$jscomp.inherits(Sa,Z);var od=0,B=function(){var a=M.call(this,!0)||this;a.mId=++od;a.mName=null;a.mComponents=[];a.mChildren=[];a.mX=0;a.mY=0;a.mScaleX=1;a.mScaleY=1;a.mPivotX=0;a.mPivotY=0;a.mSkewX=0;a.mSkewY=0;a.mAnchorX=null;a.mAnchorY=null;a.mPivotOffsetX=0;a.mPivotOffsetY=0;a.mRotation=0;a.mBoundsCache=new z;a.mLocalTransform=new C;a.mWorldTransform=new C;a.mWorldTransformInverted=new C;a.mDirty=16777215;a.mParent=null;a.mTag=
null;a.mAdded=!1;a.mNumChildrenRemoved=0;a.mNumComponentsRemoved=0;a.mDirtyFrameNum=0;a.mSuspendDirty=!1;a.mCollidersCache=[];a.mChildOrComponentBeenAdded=!1;a.mChildrenClone=null;a.mComponentClone=null;return a};$jscomp.inherits(B,M);B.prototype.make=function(a){this.mSuspendDirty=!0;for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.mSuspendDirty=!1;this.setTransformDirty();return this};B.prototype.checkStatic=function(a){if(!1===(void 0===a?!0:a))return this.mDirtyFrameNum<r.engine.frameNum;
var b=!1;B.forEach(this,function(c){if(c.mDirtyFrameNum>=r.engine.frameNum)return b=!0});return!b};B.prototype.onAdded=function(){};B.prototype.onRemoved=function(){};B.prototype.add=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];d instanceof B?this.addChild(d):this.addComponent(d)}return this};B.prototype.addChild=function(a){return this.addChildAt(a,this.mChildren.length)};B.prototype.addChildAt=function(a,b){b=void 0===b?0:b;n.assert(a instanceof
B,"Type error.");var c=this.mChildren.length;if(0>b||b>c)throw Error("Child index is out of bounds.");if(a.mParent===this)return this.setChildIndex(a,b);this.mChildren.splice(b,0,a);a.removeFromParent();a.__setParent(this);r.engine.onChildrenAdded(a,this);this.mChildOrComponentBeenAdded=!0;return a};B.prototype.__setParent=function(a){for(var b=a;null!==b&&b!==this;)b=b.mParent;if(b===this)throw Error("Object cannot be a child to itself.");this.mParent=a;this.setTransformDirty();return!0};B.prototype.setChildIndex=
function(a,b){var c=this.mChildren.indexOf(a);if(0>c)throw Error("Given child element was not found in children list.");if(c===b)return a;this.mChildren.splice(c,1);this.mChildren.splice(b,0,a);if(null!==this.stage)r.engine.onChildrenChanged(a);this.setTransformDirty();return a};B.prototype.removeFromParent=function(){null!==this.mParent&&this.mParent.removeChild(this);this.setTransformDirty();return this};B.prototype.removeChild=function(a){a=this.mChildren.indexOf(a);return 0>a?null:this.removeChildAt(a)};
B.prototype.getChildByName=function(a){for(var b=0;b<this.mChildren.length;b++)if(this.mChildren[b].name===a)return this.mChildren[b];return null};B.prototype.removeChildAt=function(a){a=this.mChildren.splice(a,1)[0];if(null==a)return null;var b=null!==this.stage;a.__setParent(null);if(!0===b)r.engine.onChildrenRemoved(a);this.setTransformDirty();this.mNumChildrenRemoved++;return a};B.prototype.removeAllChildren=function(){for(;0<this.mChildren.length;)this.removeChildAt(0);return this};B.prototype.getChildAt=
function(a){return this.mChildren[a]};B.prototype.addComponent=function(a){return this.addComponentAt(a,this.mComponents.length)};B.prototype.addComponentAt=function(a,b){b=void 0===b?0:b;n.assert(a instanceof Z,"Type error.");if(a.gameObject)throw Error("Component cannot be added to two game objects at the same time.");var c=this.mComponents.length;if(0>b||b>c)throw Error("Component index is out of bounds.");this.mComponents.splice(b,0,a);a.mGameObject=this;a instanceof Ca&&this.mCollidersCache.push(a);
if(null!==this.stage||r.stage===this)r.engine.onComponentAdded(this,a);this.mChildOrComponentBeenAdded=!0;return a};B.prototype.removeComponentAt=function(a){a=this.mComponents.splice(a,1)[0];if(null==a)return null;a.mGameObject=null;if(a instanceof Ca){var b=this.mCollidersCache.indexOf(a);-1<b&&this.mCollidersCache.splice(b,1)}if(null!==this.stage||r.stage===this)r.engine.onComponentRemoved(this,a);this.mNumComponentsRemoved++;return a};B.prototype.removeComponent=function(a){if(null==a)return null;
n.assert(a instanceof Z,"Type error.");a=this.mComponents.indexOf(a);return-1<a?this.removeComponentAt(a):null};B.prototype.removeAllComponents=function(){for(;0<this.mComponents.length;)this.removeComponentAt(0);return this};B.prototype.getComponent=function(a){for(var b=0;b<this.mComponents.length;b++){var c=this.mComponents[b];if(c instanceof a)return c}return null};B.prototype.getComponentAt=function(a){return 0<=a&&a<this.mComponents.length?this.mComponents[a]:null};B.prototype.__update=function(){this.onUpdate();
if(!1!==this.mChildOrComponentBeenAdded){if(0<this.mComponents.length){this.mComponentClone=this.mComponents.slice();for(var a=0;a<this.mComponentClone.length&&!1!==this.mAdded;a++){var b=this.mComponentClone[a];if(!1!==b.mAdded&&!1!==b.enabled)b.onUpdate()}}if(0<this.mChildren.length)for(this.mChildrenClone=this.mChildren.slice(),a=0;a<this.mChildrenClone.length;a++)b=this.mChildrenClone[a],!0===b.mAdded&&b.__update()}};B.prototype.onUpdate=function(){};B.prototype.onGetLocalBounds=function(a){a=
a||new z;return a.set(0,0,0,0)};B.prototype.getBounds=function(a,b,c){a=void 0===a?null:a;b=void 0===b?!0:b;c=c||new z;this.onGetLocalBounds(c);null==a&&(a=this.mParent);if(a!=this)if(a==this.mParent)if(!1===b){var d=C.pool.get();d.copyFrom(this.localTransformation);d.transformRect(c,c);C.pool.release(d)}else if(!0===b&&this.mDirty&64)d=C.pool.get(),d.copyFrom(this.localTransformation),d.transformRect(c,c),C.pool.release(d);else return c.copyFrom(this.mBoundsCache),c;else d=C.pool.get(),d.copyFrom(this.worldTransformation),
d.prepend(a.worldTransformationInverted),d.transformRect(c,c),C.pool.release(d);if(!0===b){d=z.pool.get();for(var e=0;e<this.mChildren.length;e++)d.zero(),this.mChildren[e].getBounds(a,b,d),c.union(d);z.pool.release(d);a==this.mParent&&this.mDirty&64&&(this.mBoundsCache.copyFrom(c),this.mDirty^=64)}return c};B.prototype.getStageBounds=function(a){a=a||new z;this.onGetLocalBounds(a);var b=C.pool.get();b.copyFrom(this.worldTransformation);b.prepend(this.stage.worldTransformationInverted);b.transformRect(a,
a);C.pool.release(b);return a};B.prototype.hitTest=function(a){var b=this.getComponent(Sa);b=null!==b&&b.touchable;var c=this.onHitTestMask(a);if(!1===b||!1===c)return null;for(c=this.mChildren.length-1;0<=c;--c)if(b=this.mChildren[c].hitTest(a),null!==b)return b;return!0===this.onHitTest(a)?this:null};B.prototype.onHitTest=function(a){var b=!1,c=t.pool.get();this.worldTransformationInverted.transformVector(a,c);if(0<this.mCollidersCache.length)for(a=0;a<this.mCollidersCache.length;a++){if(b=this.mCollidersCache[a].containsPoint(c),
!0===b)return!0}else b=this.localBounds.containsXY(c.x,c.y);t.pool.release(c);return b};B.prototype.onHitTestMask=function(a){return!0};B.prototype.setTransform=function(a,b,c,d,e,f,g,h){this.mX=void 0===a?0:a;this.mY=void 0===b?0:b;this.mRotation=void 0===c?0:c;this.mScaleX=void 0===d?1:d;this.mScaleY=void 0===e?1:e;this.mAnchorX=void 0===f?0:f;this.mAnchorY=void 0===g?0:g;this.setTransformDirty();return this};B.prototype.relativeTo=function(a,b){b=(void 0===b?null:b)||new t;b.set(this.x,this.y);
if(null==this.parent||null==a)return b;this.parent.localToGlobal(b,b);a.globalToLocal(b,b);return b};B.prototype.localToGlobal=function(a,b){return this.worldTransformation.transformVector(a,void 0===b?null:b)};B.prototype.globalToLocal=function(a,b){return this.worldTransformationInverted.transformVector(a,void 0===b?null:b)};B.prototype.alignAnchor=function(a,b){a=void 0===a?.5:a;b=void 0===b?.5:b;n.isNumber(a,b);this.mAnchorX=a;this.anchorY=b;return this};B.prototype.alignPivot=function(a,b){return this.alignPivotOffset(void 0===
a?.5:a,void 0===b?.5:b)};B.prototype.alignPivotOffset=function(a,b,c){a=void 0===a?.5:a;b=void 0===b?.5:b;c=void 0===c?!0:c;n.isNumber(a,b);this.getBounds(this,c,z.__cache.zero());this.mPivotOffsetX=z.__cache.width*a+z.__cache.x;this.mPivotOffsetY=z.__cache.height*b+z.__cache.y;this.__updatePivots(this);this.setTransformDirty();return this};B.prototype.spawn=function(a,b){function c(e){e.done||("function"===typeof e.value?e.value(function(f){return c(d.next(f))}):c(d.next(e.value)))}b=void 0===b?
null:b;var d=a.apply(null==b?this:b);c(d.next());return d};B.prototype.wait=function(a){var b=this;a=void 0===a?1:a;return function(c){return setTimeout(c.bind(b,1E3*a),1E3*a)}};B.prototype.waitMessage=function(a){var b=this;return function(c){return b.once(a,c.bind(b))}};B.prototype.setDirty=function(a,b){void 0===b||b?B.forEach(this,function(c){c.mDirty|=a;c.mDirtyFrameNum=r.engine.frameNum}):(this.mDirty|=a,this.mDirtyFrameNum=r.engine.frameNum);K.__dirty=!0};B.prototype.__updatePivots=function(a){a.getBounds(a,
!0,z.__cache.zero());a.mPivotX=null===a.mAnchorX?a.mPivotOffsetX:a.mPivotOffsetX+z.__cache.width*a.mAnchorX+z.__cache.x;a.mPivotY=null===a.mAnchorY?a.mPivotOffsetY:a.mPivotOffsetY+z.__cache.height*a.mAnchorY+z.__cache.y};B.prototype.setParentDirty=function(a){for(var b=this;null!=b;)b.mDirty|=a,b.mDirtyFrameNum=r.engine.frameNum,b=b.mParent;K.__dirty=!0};B.prototype.setTransformDirty=function(){!0!==this.mSuspendDirty&&(this.setDirty(65,!1),this.setDirty(78,!0),this.setParentDirty(96))};B.prototype.setRenderDirty=
function(){!0!==this.mSuspendDirty&&this.setDirty(8,!0)};B.getBoundsWithPoints=function(a,b,c){c=c||new z;for(var d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=Number.MAX_VALUE,g=-Number.MAX_VALUE,h=new t,k=0;k<a.length;k+=2)b.transformXY(a[k],a[k+1],h),d>h.x&&(d=h.x),e<h.x&&(e=h.x),f>h.y&&(f=h.y),g<h.y&&(g=h.y);c.set(d,f,e-d,g-f);return c};B.intersects=function(a,b){var c=new t;a.worldTransformationInverted.transformVector(b,c);return a.localBounds.containsXY(c.x,c.y)};B.intersectsAt=function(a,b,c){c=
c||new t;t.__cache.set();a.worldTransformationInverted.transformVector(b,t.__cache);if(!1===a.localBounds.containsXY(t.__cache.x,t.__cache.y))return!1;c.x=t.__cache.x-a.localBounds.x;c.y=t.__cache.y-a.localBounds.y;return!0};B.intersectsWith=function(a,b){for(var c=null,d=a.numChildren-1;0<=d;--d){var e=a.mChildren[d];c=B.intersectsWith(e,b);if(null!=c)return c;if(B.intersects(e,b)){c=e;break}}return null===c&&B.intersects(a,b)?a:null};B.findWithTag=function(a){return!1===r.engine.mTagCache.hasOwnProperty(a)?
null:r.engine.mTagCache[a]};B.findComponents=function(a,b){n.assert(null!==a,"gameObject cannot be null.");n.assert(null!==b,"type cannot be null.");var c=[],d=function(e,f){for(var g=0;g<e.mComponents.length;g++){var h=e.mComponents[g];h instanceof f&&c.push(h)}for(g=0;g<e.mChildren.length;g++)d(e.mChildren[g],f)};d(a,b);return c};B.forEach=function(a,b){null==a&&(a=r.stage);var c=b(a);if(!0!==c)for(var d=0;d<a.mChildren.length&&(c=B.forEach(a.mChildren[d],b),!0!==c);d++);};B.find=function(a,b){null==
b&&(b=r.stage);if(b.name===a)return b;for(var c=0;c<b.numChildren;c++){var d=B.find(a,b.getChildAt(c));if(null!=d)return d}return null};B.findById=function(a,b){null==b&&(b=r.stage);if(b.id===a)return b;for(var c=0;c<b.numChildren;c++){var d=B.findById(a,b.getChildAt(c));if(null!==d)return d}return null};$jscomp.global.Object.defineProperties(B.prototype,{id:{configurable:!0,enumerable:!0,get:function(){return this.mId}},numComponents:{configurable:!0,enumerable:!0,get:function(){return this.mComponents.length}},
localTransformation:{configurable:!0,enumerable:!0,get:function(){if(this.mDirty&1){this.mDirty^=1;if(0===this.mSkewX&&0===this.mSkewY){if(0===this.mRotation)return this.mLocalTransform.set(this.mScaleX,0,0,this.mScaleY,this.mX-this.mPivotX*this.mScaleX,this.mY-this.mPivotY*this.mScaleY);var a=Math.cos(this.mRotation),b=Math.sin(this.mRotation),c=this.mScaleX*a,d=this.mScaleX*b;b=this.mScaleY*-b;a*=this.mScaleY;return this.mLocalTransform.set(c,d,b,a,this.mX-this.mPivotX*c-this.mPivotY*b,this.mY-
this.mPivotX*d-this.mPivotY*a)}this.mLocalTransform.identity();this.mLocalTransform.scale(this.mScaleX,this.mScaleY);this.mLocalTransform.skew(this.mSkewX,this.mSkewY);this.mLocalTransform.rotate(this.mRotation);c=this.mLocalTransform.data[0];d=this.mLocalTransform.data[1];a=this.mLocalTransform.data[2];b=this.mLocalTransform.data[3];var e=this.mX,f=this.mY;if(0!==this.mPivotX||0!==this.mPivotY)e=this.mX-c*this.mPivotX-a*this.mPivotY,f=this.mY-d*this.mPivotX-b*this.mPivotY;this.mLocalTransform.data[4]=
e;this.mLocalTransform.data[5]=f}return this.mLocalTransform},set:function(a){var b=Math.PI/4,c=a.data[0],d=a.data[1],e=a.data[2],f=a.data[3],g=a.data[4];a=a.data[5];this.mPivotOffsetX=this.mPivotOffsetY=0;this.mAnchorX=null;this.mX=g;this.mY=a;g=Math.atan(-e/f);a=Math.atan(d/c);g!=g&&(g=0);a!=a&&(a=0);this.mScaleY=g>-b&&g<b?f/Math.cos(g):-e/Math.sin(g);this.mScaleX=a>-b&&a<b?c/Math.cos(a):d/Math.sin(a);w.equals(g,a)?(this.mRotation=g,this.mSkewX=this.mSkewY=0):(this.mRotation=0,this.mSkewX=g,this.mSkewY=
a);this.setTransformDirty()}},worldTransformation:{configurable:!0,enumerable:!0,get:function(){this.mDirty&32&&(null!==this.mAnchorX||null!==this.mAnchorY)&&(this.mDirty^=32,this.__updatePivots(this),this.setDirty(79,!0));this.mDirty&2&&(this.mDirty^=2,null!==this.mParent?this.mParent.worldTransformation.copyTo(this.mWorldTransform).append(this.localTransformation):this.localTransformation.copyTo(this.mWorldTransform));return this.mWorldTransform}},worldTransformationInverted:{configurable:!0,enumerable:!0,
get:function(){this.mDirty&4&&(this.mDirty^=4,this.worldTransformation.copyTo(this.mWorldTransformInverted).invert());return this.mWorldTransformInverted}},localBounds:{configurable:!0,enumerable:!0,get:function(){return this.getBounds(this,!1)}},bounds:{configurable:!0,enumerable:!0,get:function(){return this.getBounds(this.mParent,!0)}},numChildren:{configurable:!0,enumerable:!0,get:function(){return this.mChildren.length}},name:{configurable:!0,enumerable:!0,get:function(){return this.mName},set:function(a){this.mName=
a}},x:{configurable:!0,enumerable:!0,get:function(){return this.mX},set:function(a){this.mX!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mX=a,this.setTransformDirty())}},y:{configurable:!0,enumerable:!0,get:function(){return this.mY},set:function(a){this.mY!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mY=a,this.setTransformDirty())}},xy:{configurable:!0,enumerable:!0,get:function(){return new t(this.mX,this.mY)},set:function(a){if(this.mX!==a.x||this.mY!==a.y)this.mX=a.x,this.mY=a.y,
this.setTransformDirty()}},pivotOffsetX:{configurable:!0,enumerable:!0,get:function(){return this.mPivotOffsetX},set:function(a){this.mPivotOffsetX!==a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mPivotOffsetX=a,this.__updatePivots(this),this.setTransformDirty())}},pivotOffsetY:{configurable:!0,enumerable:!0,get:function(){return this.mPivotOffsetY},set:function(a){this.mPivotOffsetY!==a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mPivotOffsetY=a,this.__updatePivots(this),this.setTransformDirty())}},
anchorX:{configurable:!0,enumerable:!0,set:function(a){this.mAnchorX!==a&&(n.assert(null!==a&&!isNaN(a),"Value cannot be NaN"),this.mAnchorX=a,this.setTransformDirty())},get:function(){return this.mAnchorX}},anchorY:{configurable:!0,enumerable:!0,set:function(a){this.mAnchorY!==a&&(n.assert(null!==a&&!isNaN(a),"Value cannot be NaN"),this.mAnchorY=a,this.setTransformDirty())},get:function(){return this.mAnchorY}},pivotX:{configurable:!0,enumerable:!0,get:function(){return this.mPivotX}},pivotY:{configurable:!0,
enumerable:!0,get:function(){return this.mPivotY}},scaleX:{configurable:!0,enumerable:!0,get:function(){return this.mScaleX},set:function(a){this.mScaleX!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mScaleX=a,this.setTransformDirty())}},scaleY:{configurable:!0,enumerable:!0,get:function(){return this.mScaleY},set:function(a){this.mScaleY!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mScaleY=a,this.setTransformDirty())}},scale:{configurable:!0,enumerable:!0,get:function(){return this.scaleX},
set:function(a){this.mScaleX!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mScaleX=this.mScaleY=a,this.setTransformDirty())}},skewX:{configurable:!0,enumerable:!0,get:function(){return this.mSkewX},set:function(a){this.mSkewX!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mSkewX=a,this.setTransformDirty())}},skewY:{configurable:!0,enumerable:!0,get:function(){return this.mSkewY},set:function(a){this.mSkewY!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mSkewY=a,this.setTransformDirty())}},
rotation:{configurable:!0,enumerable:!0,get:function(){return this.mRotation},set:function(a){this.mRotation!=a&&(n.assert(!isNaN(a),"Value cannot be NaN"),this.mRotation=a,this.setTransformDirty())}},parent:{configurable:!0,enumerable:!0,get:function(){return this.mParent}},root:{configurable:!0,enumerable:!0,get:function(){for(var a=this;null!=a.mParent;)a=a.mParent;return a}},stage:{configurable:!0,enumerable:!0,get:function(){return!0===this.mAdded?r.stage:null}},width:{configurable:!0,enumerable:!0,
get:function(){return this.getBounds(this.mParent).width},set:function(a){n.assert(!isNaN(a),"Value cannot be NaN");this.scaleX=1;var b=this.width;0!=b&&(this.scaleX=a/b)}},height:{configurable:!0,enumerable:!0,get:function(){return this.getBounds(this.mParent).height},set:function(a){n.assert(!isNaN(a),"Value cannot be NaN");this.scaleY=1;var b=this.height;0!=b&&(this.scaleY=a/b)}},localWidth:{configurable:!0,enumerable:!0,get:function(){return this.getBounds(this,!1).width}},localHeight:{configurable:!0,
enumerable:!0,get:function(){return this.getBounds(this,!1).height}},path:{configurable:!0,enumerable:!0,get:function(){return null!==this.mParent?this.mParent.path+"/"+this.mName:this.mName}},tag:{configurable:!0,enumerable:!0,get:function(){return this.mTag},set:function(a){if(this.mTag!==a){var b=this.mTag;this.mTag=a;if(this.mAdded)r.engine.onTagUpdated(this,b,a)}}},touchable:{configurable:!0,enumerable:!0,set:function(a){var b=this.getComponent(Sa);!0===a?null===b?this.addComponent(new Sa):b.touchable=
!0:null!==b&&this.removeComponent(b)},get:function(){var a=this.getComponent(Sa);return null!==a&&!0===a.touchable}}});var eb={NORMAL:"normal",NO_SCALE:"noScale",FIXED:"fixed",LETTERBOX:"letterBox",COVER:"cover"},Yc=function(a){this.keyCode=a.keyCode;this.code=a.code;this.char=a.key;this.shiftKey=a.shiftKey;this.altKey=a.altKey;this.ctrlKey=a.ctrlKey},Zb=function(){this.mPixelRatioCache=null};Zb.prototype.getDevicePixelRatio=function(){return void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&
window.screen.systemXDPI>window.screen.logicalXDPI?window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio?window.devicePixelRatio:1};$jscomp.global.Object.defineProperties(Zb.prototype,{os:{configurable:!0,enumerable:!0,get:function(){var a=navigator.userAgent||navigator.vendor||window.opera;return/windows phone/i.test(a)?"Windows Phone":/android/i.test(a)?"Android":/iPad|iPhone|iPod/.test(a)?"iOS":"unknown"}},isTouch:{configurable:!0,enumerable:!0,get:function(){return"ontouchstart"in
window||0<navigator.maxTouchPoints?!0:!1}},isMobile:{configurable:!0,enumerable:!0,get:function(){return/Mobi/.test(navigator.userAgent)}},pixelRatio:{configurable:!0,enumerable:!0,get:function(){null===this.mPixelRatioCache&&(this.mPixelRatioCache=this.getDevicePixelRatio());return this.mPixelRatioCache}},webAudioSupported:{configurable:!0,enumerable:!0,get:function(){return null!=window.AudioContext||null!=window.webkitAudioContext}}});var aa=function(){var a=B.call(this)||this;a.mAlpha=1;a.mBlendMode=
Ra.AUTO;a.mVisible=!0;a.mClipRect=null;a.mRenderer=a.getRenderer();a.mCacheAsBitmap=!1;a.mCacheAsBitmapDynamic=!0;a.mCacheAsBitmapDirty=!0;a.mCacheAsBitmapMatrixCache=null;a.mCache=null;a.mCacheBounds=null;a.mColor=null;a.mSnapToPixels=!1;return a};$jscomp.inherits(aa,B);aa.prototype.onRender=function(){};aa.prototype.getRenderer=function(){return r.driver.getRenderer("DisplayObject",this)};aa.prototype.onGetLocalBounds=function(a){a=a||new z;return null!==this.mClipRect?(this.mClipRect.copyTo(a),
a):a.set(0,0,0,0)};aa.prototype.getBounds=function(a,b,c){b=void 0===b?!0:b;c=c||new z;var d=this.onGetLocalBounds();null==a&&(a=this.mParent);if(a!=this)if(a==this.mParent)if(!1===b||null!==this.mClipRect){var e=C.pool.get();e.copyFrom(this.localTransformation);e.transformRect(d,c);C.pool.release(e)}else if(!0===b&&this.mDirty&64)e=C.pool.get(),e.copyFrom(this.localTransformation),e.transformRect(d,c),C.pool.release(e);else return c.copyFrom(this.mBoundsCache),c;else e=C.pool.get(),e.copyFrom(this.worldTransformation),
e.prepend(a.worldTransformationInverted),e.transformRect(d,c),C.pool.release(e);a!==this?null!==this.mClipRect&&(c.x+=this.mPivotX,c.y+=this.mPivotY):d.copyTo(c);if(null!==this.mClipRect)return c;if(!0===b){d=z.pool.get();for(e=0;e<this.mChildren.length;e++)d.zero(),this.mChildren[e].getBounds(a,b,d),c.union(d);z.pool.release(d);a==this.mParent&&this.mDirty&64&&(this.mBoundsCache.copyFrom(c),this.mDirty^=64)}return c};aa.prototype.hitTest=function(a){var b=this.getComponent(Sa);b=null!==b&&b.touchable;
var c=this.onHitTestMask(a);if(!1===this.visible||!1===b||!1===c)return null;for(c=this.mChildren.length-1;0<=c;--c)if(b=this.mChildren[c].hitTest(a),null!==b)return b;return!0===this.onHitTest(a)?this:null};aa.prototype.onHitTestMask=function(a){if(null===this.mClipRect)return!0;var b=t.pool.get();this.worldTransformationInverted.transformVector(a,b);a=this.mClipRect.containsXY(b.x-this.mPivotX,b.y-this.mPivotY);t.pool.release(b);return a};$jscomp.global.Object.defineProperties(aa.prototype,{color:{configurable:!0,
enumerable:!0,get:function(){return this.mColor},set:function(a){this.mColor!==a&&(this.mColor=a,this.setRenderDirty())}},cacheAsBitmap:{configurable:!0,enumerable:!0,get:function(){return this.mCacheAsBitmap},set:function(a){a!==this.mCacheAsBitmap&&(this.mCacheAsBitmap=a,!1===a&&(this.mCache=null,this.mCacheAsBitmapDirty=!0,this.mCacheBounds=this.mCacheAsBitmapMatrixCache=null,this.setTransformDirty()))}},cacheAsBitmapDynamic:{configurable:!0,enumerable:!0,get:function(){return this.mCacheAsBitmapDynamic},
set:function(a){this.mCacheAsBitmapDynamic=a}},alpha:{configurable:!0,enumerable:!0,get:function(){return this.mAlpha},set:function(a){n.assert(!isNaN(a),"Value cannot be NaN");this.mAlpha!==w.clamp(a,0,1)&&(this.mAlpha=w.clamp(a,0,1),this.setRenderDirty())}},visible:{configurable:!0,enumerable:!0,get:function(){return this.mVisible},set:function(a){this.mVisible!==a&&(this.mVisible=a,this.setRenderDirty())}},blendMode:{configurable:!0,enumerable:!0,get:function(){return this.mBlendMode},set:function(a){this.mBlendMode!==
a&&(this.mBlendMode=a,this.setRenderDirty())}},clipRect:{configurable:!0,enumerable:!0,get:function(){return this.mClipRect},set:function(a){this.mClipRect=a;this.setRenderDirty()}},snapToPixels:{configurable:!0,enumerable:!0,get:function(){return this.mSnapToPixels},set:function(a){this.mSnapToPixels=a}}});var rc=function(){var a=aa.call(this)||this;return r.camera=a};$jscomp.inherits(rc,aa);$jscomp.global.Object.defineProperties(rc.prototype,{worldTransformation:{configurable:!0,enumerable:!0,get:function(){var a=
aa.prototype.worldTransformation.clone();a.prepend(this.stage.worldTransformationInverted);return a}}});var ha=function(){var a=ka.call(this)||this;n.assert(null==a.constructor.instance,"Only single instance is allowed");r.input=a;a.mViewportPosition=new t;a.mPointerPosition=new t;a.mStagePosition=new t;a.mDom=null;a.mEventList=null;a.mKeyEventList=null;a.mBoundListeners=[];a.mPointerQueue=[];a.mKeyQueue=[];a.mPressedKeys=[];a.mIsPointerDown=!1;a.mInputListeners=new Map;a.mTarget=null;a.mTargetComponent=
null;a.mLockedTarget=null;a.mLastInTargetComponent=null;a.__initialize();return a};$jscomp.inherits(ha,ka);ha.prototype.__initialize=function(){this.mDom=r.engine.viewport.nativeElement;this.__initListeners()};ha.prototype.__initListeners=function(){var a=this;this.mKeyEventList=pd;var b=!1;window.PointerEvent?(this.mEventList=qd,b=!0):r.device.isTouch&&r.device.isMobile?this.mEventList=rd:(this.mEventList=sd,b=!0);for(var c=0;3>c;c++)this.mDom.addEventListener(this.mEventList[c],function(d){return a.__onPointerEvent(d)},
!1);c=function(d,e,f){var g=function(h){return f.call(a,h)};a.mBoundListeners.push({name:e,listener:g});d.addEventListener(e,g)};c(document,this.mEventList[0],this.__onPointerEventDoc);c(document,this.mEventList[2],this.__onPointerEventDoc);!0===b&&c(window,"wheel",this.__onPointerEventDoc);for(b=0;b<this.mKeyEventList.length;b++)c(document,this.mKeyEventList[b],this.__onKeyEvent)};ha.prototype.__onKeyEvent=function(a){if(!0===r.engine.isPaused)return!1;this.mKeyQueue.push(a);return!0};ha.prototype.__onPointerEventDoc=
function(a){if(!0!==r.engine.isPaused){for(var b=!1,c=a.target;c;){if(c===this.mDom){b=!0;break}c=c.parentElement}"wheel"===a.type?!0===b&&this.__pushEvent(a):!1===b&&!0===this.mIsPointerDown&&this.__pushEvent(a)}};ha.prototype.__onPointerEvent=function(a){if(!0===r.engine.isPaused)return!1;a.preventDefault();this.__pushEvent(a);return!0};ha.prototype.__pushEvent=function(a){var b=0===a.type.indexOf("touch")?this.__getTouchPos(this.mDom,a):this.__getPointerPos(this.mDom,a);this.mPointerQueue.push({e:a,
x:b.x,y:b.y})};ha.prototype.__getPointerPos=function(a,b){var c=a.getBoundingClientRect(),d=r.engine.viewport.rotation;return new t((0===d?a.clientWidth:a.clientHeight)/c.width*(b.clientX-c.left),(0===d?a.clientHeight:a.clientWidth)/c.height*(b.clientY-c.top))};ha.prototype.__getTouchPos=function(a,b){var c=a.getBoundingClientRect();b=b.changedTouches[0];var d=r.engine.viewport.rotation;return new t((0===d?a.clientWidth:a.clientHeight)/c.width*(b.clientX-c.left),(0===d?a.clientHeight:a.clientWidth)/
c.height*(b.clientY-c.top))};ha.prototype.onUpdate=function(){this.__updateKeyboard();for(var a=r.engine.viewport.size,b=r.engine.viewport.rotation,c=r.stage;0<this.mPointerQueue.length;){var d=this.mPointerQueue.shift(),e=d.x,f=d.y;1===b?(d.x=f,d.y=a.height-e):-1===b&&(d.x=a.width-f,d.y=e);this.mPointerPosition.x=d.x;this.mPointerPosition.y=d.y;this.mViewportPosition.copyFrom(this.mPointerPosition);null!==r.camera&&r.camera.worldTransformation.transformVector(this.mPointerPosition,this.mPointerPosition);
this.mStagePosition.copyFrom(this.mPointerPosition);c.worldTransformationInverted.transformVector(this.mStagePosition,this.mStagePosition);e=td[this.mEventList.indexOf(d.e.type)];this.__findTarget(this.mPointerPosition);this.__processNativeEvent(d,this.mPointerPosition,e)}};ha.prototype.__findTarget=function(a){a=r.stage.hitTest(a);null===a?this.mTargetComponent=this.mTarget=null:(this.mTarget=a,this.mTargetComponent=a.getComponent(Sa))};ha.prototype.__processNativeEvent=function(a,b,c){c===ha.POINTER_DOWN?
this.mIsPointerDown=!0:c===ha.POINTER_UP&&(this.mIsPointerDown=!1);var d=0;c===ha.WHEEL&&(d=0<a.e.deltaY?1:-1);a=new Zc(this.mTarget,b.x,b.y,a.e.button,d);this.post(c,a);if(null!==this.mTarget||null!==this.mLockedTarget){if(c===ha.POINTER_DOWN)this.mLockedTarget=this.mTarget;else if(c===ha.POINTER_UP&&null!==this.mLockedTarget){this.mLockedTarget.post("~pointerUp",a);this.mLockedTarget=null;return}b=this.mTarget===this.mLockedTarget;null===this.mLockedTarget?null!==this.mTarget&&this.mTarget.post("~"+
c,a):!0===b?this.mLockedTarget.post("~"+c,a):null!==this.mLockedTarget.mParent&&null!==this.mTarget&&this.mLockedTarget.mParent.post("~"+c,a)}};ha.prototype.__updateKeyboard=function(){for(;0<this.mKeyQueue.length;){var a=this.mKeyQueue.shift(),b=this.mKeyEventList.indexOf(a.type),c=this.mPressedKeys.indexOf(a.keyCode);b=ud[b];"keyUp"===b&&-1!==c?this.mPressedKeys.splice(c,1):"keyDown"===b&&-1===c&&(this.mPressedKeys.push(a.keyCode),b="keyPress");this.post(b,new Yc(a),a)}};ha.prototype.dispose=function(){for(ka.prototype.dispose.call(this);0<
this.mBoundListeners.length;){var a=this.mBoundListeners.pop();document.removeEventListener(a.name,a.listener)}r.input=null};$jscomp.global.Object.defineProperties(ha.prototype,{isPointerDown:{configurable:!0,enumerable:!0,get:function(){return this.mIsPointerDown}},pointerX:{configurable:!0,enumerable:!0,get:function(){return this.mPointerPosition.x}},pointerY:{configurable:!0,enumerable:!0,get:function(){return this.mPointerPosition.y}},stageX:{configurable:!0,enumerable:!0,get:function(){return this.mStagePosition.x}},
stageY:{configurable:!0,enumerable:!0,get:function(){return this.mStagePosition.y}},viewportPosition:{configurable:!0,enumerable:!0,get:function(){return this.mViewportPosition}},pointerPosition:{configurable:!0,enumerable:!0,get:function(){return this.mPointerPosition}},stagePosition:{configurable:!0,enumerable:!0,get:function(){return this.mStagePosition}},pressedKeys:{configurable:!0,enumerable:!0,get:function(){return this.mPressedKeys}}});$jscomp.global.Object.defineProperties(ha,{POINTER_DOWN:{configurable:!0,
enumerable:!0,get:function(){return"pointerDown"}},POINTER_MOVE:{configurable:!0,enumerable:!0,get:function(){return"pointerMove"}},POINTER_UP:{configurable:!0,enumerable:!0,get:function(){return"pointerUp"}},WHEEL:{configurable:!0,enumerable:!0,get:function(){return"wheel"}}});var pd=["keydown","keyup"],ud=["keyDown","keyUp","keyPress"],td="pointerMove pointerDown pointerUp pointerIn pointerOut wheel".split(" "),qd="pointermove pointerdown pointerup pointerenter pointerleave wheel".split(" "),sd=
"mousemove mousedown mouseup mouseenter mouseleave wheel".split(" "),rd=["touchmove","touchstart","touchend","touchenter","touchleave"],Zc=function(a,b,c,d,e){this.mActiveObject=a;this.mX=b;this.mY=c;this.mButton=d;this.mDelta=void 0===e?0:e};$jscomp.global.Object.defineProperties(Zc.prototype,{delta:{configurable:!0,enumerable:!0,get:function(){return this.mDelta}},button:{configurable:!0,enumerable:!0,get:function(){return this.mButton}},activeObject:{configurable:!0,enumerable:!0,get:function(){return this.mActiveObject}},
x:{configurable:!0,enumerable:!0,get:function(){return this.mX}},y:{configurable:!0,enumerable:!0,get:function(){return this.mY}}});var Da=function(){var a=B.call(this)||this;a.mName="stage";a.mScaleMode=eb.NORMAL;a.mWidth=960;a.mHeight=640;a.mStageWidth=0;a.mStageHeight=0;a.mStageScaleFactor=0;a.mCacheWidth=0;a.mCacheHeight=0;a.mDPR=r.device.getDevicePixelRatio();a.mAdded=!0;if(r.engine.hasSystem(ha)){var b=new Sa;b.mAdded=!0;a.addComponent(b)}return a};$jscomp.inherits(Da,B);Da.prototype.setSize=
function(a,b){this.mWidth=a;this.mHeight=b;this.__refresh()};Da.prototype.onUpdate=function(){var a=r.engine.viewport.size;if(this.mCacheWidth!==a.width||this.mCacheHeight!==a.height)this.mCacheWidth=a.width,this.mCacheHeight=a.height,this.__refresh()};Da.prototype.refresh=function(){this.__refresh()};Da.prototype.__refresh=function(){var a=r.engine.viewport.size,b=a.width;a=a.height;if(this.mScaleMode===eb.FIXED){var c=Math.max(b*this.mHeight/a/b,a*this.mWidth/b/a),d=b*c;c*=a;this.mStageWidth=d;
this.mStageHeight=c;this.mScaleX=this.mScaleY=this.mStageScaleFactor=Math.min(b/d,a/c)}else this.mScaleMode===eb.LETTERBOX||this.mScaleMode===eb.COVER?(d=this.mScaleMode===eb.COVER?Math.max(b/this.mWidth,a/this.mHeight):Math.min(b/this.mWidth,a/this.mHeight),this.mX=(b-this.mWidth*d)/2,this.mY=(a-this.mHeight*d)/2,this.mStageWidth=this.mWidth,this.mStageHeight=this.mHeight,this.mScaleX=this.mScaleY=this.mStageScaleFactor=d):this.mScaleMode===eb.NORMAL?(this.mStageWidth=b,this.mStageHeight=a,this.mScaleX=
this.mScaleY=this.mStageScaleFactor=1):this.mScaleMode===eb.NO_SCALE?(this.mStageWidth=b*this.mDPR,this.mStageHeight=a*this.mDPR,this.mScaleX=this.mScaleY=this.mStageScaleFactor=1/this.mDPR):n.error("Not supported stage scale mode.");this.mStageWidth=Math.round(this.mStageWidth);this.mStageHeight=Math.round(this.mStageHeight);this.mX=Math.round(this.mX);this.mY=Math.round(this.mY);r.driver.__onResize(null,null);this.setTransformDirty();this.mLocalTransform.set(this.mScaleX,0,0,this.mScaleY,this.mX,
this.mY);this.post(O.RESIZE)};Da.prototype.getBounds=function(a,b,c){c=c||new z;return c.set(-this.mX/this.mStageScaleFactor,-this.mY/this.mStageScaleFactor,this.mStageWidth+2*this.mX/this.mStageScaleFactor,this.mStageHeight+2*this.mY/this.mStageScaleFactor)};Da.prototype.onGetLocalBounds=function(a){a=a||new z;return a.set(0,0,this.mStageWidth,this.mStageHeight)};Da.prototype.removeFromParent=function(){n.error("Not allowed.")};$jscomp.global.Object.defineProperties(Da.prototype,{scaleMode:{configurable:!0,
enumerable:!0,get:function(){return this.mScaleMode},set:function(a){this.mScaleMode=a;this.__refresh()}},scaleFactor:{configurable:!0,enumerable:!0,get:function(){return this.mStageScaleFactor}},renderWidth:{configurable:!0,enumerable:!0,get:function(){return this.mStageWidth*this.mDPR*this.mStageScaleFactor}},renderHeight:{configurable:!0,enumerable:!0,get:function(){return this.mStageHeight*this.mDPR*this.mStageScaleFactor}},centerX:{configurable:!0,enumerable:!0,get:function(){return.5*this.mStageWidth}},
centerY:{configurable:!0,enumerable:!0,get:function(){return.5*this.mStageHeight}},localTransformation:{configurable:!0,enumerable:!0,get:function(){return this.mLocalTransform},set:function(a){n.error("Not allowed.")}},scaleX:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 1}},scaleY:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 1}},pivotOffsetX:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},
get:function(){return 0}},pivotOffsetY:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 0}},anchorX:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 0}},anchorY:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 0}},x:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return this.mX/this.mStageScaleFactor}},y:{configurable:!0,enumerable:!0,
set:function(a){n.error("Not allowed.")},get:function(){return this.mY/this.mStageScaleFactor}},rotation:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return 0}},width:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return this.mStageWidth}},height:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},get:function(){return this.mStageHeight}},name:{configurable:!0,enumerable:!0,set:function(a){n.error("Not allowed.")},
get:function(){return this.mName}}});var Ea=function(a,b,c,d){var e=Ca.call(this)||this;for(var f=[],g=[],h=0;4>h;h++)f.push(new t),g.push(new t);e.mRect=new z;e.mNormals=f;e.mVertices=g;e.mLocalMin=new t;e.mLocalMax=new t;e.mLocalCenter=new t;e.set(a,b,c,d);return e};$jscomp.inherits(Ea,Ca);Ea.prototype.set=function(a,b,c,d){this.mRect.set(a,b,c,d);this.mChanged=!0;return this};Ea.prototype.refresh=function(a,b){var c=this.mLocalMin,d=this.mLocalMax,e=this.mMin,f=this.mMax,g=this.mLocalCenter,h=
this.mCenter;if(this.mChanged){var k=this.mVertices,p=this.mNormals,q=this.mRect,m=t.pool.get();a.transformVector(m.set(0,-1),p[0]);a.transformVector(m.set(1,0),p[1]);a.transformVector(m.set(0,1),p[2]);a.transformVector(m.set(-1,0),p[3]);for(var u=0;4>u;u++)p[u].normalize();a.transformVector(m.set(q.x,q.y),k[0]);a.transformVector(m.set(q.x+q.width,q.y),k[1]);a.transformVector(m.set(q.x+q.width,q.y+q.height),k[2]);a.transformVector(m.set(q.x,q.y+q.height),k[3]);g.set((k[0].x+k[2].x)/2,(k[0].y+k[2].y)/
2);c.x=Math.min(k[0].x,k[1].x,k[2].x,k[3].x);c.y=Math.min(k[0].y,k[1].y,k[2].y,k[3].y);d.x=Math.max(k[0].x,k[1].x,k[2].x,k[3].x);d.y=Math.max(k[0].y,k[1].y,k[2].y,k[3].y);t.pool.release(m)}e.x=c.x+b.x;e.y=c.y+b.y;f.x=d.x+b.x;f.y=d.y+b.y;h.x=g.x+b.x;h.y=g.y+b.y};Ea.prototype.containsPoint=function(a){return this.mRect.containsXY(a.x,a.y)};var Ib=function(a,b,c){var d=Ca.call(this)||this;d.mCircle=new ja(a,b,c);d.mLocalCenter=new t;d.mLocalMin=new t;d.mLocalMax=new t;d.mRadius=0;d.set(a,b,c);return d};
$jscomp.inherits(Ib,Ca);Ib.prototype.set=function(a,b,c){this.mCircle.set(a,b,c);this.mChanged=!0;return this};Ib.prototype.refresh=function(a,b){var c=this.mLocalMin,d=this.mLocalMax,e=this.mMin,f=this.mMax,g=this.mLocalCenter,h=this.mCenter;if(this.mChanged){var k=this.mCircle,p=k.r*Math.sqrt(a.data[0]*a.data[0]+a.data[1]*a.data[1]);a.transformXY(k.x,k.y,g);this.mRadius=p;c.x=g.x-p;c.y=g.y-p;d.x=g.x+p;d.y=g.y+p}e.x=c.x+b.x;e.y=c.y+b.y;f.x=d.x+b.x;f.y=d.y+b.y;h.x=g.x+b.x;h.y=g.y+b.y};Ib.prototype.containsPoint=
function(a){if(null===this.gameObject)return!1;var b=this.mCircle,c=t.pool.get();a=c.set(b.x,b.y).distance(a);t.pool.release(c);return a<=b.r};var fb=function(a,b,c){b=new db(a*c,b*c);a=da.call(this,b.native)||this;a.set(b.native,null,null,1/c);a.renderTarget=b;return a};$jscomp.inherits(fb,da);fb.prototype.resize=function(a,b,c){this.renderTarget.resize(a*c,b*c);this.set(this.renderTarget.native,null,null,1/c)};fb.prototype.__dumpToDocument=function(){var a=new Image;a.style.position="fixed";a.style.top=
"0px";a.style.left="0px";a.style.background="#333";a.style.width="256px";a.style.height="auto";a.src=this.mNative.toDataURL("image/png");document.body.appendChild(a)};var Fa=function(a,b,c){c=void 0===c?1:c;a=da.call(this,a,null,null,c)||this;a.mSubTextures={};a.__parseAtlasData(b,c);return a};$jscomp.inherits(Fa,da);Fa.prototype.__parseAtlasData=function(a,b){for(var c in a.frames){var d=a.frames[c],e=new z(d[0],d[1],d[2],d[3]),f=new z(d[4],d[5],d[6],d[7]),g=null,h=null;10===d.length?g=new t(d[8],
d[9]):12===d.length?h=new z(d[8],d[9],d[10],d[11]):14===d.length&&(g=new t(d[8],d[9]),h=new z(d[10],d[11],d[12],d[13]));this.mSubTextures[c]=new da(this.native,e,f,b,g,h)}};Fa.prototype.getTexture=function(a){var b=this.mSubTextures[a];n.assertWarn(void 0!==b,"Texture '"+a+"' was not found");return b};Fa.prototype.getTextures=function(a,b){a=void 0===a?null:a;b=(void 0===b?null:b)||[];if(null===a){for(var c in this.mSubTextures)b.push(this.mSubTextures[c]);return b}c=[];a=new RegExp("^"+a.split("*").join(".*")+
"$");for(var d in this.mSubTextures)a.test(d)&&c.push(d);Fa.naturalSort(c);for(d=0;d<c.length;d++)b.push(this.mSubTextures[c[d]]);return b};Fa.naturalSort=function(a,b){a.sort(Fa.__naturalComparer(void 0===b?null:b))};Fa.__naturalComparer=function(a,b){a=void 0===a?null:a;b=void 0===b?!0:b;return function(c,d){var e=/(-?\d*\.?\d+)/g;c=String(null==a?c:c[a]).split(e);d=String(null==a?d:d[a]).split(e);e=Math.min(c.length,d.length);for(var f=0;f<e;f++){if(b){var g=Math.abs(parseFloat(c[f]))||c[f].toLowerCase();
var h=Math.abs(parseFloat(d[f]))||d[f].toLowerCase()}else g=parseFloat(c[f])||c[f].toLowerCase(),h=parseFloat(d[f])||d[f].toLowerCase();if(g<h)return-1;if(g>h)return 1}return 0}};$jscomp.global.Object.defineProperties(Fa.prototype,{subTextures:{configurable:!0,enumerable:!0,get:function(){return this.mSubTextures}}});var J={TEXTURE:"texture",TEXTURE_ATLAS:"textureAtlas",VECTOR_TEXTURE:"vectorTexture",VECTOR_TEXTURE_ATLAS:"vectorTextureAtlas",FONT:"font",BITMAP_FONT:"bitmapFont",XML:"xml",JSON:"json",
VECTOR_GRAPHICS:"vectorGraphics",SOUND:"sound",SOUND_ATLAS:"soundAtlas"},qa={FONT_FACE:"fontFace",IMAGE:"image",XHR:"xhr"},wa=function(a){var b=M.call(this)||this;b.mUrl=a;b.mData=null;b.mIsLoaded=!1;b.mNumOwners=0;return b};$jscomp.inherits(wa,M);wa.prototype.load=function(){};wa.prototype.abort=function(){if(!(1<this.mNumOwners))this.onAbort()};wa.prototype.onAbort=function(){};wa.prototype.onLoad=function(){this.mIsLoaded=!0;this.post(O.COMPLETE)};wa.prototype.onError=function(){this.mIsLoaded=
!1;this.post(O.ERROR)};$jscomp.global.Object.defineProperties(wa.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this.mData}},url:{configurable:!0,enumerable:!0,get:function(){return this.mUrl}}});var Jb=function(a){a=wa.call(this,a)||this;a.mImageElement=new Image;a.mImageElement.crossOrigin="anonymous";return a};$jscomp.inherits(Jb,wa);Jb.prototype.load=function(){var a=this;this.mData=this.mImageElement;this.mImageElement.onload=function(){return a.onLoad()};this.mImageElement.onerror=
function(){return a.onError()};this.mImageElement.src=this.mUrl};Jb.prototype.onAbort=function(){this.mImageElement.onload=this.mImageElement.onabort=this.mImageElement.onerror=function(){};this.mImageElement.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAIAAACQd1PeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYmBgAAgwAAAMAAMjcmNcAAAAAElFTkSuQmCC"};var Kb=function(a){a=wa.call(this,a)||this;a.mRequest=new XMLHttpRequest;a.mimeType=void 0;a.responseType="";return a};
$jscomp.inherits(Kb,wa);Kb.prototype.load=function(){var a=this;this.mRequest.open("GET",this.mUrl,!0);""!=this.responseType&&(this.mRequest.responseType=this.responseType);void 0!=this.mRequest.overrideMimeType&&this.mimeType&&this.mRequest.overrideMimeType(this.mimeType);this.mRequest.onreadystatechange=function(){if(4===a.mRequest.readyState)if(200===a.mRequest.status||0===a.mRequest.status&&a.mRequest.responseText)a.mData=""===a.responseType||"text"===a.responseType?a.mRequest.responseText:a.mRequest.response,
a.onLoad();else a.onError()};this.mRequest.send(null)};Kb.prototype.onAbort=function(){this.mRequest.abort()};var gb=function(a,b,c){b=wa.call(this,b)||this;b.mName=a;b.mTestingFontName="Courier New";b.mIsLocal=c;b.mTestingString="~ GHBDTN,.#$Mlck";b.mCheckDelay=50;b.mTestingElement=b.__getTestingElement();b.metrics=null;b.mLoaderElement=b.__getLoaderElement(b.mIsLocal);b.mTestingElement.style.fontFamily=b.mTestingFontName;b.mDefaultFontWidth=b.mTestingElement.offsetWidth;b.mTestingElement.style.fontFamily=
'"'+a+'",'+b.mTestingFontName;b.mTimeoutHandle=-1;return b};$jscomp.inherits(gb,wa);gb.prototype.load=function(){this.mIsLocal?this.mLoaderElement.innerHTML+='\n @font-face {font-family: "'+this.mName+'"; src: url('+this.mUrl+");}":this.mLoaderElement.href=this.mUrl;this.__checkLoadingStatus()};gb.prototype.onAbort=function(){clearTimeout(this.mTimeoutHandle);this.mTestingElement.parentNode.removeChild(this.mTestingElement)};gb.prototype.__getLoaderElement=function(a){var b=this;a=document.createElement(a?
"style":"link");a.type="text/css";a.media="all";a.rel="stylesheet";a.onerror=function(){b.onError()};document.getElementsByTagName("head")[0].appendChild(a);return a};gb.prototype.__getTestingElement=function(){var a=document.createElement("span");a.style.position="absolute";a.style.top="-9999px";a.style.left="-9999px";a.style.visibility="hidden";a.style.fontSize="250px";a.innerHTML=this.mTestingString;document.body.appendChild(a);return a};gb.prototype.__checkLoadingStatus=function(){this.mDefaultFontWidth===
this.mTestingElement.offsetWidth?this.mTimeoutHandle=setTimeout(this.__checkLoadingStatus.bind(this),this.mCheckDelay):(this.metrics=Aa.get(this.mName),this.mTestingElement.parentNode.removeChild(this.mTestingElement),this.onLoad())};var N=function(a,b){var c=M.call(this)||this;c.mType=a;c.mName=b;c.mData=null;c.mLoaders=[];c.mNumLoaded=0;c.mIsReady=!1;c.mBindings=[];return c};$jscomp.inherits(N,M);N.prototype.addLoader=function(a){this.mLoaders.push(a);a.mNumOwners++;this.mBindings.push(a.on(O.COMPLETE,
this.__onLoaderComplete,this));this.mBindings.push(a.on(O.ERROR,this.__onLoaderError,this));return a};N.prototype.onLoaderRequested=function(a){};N.prototype.__onLoaderComplete=function(a){this.mNumLoaded++;this.mNumLoaded===this.mLoaders.length&&(this.mBindings.forEach(function(b){return b.off()}),this.onAllLoaded())};N.prototype.__onLoaderError=function(a){this.abort();this.post(O.ERROR)};N.prototype.onAllLoaded=function(){};N.prototype.abort=function(){this.mNumLoaded=0;this.mBindings.forEach(function(b){return b.off()});
for(var a=0;a<this.mLoaders.length;a++)this.mLoaders[a].abort()};N.prototype.ready=function(a){this.mData=a;this.mIsReady=!0;this.post(O.COMPLETE)};$jscomp.global.Object.defineProperties(N.prototype,{type:{configurable:!0,enumerable:!0,get:function(){return this.mType}},name:{configurable:!0,enumerable:!0,get:function(){return this.mName}},data:{configurable:!0,enumerable:!0,get:function(){return this.mData}},isReady:{configurable:!0,enumerable:!0,get:function(){return this.mIsReady}},loaders:{configurable:!0,
enumerable:!0,get:function(){return this.mLoaders}}});var Lb=function(a,b){a=N.call(this,J.TEXTURE,a)||this;a.mUrl=b;a.mScale=1/da.getScaleFactorFromName(b);a.mImageLoader=null;return a};$jscomp.inherits(Lb,N);Lb.prototype.onLoaderRequested=function(a){this.mImageLoader=a.get(qa.IMAGE,this.mUrl);this.addLoader(this.mImageLoader)};Lb.prototype.onAllLoaded=function(){N.prototype.ready.call(this,new da(this.mImageLoader.data,null,null,this.mScale))};var Mb=function(a,b){a=N.call(this,J.JSON,a)||this;
a.mUrl=b;a.mXHR=null;return a};$jscomp.inherits(Mb,N);Mb.prototype.onLoaderRequested=function(a){this.mXHR=a.get(qa.XHR,this.mUrl);this.mXHR.mimeType="application/json";this.mXHR.responseType="json";this.addLoader(this.mXHR)};Mb.prototype.onAllLoaded=function(){N.prototype.ready.call(this,this.mXHR.data)};var Nb=function(a,b){a=N.call(this,J.XML,a)||this;a.mUrl=b;a.mXHR=null;return a};$jscomp.inherits(Nb,N);Nb.prototype.onLoaderRequested=function(a){this.mXHR=a.get(qa.XHR,this.mUrl);this.mXHR.mimeType=
"text/xml";this.addLoader(this.mXHR)};Nb.prototype.onAllLoaded=function(){N.prototype.ready.call(this,(new DOMParser).parseFromString(this.mXHR.data,"text/xml"))};var Ob=function(a,b,c){var d=N.call(this,J.FONT,a)||this;!1===c&&(b="https://fonts.googleapis.com/css?family="+a.replace(/ /g,"+"));d.mUrl=b;d.mIsLocal=c;return d};$jscomp.inherits(Ob,N);Ob.prototype.onLoaderRequested=function(a){a=a.get(qa.FONT_FACE,this.mName,this.mUrl,this.mIsLocal);this.addLoader(a)};Ob.prototype.onAllLoaded=function(){N.prototype.ready.call(this)};
var Pb=function(a,b,c){a=N.call(this,J.TEXTURE_ATLAS,a)||this;a.mImageUrl=b;a.mDataUrl=c;a.mScale=1/da.getScaleFactorFromName(b);a.mImageLoader=null;a.mXHR=null;return a};$jscomp.inherits(Pb,N);Pb.prototype.onLoaderRequested=function(a){this.mImageLoader=a.get(qa.IMAGE,this.mImageUrl);this.addLoader(this.mImageLoader);this.mXHR=a.get(qa.XHR,this.mDataUrl);this.mXHR.mimeType="application/json";this.mXHR.responseType="json";this.addLoader(this.mXHR)};Pb.prototype.onAllLoaded=function(){N.prototype.ready.call(this,
new Fa(this.mImageLoader.data,this.mXHR.data,this.mScale))};var mb=function(a,b,c){a=N.call(this,J.BITMAP_FONT,a)||this;a.mImageUrl=b;a.mXmlUrl=c;a.mScale=1/da.getScaleFactorFromName(b);a.mImageLoader=null;a.mXHR=null;return a};$jscomp.inherits(mb,N);mb.prototype.onLoaderRequested=function(a){this.mImageLoader=a.get(qa.IMAGE,this.mImageUrl);this.addLoader(this.mImageLoader);this.mXHR=a.get(qa.XHR,this.mXmlUrl);this.mXHR.mimeType="text/xml";this.addLoader(this.mXHR)};mb.prototype.onAllLoaded=function(){var a=
(new DOMParser).parseFromString(this.mXHR.data,"text/xml"),b=new da(this.mImageLoader.data,null,null,this.mScale);N.prototype.ready.call(this,mb.parse(a,b))};mb.parse=function(a,b){var c=new $c;c.texture=b;c.xml=a;var d=a.getElementsByTagName("info")[0],e=a.getElementsByTagName("common")[0];c.name=d.getAttribute("face");c.size=parseInt(d.getAttribute("size"),10);c.lineHeight=parseInt(e.getAttribute("lineHeight"),10);c.baseline=parseInt(e.getAttribute("base"),10);c.chars={};d=a.getElementsByTagName("char");
for(e=0;e<d.length;e++){var f=d[e],g=parseInt(f.getAttribute("id"),10),h=parseInt(f.getAttribute("x"),10)+b.region.x,k=parseInt(f.getAttribute("y"),10)+b.region.y,p=parseInt(f.getAttribute("width"),10),q=parseInt(f.getAttribute("height"),10),m=parseInt(f.getAttribute("xoffset"),10),u=parseInt(f.getAttribute("yoffset"),10);f=parseInt(f.getAttribute("xadvance"),10);h=new z(h,k,p,q);k=new ad;k.texture=new da(b.native,h);k.xOffset=m;k.yOffset=u;k.width=p;k.height=q;k.xAdvance=f;c.chars[g]=k}a=a.getElementsByTagName("kerning");
for(b=0;b<a.length;b++)g=a[b],d=parseInt(g.getAttribute("first"),10),e=parseInt(g.getAttribute("second"),10),g=parseInt(g.getAttribute("amount"),10),c.chars[e]&&(c.chars[e].kerning[d]=g);return c};var $c=function(){this.xml=this.texture=null;this.name="";this.lineHeight=this.size=0;this.chars={};this.baseline=0},ad=function(){this.texture=null;this.xAdvance=this.height=this.width=this.yOffset=this.xOffset=0;this.kerning={}},ra={NEWBORN:"newborn",PLAYING:"playing",PAUSED:"paused",STOPPED:"stopped",
COMPLETED:"completed"},Ja=function(){this.mOutputNode=this.mInputNode=null};$jscomp.global.Object.defineProperties(Ja.prototype,{_inputNode:{configurable:!0,enumerable:!0,get:function(){n.assert(null!=this.mInputNode,"Input node must be specified in descendant class");return this.mInputNode}},_outputNode:{configurable:!0,enumerable:!0,get:function(){n.assert(null!=this.mOutputNode,"Output node must be specified in descendant class");return this.mOutputNode}}});var $b=function(){var a=Ja.call(this)||
this;a.mGainL=r.audio._newGainNode();a.mGainR=r.audio._newGainNode();a.mSplitter=r.audio.context.createChannelSplitter(2);a.mMerger=r.audio.context.createChannelMerger(2);a.mSplitter.connect(a.mGainL,0);a.mSplitter.connect(a.mGainR,1);a.mGainL.connect(a.mMerger,0,0);a.mGainR.connect(a.mMerger,0,1);a.mValue=0;a.mInputNode=a.mSplitter;a.mOutputNode=a.mMerger;return a};$jscomp.inherits($b,Ja);$jscomp.global.Object.defineProperties($b.prototype,{pan:{configurable:!0,enumerable:!0,set:function(a){this.mValue=
w.clamp(a,-1,1);this.mGainL.gain.setValueAtTime(1-w.clamp(this.mValue,0,1),0);this.mGainR.gain.setValueAtTime(1+w.clamp(this.mValue,-1,0),0)},get:function(){return this.mValue}}});var vd=0,ua=function(a){var b=M.call(this)||this;b.mId=++vd;b.mSound=a;b.mState=ra.NEWBORN;b.mChannel="master";b.mVolume=1;b.mLoop=!1;b.mStartTime=0;b.mPausePosition=0;b.mStopPosition=0;b.mSrc=null;b.mGainNode=r.audio._newGainNode();b.mFirstNode=b.mGainNode;b.mPlayNode=null;b.mSpatialPanner=null;b.mStereoPanner=null;b.mAnalyser=
null;return b};$jscomp.inherits(ua,M);ua.prototype.enableSpacePan=function(){null==this.mSpatialPanner&&(this.mSpatialPanner=r.audio.context.createPanner(),this.mFirstNode&&(this.mSpatialPanner.connect(this.mFirstNode),this.mFirstNode=this.mSpatialPanner),this.__reconnectSource());return this.mSpatialPanner};ua.prototype.enableStereoPan=function(){null==this.mStereoPanner&&(this.mStereoPanner=new $b,this.mFirstNode&&(this.mStereoPanner._outputNode.connect(this.mFirstNode),this.mFirstNode=this.mStereoPanner._inputNode),
this.__reconnectSource());return this.mStereoPanner};ua.prototype.enableAnalyser=function(){null==this.mAnalyser&&(this.mAnalyser=r.audio.context.createAnalyser(),this.mFirstNode&&(this.mAnalyser.connect(this.mFirstNode),this.mFirstNode=this.mAnalyser),this.__reconnectSource());return this.mAnalyser};ua.prototype.__reconnectSource=function(){null!=this.mSrc&&null!=this.mPlayNode&&null!=this.mFirstNode&&(this.mSrc.disconnect(this.mPlayNode),this.mSrc.connect(this.mFirstNode),this.mPlayNode=this.mFirstNode)};
ua.prototype._play=function(){var a=this;if(this.mState===ra.PLAYING)return this;this.mState=ra.PLAYING;var b=this.mSound.isSubClip&&!this.mLoop?this.mSound.duration-this.mPausePosition:void 0;this.mGainNode.gain.setValueAtTime(this.mVolume,0);var c=r.audio.context.createBufferSource();c.buffer=this.mSound.native;c.loop=this.mLoop;c.onended=function(){return a.__onComplete()};this.mFirstNode&&c.connect(this.mFirstNode);this.mPlayNode=this.mFirstNode;this.mStartTime=r.audio.context.currentTime-this.mPausePosition;
this.mLoop&&this.mSound.isSubClip&&(c.loopStart=this.mSound.offset,c.loopEnd=this.mSound.offset+this.mSound.duration);c.start(r.audio.context.currentTime,this.mSound.offset+this.mPausePosition,b);r.audio._resolveChannel(this);this.mSrc=c;return this};ua.prototype.stop=function(a){a=void 0===a?0:a;this.mState===ra.PLAYING&&(this.mStopPosition=this.currentPosition,this.mGainNode.gain.cancelScheduledValues(0),this.mSrc.stop(r.audio.context.currentTime+a),this.mState=ra.STOPPED)};ua.prototype.pause=function(){this.mState===
ra.PLAYING&&(this.mPausePosition=this.currentPosition,this.stop(),this.mState=ra.PAUSED)};ua.prototype.resume=function(){this.mState===ra.PAUSED&&this._play()};ua.prototype.fade=function(a,b,c,d){c=void 0===c?0:c;d=void 0===d?"linear":d;0>=c?this.mGainNode.gain.setValueAtTime(b,0):(this.mGainNode.gain.setValueAtTime(a,0),"exp"===d?this.mGainNode.gain.exponentialRampToValueAtTime(Math.max(b,.01),r.audio.context.currentTime+c):this.mGainNode.gain.linearRampToValueAtTime(b,r.audio.context.currentTime+
c))};ua.prototype.__onComplete=function(){this.mSrc=null;this.mState!==ra.PAUSED&&(this.mStartTime=0,this.mState=ra.COMPLETED,this.post(O.COMPLETE))};$jscomp.global.Object.defineProperties(ua.prototype,{currentPosition:{configurable:!0,enumerable:!0,get:function(){switch(this.mState){case ra.PLAYING:return(r.audio.context.currentTime-this.mStartTime)%(this.mSound.duration+.01);case ra.PAUSED:return this.mPausePosition;case ra.COMPLETED:return this.mSound.duration;case ra.STOPPED:return this.mStopPosition}return 0}},
_outputNode:{configurable:!0,enumerable:!0,get:function(){return this.mGainNode}},channel:{configurable:!0,enumerable:!0,get:function(){return this.mChannel},set:function(a){this.mChannel!==a&&(this.mChannel=a,this.mState===ra.PLAYING&&r.audio._resolveChannel(this))}},volume:{configurable:!0,enumerable:!0,get:function(){return this.mVolume},set:function(a){this.mVolume=a;this.mGainNode.gain.setValueAtTime(this.mVolume,0)}},loop:{configurable:!0,enumerable:!0,get:function(){return this.mLoop},set:function(a){this.mLoop=
a}},pan:{configurable:!0,enumerable:!0,get:function(){return this.mStereoPanner.pan},set:function(a){0!==a&&null==this.mStereoPanner&&this.enableStereoPan();this.mStereoPanner&&(this.mStereoPanner.pan=a)}},isPlaying:{configurable:!0,enumerable:!0,get:function(){return this.mState===ra.PLAYING}},duration:{configurable:!0,enumerable:!0,get:function(){return this.mSound.duration}}});var Ba=function(a){this.mName=a;this.mGain=r.audio._newGainNode();this.mSounds=[];this.mEffects=[]};Ba.prototype.attachSound=
function(a){var b=this;n.assert(null!=a,"Sound cannot be null");a._outputNode.connect(this._inputNode);this.mSounds.push(a);a.on(O.COMPLETE,function(){b.mSounds.splice(b.mSounds.indexOf(a),1);a._outputNode.disconnect(0)})};Ba.prototype.detachSound=function(a){n.assert(null!=a,"Sound cannot be null");var b=this.mSounds.indexOf(a);-1<b&&(this.mSounds.splice(b,1),a._outputNode.disconnect(0))};Ba.prototype.stopAll=function(){for(var a=this.mSounds[0];this.mSounds.length;a=this.mSounds.shift())a.stop()};
Ba.prototype.pauseAll=function(){for(var a=0;a<this.mSounds.length;a++)this.mSounds[a].pause()};Ba.prototype.resumeAll=function(){for(var a=0;a<this.mSounds.length;a++)this.mSounds[a].resume()};Ba.prototype.addEffect=function(a){n.assert(null!=a,"Effect cannot be null");a._outputNode.connect(this._inputNode);this.mEffects.unshift(a);this.__reconnectSounds();return a};Ba.prototype.removeEffect=function(a){n.assert(null!=a,"Effect cannot be null");a._outputNode.disconnect(0);this.mEffects.splice(this.mEffects.indexOf(a),
1);this.__reconnectSounds();return a};Ba.prototype.removeAllEffects=function(){for(;this.mEffects.length;this.mEffects.shift())this.mEffects[0]._outputNode.disconnect(0);this.__reconnectSounds()};Ba.prototype.__reconnectSounds=function(){var a=this;this.mSounds.forEach(function(b){b._outputNode.disconnect(0);b._outputNode.connect(a._inputNode)})};$jscomp.global.Object.defineProperties(Ba.prototype,{volume:{configurable:!0,enumerable:!0,set:function(a){this.mGain.gain.setValueAtTime(a,0)},get:function(){return this.mGain.gain.value}},
_inputNode:{configurable:!0,enumerable:!0,get:function(){return this.mEffects.length?this.mEffects[0]._inputNode:this.mGain}},_outputNode:{configurable:!0,enumerable:!0,get:function(){return this.mGain}}});var ma=function(){var a=ka.call(this)||this;r.audio=a;a.mContext=null;a.mCurrentListener=null;a.mChannels={};a.mMasterChannel=null;a.mIsPendingResume=!1;a.mPendingResume=0;a.mResumeTimeout=.1;a.__initialize();return a};$jscomp.inherits(ma,ka);ma.prototype.onPause=function(){null!==this.mContext&&
("running"===this.mContext.state&&this.mContext.suspend(),this.mIsPendingResume=!1)};ma.prototype.onResume=function(){this.mPendingResume=this.mResumeTimeout;this.mIsPendingResume=!0};ma.prototype.onUpdate=function(){this.mIsPendingResume&&(this.mPendingResume-=r.time.delta,0>=this.mPendingResume&&null!==this.mContext&&("suspended"===this.mContext.state||"interrupted"===this.mContext.state)&&(this.mContext.resume(),this.mIsPendingResume=!1))};ma.prototype.__initialize=function(){try{this.mContext=
new (window.AudioContext||window.webkitAudioContext)}catch(a){if(null==this.mContext){n.warn("no audio support");return}}this.__unlock();this.mMasterChannel=new Ba("master");this.mMasterChannel._outputNode.connect(this.mContext.destination);this.mChannels.master=this.mMasterChannel};ma.prototype.dispose=function(){ka.prototype.dispose.call(this);null!==this.mContext&&(this.stopAll(),this.mContext.close());this.mIsPendingResume=!1;r.audio=null};ma.prototype.__unlock=function(){var a=this,b=function(){var c=
a.mContext.createBuffer(1,1,22050),d=a.mContext.createBufferSource();d.buffer=c;d.connect(a.mContext.destination);void 0===d.start?d.noteOn(0):d.start(0);"suspended"===d.context.state&&d.context.resume();document.removeEventListener("touchstart",b);document.removeEventListener("click",b)};document.addEventListener("touchstart",b);document.addEventListener("click",b)};ma.prototype.createChannel=function(a){if(null==this.mChannels[a]){var b=new Ba(a);b._outputNode.connect(this.mMasterChannel._inputNode);
this.mChannels[a]=b}return this.mChannels[a]};ma.prototype.getChannel=function(a){return this.mChannels[a]};ma.prototype._resolveChannel=function(a){for(var b in this.mChannels)this.mChannels[b].detachSound(a);b=this.mChannels[""==a.channel?"master":a.channel];b.attachSound(a);return b};ma.prototype.play=function(a,b,c,d,e){b=void 0===b?"master":b;c=void 0===c?1:c;d=void 0===d?!1:d;e=void 0===e?0:e;n.assert(null!=a,"Param 'nameOrSound' cannot be null.");var f=null;a.constructor===String&&(f=r.assets.getSound(a));
return f.play(b,c,d,e)};ma.prototype.stopAll=function(a){a=void 0===a?null:a;if(null===a)for(var b in this.mChannels)this.mChannels[b].stopAll();else this.getChannel(a).stopAll()};ma.prototype.pauseAll=function(a){a=void 0===a?null:a;if(null===a)for(var b in this.mChannels)this.mChannels[b].pauseAll();else this.getChannel(a).pauseAll()};ma.prototype.resumeAll=function(a){a=void 0===a?null:a;if(null===a)for(var b in this.mChannels)this.mChannels[b].resumeAll();else this.getChannel(a).resumeAll()};
ma.prototype.looseListener=function(){this.mContext.listener.setPosition(0,0,1);this.mCurrentListener=null};ma.prototype._newGainNode=function(){return void 0===this.mContext.createGain?this.mContext.createGainNode():this.mContext.createGain()};$jscomp.global.Object.defineProperties(ma.prototype,{masterVolume:{configurable:!0,enumerable:!0,set:function(a){this.mMasterChannel.volume=a},get:function(){return this.mMasterChannel.volume}},context:{configurable:!0,enumerable:!0,get:function(){return this.mContext}},
masterChannel:{configurable:!0,enumerable:!0,get:function(){return this.mMasterChannel}},currentListener:{configurable:!0,enumerable:!0,set:function(a){this.mCurrentListener=a},get:function(){return this.mCurrentListener}},resumeTimeout:{configurable:!0,enumerable:!0,get:function(){return this.mResumeTimeout},set:function(a){this.mResumeTimeout=a}}});var Ta=function(a,b,c,d){c=void 0===c?NaN:c;this.mNativeBuffer=a;this.mStartOffset=void 0===b?0:b;this.mDuration=c||a.duration;this.mIsSubClip=void 0===
d?!1:d};Ta.prototype.play=function(a,b,c,d){a=void 0===a?"master":a;b=void 0===b?1:b;c=void 0===c?!1:c;d=void 0===d?0:d;var e=new ua(this);e.channel=a;e.volume=b;e.loop=c;e.pan=d;return e._play()};Ta.prototype.collectWaveData=function(a){for(var b=[],c=0;c<this.mNativeBuffer.numberOfChannels;c++)b[c]=this.mNativeBuffer.getChannelData(c);var d=this.mDuration/this.mNativeBuffer.duration,e=~~(this.mStartOffset/this.mNativeBuffer.duration*b[0].length);c=e+~~(b[0].length*d);var f=new Float32Array(a);a=
~~(b[0].length*d/a);d=[];for(var g=0;e<c;e++)if(d.push(this.__averagePeak(b,e)),d.length>=a){var h=Math.max.apply(Math,$jscomp.arrayFromIterable(d));d=Math.min.apply(Math,$jscomp.arrayFromIterable(d));f[g++]=(h+d)/2;d=[]}return f};Ta.prototype.__averagePeak=function(a,b){var c=0;a.forEach(function(d){return c+=Math.abs(d[b])});return c/a.length};$jscomp.global.Object.defineProperties(Ta.prototype,{native:{configurable:!0,enumerable:!0,get:function(){return this.mNativeBuffer}},offset:{configurable:!0,
enumerable:!0,get:function(){return this.mStartOffset}},duration:{configurable:!0,enumerable:!0,get:function(){return this.mDuration}},isSubClip:{configurable:!0,enumerable:!0,get:function(){return this.mIsSubClip}}});var Qb=function(a,b){a=N.call(this,J.SOUND,a)||this;if(!1===r.device.webAudioSupported)return a;if(!1===r.engine.hasSystem(ma))return n.warn("[SoundAsset] Loading sound files without MasterAudio system."),a;a.mUrl=b;a.mXHR=null;return a};$jscomp.inherits(Qb,N);Qb.prototype.onLoaderRequested=
function(a){this.mXHR=a.get(qa.XHR,this.mUrl);this.mXHR.responseType="arraybuffer";this.addLoader(this.mXHR)};Qb.prototype.onAllLoaded=function(){var a=this;r.audio.context.decodeAudioData(this.mXHR.data,function(b){N.prototype.ready.call(a,new Ta(b))})};var nb=function(a,b){a=Ta.call(this,a)||this;a.mClips={};if(null!==b)for(var c in b.sounds)a.addSubSound(c,b.sounds[c][0],b.sounds[c][1]);return a};$jscomp.inherits(nb,Ta);nb.prototype.addSubSound=function(a,b,c){c=void 0===c?NaN:c;this.mClips[a]=
new Ta(this.native,void 0===b?0:b,c,!0);return this.mClips[a]};nb.prototype.removeSubSound=function(a){delete this.mClips[a]};nb.prototype.playSubSound=function(a,b,c,d,e){b=void 0===b?"master":b;c=void 0===c?1:c;d=void 0===d?!1:d;e=void 0===e?0:e;a=this.mClips[a];if(null==a)return null;a=new ua(a);a.channel=b;a.volume=c;a.loop=d;a.pan=e;return a._play()};$jscomp.global.Object.defineProperties(nb.prototype,{subSounds:{configurable:!0,enumerable:!0,get:function(){return this.mClips}}});var Rb=function(a,
b,c){a=N.call(this,J.SOUND_ATLAS,a)||this;a.mSoundUrl=b;a.mDataUrl=c;if(!1===r.device.webAudioSupported)return a;if(!1===r.engine.hasSystem(ma))return n.warn("[SoundAsset] Loading sound files without MasterAudio system."),a;a.mAudioXHR=null;a.mDataXHR=null;return a};$jscomp.inherits(Rb,N);Rb.prototype.onLoaderRequested=function(a){this.mAudioXHR=a.get(qa.XHR,this.mSoundUrl);this.mAudioXHR.responseType="arraybuffer";this.addLoader(this.mAudioXHR);this.mDataXHR=a.get(qa.XHR,this.mDataUrl);this.mDataXHR.mimeType=
"application/json";this.mDataXHR.responseType="json";this.addLoader(this.mDataXHR)};Rb.prototype.onAllLoaded=function(){var a=this;r.audio.context.decodeAudioData(this.mAudioXHR.data,function(b){N.prototype.ready.call(a,new nb(b,a.mDataXHR.data))})};var I={LINE_STYLE:"lineStyle",FILL_STYLE:"fillStyle",ARC:"arc",RECT:"rect",ROUNDED_RECT:"roundedRect",BEZIER_CURVE_TO:"bezierCurveTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEGIN_PATH:"beginPath",CLOSE_PATH:"closePath",FILL:"fill",LINE_TO:"lineTo",MOVE_TO:"moveTo",
STROKE:"stroke",BOUNDS:"bounds",SHADOW_COLOR:"shadowColor",SHADOW_BLUR:"shadowBlur",LINE_DASH:"setLineDash",FILL_GRD:"gradientFillStyle",FILL_PATTERN:"patternFillStyle"},vb=function(a,b){this.type=a;this.data=b};vb.prototype.getNumber=function(a){return this.data[a]};vb.prototype.getString=function(a){return this.data[a]};vb.prototype.getBoolean=function(a){return this.data[a]};vb.prototype.getObject=function(a){return this.data[a]};var sc=function(){this.bounds=null;this.points=[];this.lastLineWidth=
this.maxLineWidth=0;this.lineMul=.5},Ua={BEVEL:"bevel",MITER:"miter",ROUND:"round"},ac=function(){this.stops={};this.native=null};ac.prototype.addColorStop=function(a,b){this.stops[a]=b;this.native=null};var Va=function(a,b,c,d){var e=ac.call(this)||this;e.x0=a;e.y0=b;e.x1=c;e.y1=d;e.isAbsolute=!1;return e};$jscomp.inherits(Va,ac);Va.prototype.addColorStop=function(a,b){this.stops[a]=b;this.native=null};Va.prototype.clone=function(){var a=new Va(this.x0,this.y0,this.x1,this.y1);a.isAbsolute=this.isAbsolute;
for(var b in this.stops)a.stops[b]=this.stops[b];return a};var hb={NONE:"none",ROUND:"round",SQUARE:"square"},S=function(){this.mNodes=[];this.mTransform=new C;this.mCommandQueue=[];this.mPosY=this.mPosX=this.mPivotY=this.mPivotX=0;this.mName=null};S.prototype.onGetLocalBounds=function(a,b){var c=new sc,d=this.mCommandQueue.length;b=b.clone().append(this.mTransform);var e=b.data,f=Math.sqrt(e[0]*e[0]+e[1]*e[1]);e=Math.sqrt(e[2]*e[2]+e[3]*e[3]);for(var g=0;g<d;g++){var h=this.mCommandQueue[g];switch(h.type){case I.BEGIN_PATH:c.bounds&&
(b.transformRect(c.bounds,c.bounds),a.mLocalBounds=a.mLocalBounds?a.mLocalBounds.union(c.bounds):c.bounds);c=new sc;break;case I.BOUNDS:for(var k=0;k<h.data.length;k+=2)c.points.push(h.getNumber(k),h.getNumber(k+1));break;case I.LINE_STYLE:c.lastLineWidth=h.getNumber(0);h.getString(4)===Ua.MITER&&(c.lineMul=1);break;case I.FILL:0!==c.points.length&&(h=z.fromPointsXY(c.points),c.bounds=c.bounds?c.bounds.union(h):h);break;case I.STROKE:c.lastLineWidth>c.maxLineWidth&&(c.maxLineWidth=c.lastLineWidth),
0===c.maxLineWidth&&(c.maxLineWidth=1),c.maxLineWidth*=c.lineMul,0!==c.points.length&&(h=z.fromPointsXY(c.points),1<c.points.length&&h.inflate(c.maxLineWidth*f,c.maxLineWidth*e),c.bounds=c.bounds?c.bounds.union(h):h)}}c.bounds&&(b.transformRect(c.bounds,c.bounds),a.mLocalBounds=a.mLocalBounds?a.mLocalBounds.union(c.bounds):c.bounds);c=0;for(d=this.mNodes.length;c<d;c++)this.mNodes[c].onGetLocalBounds(a,b);return a.mLocalBounds};S.prototype.lineStyle=function(a,b,c,d,e,f){a=void 0===a?0:a;b=void 0===
b?0:b;c=void 0===c?1:c;d=void 0===d?hb.NONE:d;e=void 0===e?Ua.MITER:e;f=void 0===f?3:f;n.isNumber(a,b,c,f);0>=a||this.__pushCommand(I.LINE_STYLE,a,b,c,d,e,f)};S.prototype.shadowBlur=function(a){n.isNumber(a);this.__pushCommand(I.SHADOW_BLUR,a)};S.prototype.shadowColor=function(a,b){n.isNumber(a,b);this.__pushCommand(I.SHADOW_COLOR,a,b)};S.prototype.fillStyle=function(a,b){a=void 0===a?0:a;b=void 0===b?1:b;n.isNumber(a,b);this.__pushCommand(I.FILL_STYLE,a,b)};S.prototype.fillGradient=function(a){a instanceof
Va&&this.__pushCommand(I.FILL_GRD,a)};S.prototype.fillPattern=function(a){this.__pushCommand(I.FILL_PATTERN,a)};S.prototype.clear=function(){this.mPosY=this.mPosX=0;this.mCommandQueue=[];this.mNodes=[];this.beginPath()};S.prototype.moveTo=function(a,b){this.mPosX=a;this.mPosY=b;this.__pushCommand(I.MOVE_TO,a,b)};S.prototype.lineTo=function(a,b){this.mPosX=a;this.mPosY=b;this.__pushCommand(I.LINE_TO,a,b);this.__pushCommand(I.BOUNDS,this.mPosX,this.mPosY,a,b)};S.prototype.arc=function(a,b,c,d,e,f){f=
void 0===f?!1:f;var g=!1,h=0,k=0,p=[];if(d!==e){if(Math.abs(d-e)>=w.PI2)p.push(a-c,b-c,a+c,b+c),k=ja.getCircumferencePoint(a,b,c,e+.5*Math.PI),g=!0,e=d+w.PI2,h=k.x,k=k.y;else{var q=d%w.PI2+(0>d?w.PI2:0),m=e;f&&(m=q,q=e);for(;m<q;)m+=w.PI2;var u=0===q||m>=w.PI2,v=q<=Math.PI&&m>=Math.PI||m>=3*Math.PI,y=q<=.5*Math.PI&&m>=.5*Math.PI||m>=2.5*Math.PI,G=q<=1.5*Math.PI&&m>=1.5*Math.PI||m>=3.5*Math.PI;if(!v||!u){var H=Math.cos(q)*c;var W=Math.cos(m)*c}if(!G||!y){var ta=Math.sin(q)*c;var xa=Math.sin(m)*c}p.push((v?
-c:Math.min(H,W))+a,(G?-c:Math.min(ta,xa))+b,(u?c:Math.max(H,W))+a,(y?c:Math.max(ta,xa))+b)}this.__pushCommand(I.ARC,a,b,c,d,e,f);this.__pushCommand.apply(this,[I.BOUNDS].concat($jscomp.arrayFromIterable(p)));!0===g&&this.__pushCommand(I.MOVE_TO,h,k)}};S.prototype.circle=function(a,b,c){this.__pushCommand(I.ARC,a,b,c,0,w.PI2);this.__pushCommand(I.BOUNDS,a-c,b-c,a+c,b+c)};S.prototype.rect=function(a,b,c,d){n.isNumber(a,b,c,d);this.__pushCommand(I.RECT,a,b,c,d);this.__pushCommand(I.BOUNDS,a,b,a+c,b+
d)};S.prototype.roundedRect=function(a,b,c,d,e){n.isNumber(a,b,c,d,e);this.__pushCommand(I.ROUNDED_RECT,a,b,c,d,e);this.__pushCommand(I.BOUNDS,a,b,a+c,b+d)};S.prototype.bezierCurveTo=function(a,b,c,d,e,f){var g=this.__bezierRange(this.mPosX,a,c,e,t.pool.get()),h=this.__bezierRange(this.mPosY,b,d,f,t.pool.get());this.mPosX=e;this.mPosY=f;this.__pushCommand(I.BEZIER_CURVE_TO,a,b,c,d,e,f);this.__pushCommand(I.BOUNDS,g.x,h.x,g.y,h.y);t.pool.release(g);t.pool.release(h)};S.prototype.quadraticCurveTo=function(a,
b,c,d){var e=this.__quadraticRange(this.mPosX,a,c,t.pool.get()),f=this.__quadraticRange(this.mPosY,b,d,t.pool.get());this.mPosX=c;this.mPosY=d;this.__pushCommand(I.QUADRATIC_CURVE_TO,a,b,c,d);this.__pushCommand(I.BOUNDS,e.x,f.x,e.y,f.y);t.pool.release(e);t.pool.release(f)};S.prototype.__bezierRange=function(a,b,c,d,e){e=e||new t;var f=c-2*b+a-(d-2*c+b),g=2*(b-a)-2*(c-b),h=g*g-4*f*(a-b),k=Math.min(a,d),p=Math.max(a,d);if(0<=h){h=Math.sqrt(h);var q=1/(2*f);f=(-g+h)*q;g=(-g-h)*q;f=isFinite(f)?f:.5;g=
isFinite(g)?g:.5;0<f&&1>f&&(h=this.__bezierDot(a,b,c,d,f),k=Math.min(h,k),p=Math.max(h,p));0<g&&1>g&&(a=this.__bezierDot(a,b,c,d,g),k=Math.min(a,k),p=Math.max(a,p))}e.x=k;e.y=p;return e};S.prototype.__bezierDot=function(a,b,c,d,e){var f=1-e;return a*f*f*f+3*b*e*f*f+3*c*e*e*f+d*e*e*e};S.prototype.__quadraticRange=function(a,b,c,d){var e=c-a;b-=a;var f=b/e;e=a+(0>f||1<f?b*b/(2*b-e):0);d.x=Math.min(a,c,e);d.y=Math.max(a,c,e);return d};S.prototype.beginPath=function(){this.__pushCommand(I.BEGIN_PATH)};
S.prototype.closePath=function(){this.__pushCommand(I.CLOSE_PATH)};S.prototype.setLineDash=function(a){this.__pushCommand(I.LINE_DASH,a)};S.prototype.stroke=function(){this.__pushCommand(I.STROKE)};S.prototype.fill=function(a){this.__pushCommand(I.FILL,a)};S.prototype.__pushCommand=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];c=new vb(a,c);this.mCommandQueue.push(c)};S.prototype.searchNode=function(a,b){b=void 0===b?this:b;if(b.name===a)return b;for(var c=0,d=b.mNodes.length;c<
d;c++){var e=this.searchNode(a,b.mNodes[c]);if(e)return e}};$jscomp.global.Object.defineProperties(S.prototype,{name:{configurable:!0,enumerable:!0,get:function(){return this.mName},set:function(a){this.mName=a}}});var bc=function(){this.data=null};bc.prototype.parse=function(a){this.data=a;return null};var Sb=function(a,b){this.image=a;this.repetition=b;this.native=null};Sb.prototype.clone=function(){return new Sb(this.image,this.repetition)};var Tb={NONE_ZERO:"nonzero",EVEN_ODD:"evenodd"},ob=function(){this.L=
"-";this.w=this.l=1;this.F="0";this.r=this.f=1;this.c="b";this.j="m";this.m=4;this.a=1;this.d="";this.needsFill=!0;this.needsStroke=!1;this.fillColor=0;this.fillAlpha=1;this.lineColor=0;this.lineWidth=this.lineAlpha=1;this.lineCap=hb.NONE;this.lineJoin=Ua.MITER;this.miterLimit=this.m;this.fillRule=Tb.NONE_ZERO;this.lineDash=[]};ob.prototype.merge=function(a){a.F&&(this.F=a.F);a.L&&(this.L=a.L);a.w&&(this.w=a.w);a.l&&(this.l*=a.l);a.f&&(this.f*=a.f);a.r&&(this.r=a.r);a.c&&(this.c=a.c);a.j&&(this.j=
a.j);a.m&&(this.m=a.m);a.a&&(this.a=a.a);a.d&&(this.d=a.d)};ob.prototype.compute=function(){if(this.needsFill="-"!==this.F)this.fillColor=parseInt(this.F,16);this.lineWidth=+this.w;if(this.needsStroke="-"!==this.L&&0<this.lineWidth)this.lineColor=parseInt(this.L,16);var a=Number(this.a);this.lineAlpha=Number(this.l)*a;this.fillAlpha=Number(this.f)*a;this.lineCap={b:hb.NONE,r:hb.ROUND,s:hb.SQUARE}[this.c];this.lineJoin={m:Ua.MITER,r:Ua.ROUND,b:Ua.BEVEL}[this.j];this.miterLimit=Number(this.m);this.fillRule=
{1:Tb.NONE_ZERO,0:Tb.EVEN_ODD}[this.r];this.lineDash=this.d.split(",").map(function(b){return Number(b)})};ob.prototype.clone=function(){var a=new ob;a.L=this.L;a.l=this.l;a.w=this.w;a.F=this.F;a.f=this.f;a.r=this.r;a.c=this.c;a.j=this.j;a.m=this.m;a.a=this.a;return a};var ba=function(a,b){a=void 0===a?null:a;b=void 0===b?!1:b;var c=aa.call(this)||this;c.mBounds=new z;c.mLocalBounds=null;c.mGraphicsData=null;c.mDataOffsetX=0;c.mDataOffsetY=0;c.mTrim=b;c.mGraphicsData=null===a?new S:"string"===typeof a?
r.assets.getGraphicsData(a):a;b&&(c.mGraphicsData.onGetLocalBounds(c,new C),c.mLocalBounds&&(c.mDataOffsetX=c.mLocalBounds.x,c.mDataOffsetY=c.mLocalBounds.y,c.mLocalBounds=null));return c};$jscomp.inherits(ba,aa);ba.prototype.getRenderer=function(){return r.driver.getRenderer("Graphics",this)};ba.prototype.onGetLocalBounds=function(a){a=a||new z;if(null!==this.mClipRect)return this.mClipRect.copyTo(a),a;this.mGraphicsData.onGetLocalBounds(this,new C);this.mLocalBounds&&a.copyFrom(this.mLocalBounds);
this.mLocalBounds=null;this.mTrim||(a.width+=Math.max(0,a.x),a.height+=Math.max(0,a.y),a.x=Math.min(0,a.x),a.y=Math.min(0,a.y));return a};ba.prototype.lineStyle=function(a,b,c,d,e,f){d=void 0===d?hb.NONE:d;e=void 0===e?Ua.MITER:e;this.mGraphicsData.lineStyle(void 0===a?0:a,void 0===b?0:b,void 0===c?1:c,d,e,void 0===f?3:f)};ba.prototype.shadowBlur=function(a){this.mGraphicsData.shadowBlur(a)};ba.prototype.shadowColor=function(a,b){this.mGraphicsData.shadowColor(a,void 0===b?1:b)};ba.prototype.fillStyle=
function(a,b){this.mGraphicsData.fillStyle(void 0===a?0:a,void 0===b?1:b)};ba.prototype.fillGradient=function(a){this.mGraphicsData.fillGradient(a)};ba.prototype.fillPattern=function(a){this.mGraphicsData.fillPattern(a)};ba.prototype.clear=function(){this.mBounds.zero();this.mGraphicsData.clear();this.setTransformDirty()};ba.prototype.moveTo=function(a,b){this.mGraphicsData.moveTo(a,b)};ba.prototype.lineTo=function(a,b){this.mGraphicsData.lineTo(a,b)};ba.prototype.arc=function(a,b,c,d,e,f){this.mGraphicsData.arc(a,
b,c,d,e,void 0===f?!1:f)};ba.prototype.circle=function(a,b,c){this.mGraphicsData.circle(a,b,c)};ba.prototype.rect=function(a,b,c,d){this.mGraphicsData.rect(a,b,c,d)};ba.prototype.roundedRect=function(a,b,c,d,e){this.mGraphicsData.roundedRect(a,b,c,d,e)};ba.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.mGraphicsData.bezierCurveTo(a,b,c,d,e,f)};ba.prototype.quadraticCurveTo=function(a,b,c,d){this.mGraphicsData.quadraticCurveTo(a,b,c,d)};ba.prototype.beginPath=function(){this.mGraphicsData.beginPath()};
ba.prototype.closePath=function(){this.mGraphicsData.closePath()};ba.prototype.setLineDash=function(a){this.mGraphicsData.setLineDash(a)};ba.prototype.stroke=function(){this.mGraphicsData.stroke();this.setTransformDirty()};ba.prototype.fill=function(a){this.mGraphicsData.fill(void 0===a?!0:a);this.setTransformDirty()};ba.prototype.createLinearGradient=function(a,b,c,d){return new Va(a,b,c,d)};var ya=function(){this.data=null;this._defs={};return this};$jscomp.inherits(ya,bc);ya.prototype.parse=function(a){bc.prototype.parse.call(this,
a);var b=this.__parseStyles(a.styles);this._defs={};this.__parseDefs(a.defs,this._defs);return this.__traverse(a,b,new S,new ob)};ya.prototype.__traverse=function(a,b,c,d){var e=this,f=this._defs,g=new S,h=d.clone();c.mNodes.push(g);a.id&&(g.name=a.id);if(c=a.t){var k=c[0]||0,p=c[1]||0,q=c[2]||1,m=c[3]||1,u=c[5]||0,v=c[6]||0;g.mTransform.rotate(c[4]||0);g.mTransform.scale(q,m);g.mTransform.skew(c[7]||0,c[8]||0);g.mTransform.data[4]=k+u/q;g.mTransform.data[5]=p+v/m;g.mPivotX=u;g.mPivotY=v}if(a.cmds)for(c=
a.cmds.split("$").filter(function(xa){return xa}).reverse(),k=new z,p="";0<c.length;){u=c.pop();q=u[0];m=u.slice(1).split(",").map(function(xa){return Number(xa)});g.beginPath();"S"!==p&&"S"!==q&&(g.fillStyle(0,1),g.lineStyle(1,0,1,hb.NONE,Ua.MITER,4));p=q;switch(q){case "S":m=b[m[0]];h=d.clone();h.merge(m);h.compute();break;case "p":this.__drawPath(u,g);break;case "r":u=m[0];v=m[1];var y=m[2],G=m[3],H=(void 0===m[4]?m[5]:m[4])||0,W=(void 0===m[5]?m[4]:m[5])||0;k.set(u,v,y,G);0!==H&&0!==W?(g.moveTo(u,
v+W),g.quadraticCurveTo(u,v,u+H,v),g.lineTo(u+y-H,v),g.quadraticCurveTo(u+y,v,u+y,v+W),g.lineTo(u+y,v+G-W),g.quadraticCurveTo(u+y,v+G,u+y-H,v+G),g.lineTo(u+H,v+G),g.quadraticCurveTo(u,v+G,u,v+G-W),g.closePath()):g.rect(m[0],m[1],m[2],m[3]);break;case "c":u=2*m[2];k.set(0,0,u,u);g.circle(m[0],m[1],m[2]);break;case "e":u=m[0];v=m[1];y=m[2];G=m[3];m=this.__arcToBezier(u-y,v,y,G,0,0,0,u+y,v);G=this.__arcToBezier(u+y,v,y,G,0,0,0,u-y,v);m=[].concat($jscomp.arrayFromIterable(m),$jscomp.arrayFromIterable(G));
g.moveTo(u-y,v);u=0;for(v=m.length;u<v;u++)y=m[u],g.bezierCurveTo(y[2],y[3],y[4],y[5],y[6],y[7]);break;case "l":u=m[2];v=m[3];g.moveTo(m[0],m[1]);g.lineTo(u,v);break;case "s":case "g":m=u.slice(1).split(",").map(function(xa){return Number(xa)});g.moveTo(m[0],m[1]);u=2;for(v=m.length;u<v;u+=2)g.lineTo(m[u],m[u+1]);"g"===q&&g.closePath()}if(h.needsFill&&"S"!==q){if(this.__isRef(h.F))if(q=f[h.F.slice(1)].clone(),q instanceof Sb)g.fillPattern(q);else{if(q instanceof Va){q.isAbsolute||(q.x0*=k.width,q.x1*=
k.width,q.y0*=k.height,q.y1*=k.height);for(var ta in q.stops)q.stops[ta]=x.intToRGBA(parseInt(q.stops[ta].slice(1),16),h.fillAlpha);g.fillGradient(q)}}else g.fillStyle(h.fillColor,h.fillAlpha);g.fill(h.fillRule===Tb.NONE_ZERO)}h.needsStroke&&(g.lineStyle(h.lineWidth,h.lineColor,h.lineAlpha,h.lineCap,h.lineJoin,h.miterLimit),g.setLineDash(h.lineDash),g.stroke())}a.nodes&&a.nodes.forEach(function(xa){e.__traverse(xa,b,g,h)});return g};ya.prototype.__isRef=function(a){return 0===a.indexOf("$")};ya.prototype.__parseDefs=
function(a,b){if(!a)return b;for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if("string"===typeof d)switch(d.charAt(0)){case "R":d=d.slice(1).split(" ");var e=d[0].split(",").map(function(p){return parseFloat(p)}),f=new Va(e[0],e[1],e[2],e[3]);f.isAbsolute=0===e[4];b[c]=f;e=1;for(var g=d.length;e<g;e++){var h=d[e].split(","),k="#"+h[1];f.addColorStop(parseFloat(h[0]),k)}}else f=this.__parseStyles(d.s),f=this.__traverse(d,f,new S,new ob),f=new ba(f),e=new fb(f.width,f.height,r.driver.renderScaleFactor),
r.driver.render(f,e,new C),b[c]=new Sb(e.native,d.r)}return b};ya.prototype.__parseStyles=function(a){return a?a.map(function(b){var c={};b.split(" ").forEach(function(d){c[d[0]]=d.slice(1)});return c}):[]};ya.prototype.__drawPath=function(a,b){var c=[];a.split(",").map(function(Ka){for(;0!==Ka.length;){var tc=parseFloat(Ka);if(isNaN(tc))c.push(Ka.charAt(0)),Ka=Ka.slice(1);else{c.push(tc);for(var uc=1;;uc++)if(parseFloat(Ka.slice(0,uc))===tc){Ka=Ka.slice(uc);break}}}});c.reverse();for(var d=a=0,e=
0,f=0,g=0,h=0,k=0,p=0,q="",m=0,u=0;0!==c.length;){var v=c[c.length-1];q=v=v===v.toString()?c.pop():q;m=u=0;v===v.toLowerCase()&&(m=a,u=d);switch(v){case "M":case "m":a=c.pop()+m;d=c.pop()+u;b.moveTo(a,d);e=a;f=d;break;case "L":case "l":a=c.pop()+m;d=c.pop()+u;b.lineTo(a,d);break;case "V":case "v":d=c.pop()+u;b.lineTo(a,d);break;case "H":case "h":a=c.pop()+m;b.lineTo(a,d);break;case "C":case "c":g=c.pop()+m;var y=c.pop()+u,G=c.pop()+m;h=c.pop()+u;a=c.pop()+m;d=c.pop()+u;b.bezierCurveTo(g,y,G,h,a,d);
g=2*a-G;h=2*d-h;break;case "S":case "s":y=c.pop()+m;G=c.pop()+u;a=c.pop()+m;d=c.pop()+u;b.bezierCurveTo(g,h,y,G,a,d);g=2*a-y;h=2*d-G;break;case "Q":case "q":k=c.pop()+m;p=c.pop()+u;a=c.pop()+m;d=c.pop()+u;b.quadraticCurveTo(k,p,a,d);k=2*a-k;p=2*d-p;break;case "T":case "t":a=c.pop()+m;d=c.pop()+u;b.quadraticCurveTo(k,p,a,d);k=2*a-k;p=2*d-p;break;case "A":case "a":y=a;G=d;var H=c.pop(),W=c.pop(),ta=c.pop(),xa=c.pop(),vc=c.pop();a=c.pop()+m;d=c.pop()+u;m=this.__arcToBezier(y,G,H,W,ta,xa,vc,a,d);if(!m)break;
u=0;for(y=m.length;u<y;u++)G=m[u],b.bezierCurveTo(G[2],G[3],G[4],G[5],G[6],G[7]);break;case "Z":b.closePath(),a=e,d=f}"C"!==v&&"c"!==v&&"S"!==v&&"s"!==v&&(g=a,h=d);"Q"!==v&&"q"!==v&&"T"!==v&&"t"!==v&&(k=a,p=d)}};ya.prototype.__approxUnitArc=function(a,b){var c=4/3*Math.tan(b/4),d=Math.cos(a),e=Math.sin(a),f=Math.cos(a+b);a=Math.sin(a+b);return[d,e,d-e*c,e+d*c,f+a*c,a-f*c,f,a]};ya.prototype.__vectorAngle=function(a,b,c,d){var e=0>a*d-b*c?-1:1;a=w.clamp(a*c+b*d,-1,1);return e*Math.acos(a)};ya.prototype.__getArcCenter=
function(a,b,c,d,e,f,g,h,k,p){var q=p*(a-c)/2+k*(b-d)/2,m=-k*(a-c)/2+p*(b-d)/2,u=g*g,v=h*h,y=q*q,G=m*m,H=Math.max(0,u*v-u*G-v*y);H=Math.sqrt(H/(u*G+v*y))*(e===f?-1:1);e=H*g/h*m;H=H*-h/g*q;a=p*e-k*H+(a+c)/2;b=k*e+p*H+(b+d)/2;d=(q-e)/g;k=(m-H)/h;g=(-q-e)/g;m=(-m-H)/h;h=this.__vectorAngle(1,0,d,k);m=this.__vectorAngle(d,k,g,m);0===f&&0<m&&(m-=2*Math.PI);1===f&&0>m&&(m+=2*Math.PI);return[a,b,h,m]};ya.prototype.__arcToBezier=function(a,b,c,d,e,f,g,h,k){var p=Math.sin(e*Math.PI/180),q=Math.cos(e*Math.PI/
180);e=q*(a-h)/2+p*(b-k)/2;var m=-p*(a-h)/2+q*(b-k)/2;if((0!==e||0!==m)&&0!==c&&0!==d){c=Math.abs(c);d=Math.abs(d);e=e*e/(c*c)+m*m/(d*d);1<e&&(e=Math.sqrt(e),c*=e,d*=e);var u=this.__getArcCenter(a,b,h,k,f,g,c,d,p,q);a=[];b=u[2];f=u[3];g=Math.max(Math.ceil(Math.abs(f)/(.5*Math.PI)),1);f/=g;for(h=0;h<g;h++)a.push(this.__approxUnitArc(b,f)),b+=f;return a.map(function(v){for(var y=0;y<v.length;y+=2){var G=v[y]*c,H=v[y+1]*d,W=p*G+q*H;v[y]=q*G-p*H+u[0];v[y+1]=W+u[1]}return v})}};var Ub=function(a,b){a=
N.call(this,J.VECTOR_GRAPHICS,a)||this;a.mUrl=b;a.mGraphicsData=null;a.mXHR=null;return a};$jscomp.inherits(Ub,N);Ub.prototype.onLoaderRequested=function(a){this.mXHR=a.get(qa.XHR,this.mUrl);this.mXHR.mimeType="application/json";this.mXHR.responseType="json";this.addLoader(this.mXHR)};Ub.prototype.onAllLoaded=function(){var a=this.mXHR.data;this.mGraphicsData=(new ya).parse(a);this.mGraphicsData.name=this.name;N.prototype.ready.call(this,this.mGraphicsData)};var wb=function(a,b,c,d,e){a=N.call(this,
J.VECTOR_TEXTURE,a)||this;a.mUrl=b;a.mBakeSelf=c;a.mBakeChildren=d;a.mNamesToBake=d&&e?e:[];a.mGraphicsData=null;a.mXHR=null;return a};$jscomp.inherits(wb,N);wb.prototype.onLoaderRequested=function(a){this.mXHR=a.get(qa.XHR,this.mUrl);this.mXHR.mimeType="application/json";this.mXHR.responseType="json";this.addLoader(this.mXHR)};wb.prototype.onAllLoaded=function(){var a=this.mXHR.data;this.mGraphicsData=(new ya).parse(a);this.mGraphicsData.name=this.name;a=this.bakeTextures();var b=[],c;for(c in a)a.hasOwnProperty(c)&&
b.push({name:c,data:a[c]});N.prototype.ready.call(this,b)};wb.prototype.bakeTextures=function(){var a={},b=this.mNamesToBake;if(this.mBakeChildren&&0===b.length){var c=function(p){if(0!==p.length)for(var q=0,m=p.length;q<m;q++)p[q].name&&b.push(p[q].name),c(p[q].mNodes)};c(this.mGraphicsData.mNodes)}this.mBakeSelf&&b.unshift(this.mGraphicsData.name);for(var d=0,e=b.length;d<e;d++){var f=b[d],g=this.mGraphicsData.searchNode(f);if(g){g=new ba(g,f!==this.mGraphicsData.name);var h=1/r.driver.renderScaleFactor,
k=new fb(g.width,g.height,1);r.driver.render(g,k,(new C).scale(h,h));a[f]=k}else n.warn("[BVGAsset] GraphicsData node with id '"+f+"' not found.")}return a};var pb={NONE:"none",LOADING:"loading",FINISHED:"finished"},bd=function(a){this.mAssetManager=a};bd.prototype.get=function(a,b,c){for(var d=[],e=2;e<arguments.length;++e)d[e-2]=arguments[e];return new (Function.prototype.bind.apply(this.mAssetManager.mLoaderTypeMap[a],[null,b].concat($jscomp.arrayFromIterable(d))))};var R=function(){var a=M.call(this)||
this;null===r.assets&&(r.assets=a);a.mDefaultPath="";a.mTotalLoaded=0;a.mTotalPending=0;a.mTotalErrors=0;a.mIsAllLoaded=!1;a.mLoadingProgress=0;a.mQueue=[];a.mLoadersQueue={};a.mState=pb.NONE;a.mLoaderFactory=new bd(a);a.mAssets={};a.mAssetTypeMap={};a.mLoaderTypeMap={};a.registerDefaultTypes();return a};$jscomp.inherits(R,M);R.prototype.registerDefaultTypes=function(){this.mAssetTypeMap[J.TEXTURE]=Lb;this.mAssetTypeMap[J.TEXTURE_ATLAS]=Pb;this.mAssetTypeMap[J.VECTOR_GRAPHICS]=Ub;this.mAssetTypeMap[J.VECTOR_TEXTURE]=
wb;this.mAssetTypeMap[J.FONT]=Ob;this.mAssetTypeMap[J.BITMAP_FONT]=mb;this.mAssetTypeMap[J.XML]=Nb;this.mAssetTypeMap[J.JSON]=Mb;this.mAssetTypeMap[J.SOUND]=Qb;this.mAssetTypeMap[J.SOUND_ATLAS]=Rb;this.mLoaderTypeMap[qa.FONT_FACE]=gb;this.mLoaderTypeMap[qa.IMAGE]=Jb;this.mLoaderTypeMap[qa.XHR]=Kb};R.prototype.setAssetType=function(a,b){this.mAssetTypeMap[a]=b};R.prototype.setLoaderType=function(a,b){this.mLoaderTypeMap[a]=b};R.prototype.enqueueAsset=function(a,b){this.__validateState();this.__validateName(b.type,
a);this.mQueue.push(b)};R.prototype.__getAsset=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];return new (Function.prototype.bind.apply(this.mAssetTypeMap[a],[null].concat($jscomp.arrayFromIterable(c))))};R.prototype.addTexture=function(a,b){this.mTextures[a]=b};R.prototype.enqueueImage=function(a,b){this.enqueueAsset(a,this.__getAsset(J.TEXTURE,a,this.mDefaultPath+b))};R.prototype.enqueueAtlas=function(a,b,c){this.enqueueAsset(a,this.__getAsset(J.TEXTURE_ATLAS,a,this.mDefaultPath+
b,this.mDefaultPath+c))};R.prototype.enqueueBitmapFont=function(a,b,c){this.enqueueAsset(a,this.__getAsset(J.BITMAP_FONT,a,this.mDefaultPath+b,this.mDefaultPath+c))};R.prototype.enqueueXML=function(a,b){this.enqueueAsset(a,this.__getAsset(J.XML,a,this.mDefaultPath+b))};R.prototype.enqueueJSON=function(a,b){this.enqueueAsset(a,this.__getAsset(J.JSON,a,this.mDefaultPath+b))};R.prototype.enqueueVector=function(a,b){this.enqueueAsset(a,this.__getAsset(J.VECTOR_GRAPHICS,a,this.mDefaultPath+b))};R.prototype.enqueueVectorTexture=
function(a,b,c,d,e){c=void 0===c?!1:c;d=void 0===d?!1:d;!0!==c&&!0!==d||this.enqueueAsset(a,this.__getAsset(J.VECTOR_TEXTURE,a,this.mDefaultPath+b,c,d,void 0===e?null:e))};R.prototype.enqueueSound=function(a,b){this.enqueueAsset(a,this.__getAsset(J.SOUND,a,this.mDefaultPath+b))};R.prototype.enqueueSoundAtlas=function(a,b,c){this.enqueueAsset(a,this.__getAsset(J.SOUND_ATLAS,a,this.mDefaultPath+b,this.mDefaultPath+c))};R.prototype.enqueueFont=function(a,b){this.enqueueAsset(a,this.__getAsset(J.FONT,
a,this.mDefaultPath+b,!0))};R.prototype.enqueueGoogleFont=function(a){this.enqueueAsset(a,this.__getAsset(J.FONT,a,"",!1))};R.prototype.loadQueue=function(){this.__validateState();if(0===this.mQueue.length)this.post(O.COMPLETE);else{this.mState=pb.LOADING;for(var a=0;a<this.mQueue.length;a++){var b=this.mQueue[a];b.onLoaderRequested(this.mLoaderFactory);0<b.loaders.length&&(b.once(O.COMPLETE,this.onAssetLoaded,this),b.once(O.ERROR,this.onAssetError,this),this.mTotalPending++,b.loaders.forEach(function(c){c.load()}))}}};
R.prototype.onAssetLoaded=function(a){var b=this;this.mTotalLoaded++;this.mLoadingProgress=this.mTotalLoaded/this.mTotalPending;var c=a.sender;c.off(O.COMPLETE,O.ERROR);null==this.mAssets[c.type]&&(this.mAssets[c.type]={});Array.isArray(c.data)?c.data.forEach(function(d){b.__validateName(d.name);b.mAssets[c.type][d.name]=d.data}):this.mAssets[c.type][c.name]=c.data;this.post(O.PROGRESS,this.mLoadingProgress);this.mTotalLoaded===this.mTotalPending&&(this.mQueue.splice(0,this.mQueue.length),this.mLoadersQueue=
{},this.mState=pb.FINISHED,this.mTotalPending=this.mTotalErrors=this.mTotalLoaded=0,this.mIsAllLoaded=!0,this.post(O.COMPLETE))};R.prototype.onAssetError=function(a){this.mTotalErrors++;var b=this.mTotalLoaded+this.mTotalErrors;this.mLoadingProgress=this.mTotalLoaded/this.mTotalPending;a=a.sender;a.off(O.COMPLETE,O.ERROR);n.warn("[AssetManager] Error loading asset '"+a.name+"'.");this.post(O.ERROR,a);b===this.mTotalPending&&(this.mQueue.splice(0,this.mQueue.length),this.mLoadersQueue={},this.mState=
pb.FINISHED,this.mTotalPending=this.mTotalErrors=this.mTotalLoaded=0,this.mIsAllLoaded=!0,this.post(O.COMPLETE))};R.prototype.getBitmapFont=function(a){var b=this.mAssets[J.BITMAP_FONT][a];if(null!=b)return b;n.warn("[AssetManager] BitmapFontData '"+a+"' was not found.");return null};R.prototype.getTexture=function(a){var b=this.mAssets[J.TEXTURE];if(null!=b&&(b=b[a],null!=b))return b;b=this.mAssets[J.TEXTURE_ATLAS];if(null!=b)for(var c in b){var d=b[c].subTextures[a];if(null!=d)return d}c=this.mAssets[J.VECTOR_TEXTURE];
if(null!=c&&(c=c[a],null!=c))return c;c=this.mAssets[J.VECTOR_TEXTURE_ATLAS];if(null!=c)for(var e in c)if(b=c[e].subTextures[a],null!=b)return b;n.warn("[AssetManager] Texture '"+a+"' was not found.");return null};R.prototype.getGraphicsData=function(a){var b=this.mAssets[J.VECTOR_GRAPHICS];if(null==b)return null;var c=b[a];if(c)return c;for(var d in b)if(c=b[d].searchNode(a))return c;n.warn("[AssetManager] GraphicsData '"+a+"' was not found.");return null};R.prototype.getTextures=function(a){var b=
this.mAssets[J.TEXTURE],c=this.mAssets[J.TEXTURE_ATLAS],d=this.mAssets[J.VECTOR_TEXTURE],e=this.mAssets[J.VECTOR_TEXTURE_ATLAS],f=[],g=[];a=new RegExp("^"+a.split("*").join(".*")+"$");if(null!=b)for(var h in b)a.test(h)&&g.push({name:h,atlas:null,isBakedVector:!1});if(null!=d)for(var k in d)a.test(k)&&g.push({name:k,atlas:null,isBakedVector:!0});if(null!=c)for(var p in c){h=c[p];for(var q in h.subTextures)a.test(q)&&g.push({name:q,atlas:h,isBakedVector:!1})}if(null!=e)for(var m in e){c=e[m];for(var u in c.subTextures)a.test(u)&&
g.push({name:u,atlas:c,isBakedVector:!0})}Fa.naturalSort(g,"name");for(e=0;e<g.length;e++)m=g[e],null===m.atlas?!0===m.isBakedVector?f.push(d[m.name]):f.push(b[m.name]):f.push(m.atlas.mSubTextures[m.name]);return 0<f.length?f:null};R.prototype.getAtlas=function(a){var b=this.mAssets[J.TEXTURE_ATLAS];if(null==b)return null;if(null!=b[a])return b[a];n.warn("[AssetManager] Atlas '"+a+"' was not found.");return null};R.prototype.getSound=function(a){var b=this.mAssets[J.SOUND],c=this.mAssets[J.SOUND_ATLAS];
if(null!=b&&(b=b[a],null!=b))return b;if(null!=c)for(var d in c)if(b=c[d].subSounds[a],null!=b)return b;n.warn("[AssetManager] Sound '"+a+"' was not found.");return null};R.prototype.getSoundAtlas=function(a){return null==this.mAssets[J.SOUND_ATLAS]?null:this.mAssets[J.SOUND_ATLAS][a]};R.prototype.getJSON=function(a){return null==this.mAssets[J.JSON]?null:this.mAssets[J.JSON][a]};R.prototype.getCustomAsset=function(a,b){return null==this.mAssets[a]?null:this.mAssets[a][b]};R.prototype.__validateState=
function(){n.assert(this.mState===pb.NONE||this.mState===pb.FINISHED,"Illegal state.")};R.prototype.__validateName=function(a,b){this.mAssets[a]&&this.mAssets[a][b]&&n.assert(null==this.mDictionary[b],"Asset with such name is already added.")};R.prototype.dispose=function(){this.mQueue.forEach(function(a){a.abort()})};$jscomp.global.Object.defineProperties(R.prototype,{defaultPath:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultPath},set:function(a){this.mDefaultPath=a}},isAllLoaded:{configurable:!0,
enumerable:!0,get:function(){return this.mIsAllLoaded}},numErrors:{configurable:!0,enumerable:!0,get:function(){return this.mTotalErrors}},state:{configurable:!0,enumerable:!0,get:function(){return this.mState}},path:{configurable:!0,enumerable:!0,get:function(){return"AssetManager"}}});var cc=function(){this.parentRenderers=[];this.endPassParentRenderers=[];this.isBackBufferActive=!0;this.customTransform=null};cc.prototype.reset=function(){this.parentRenderers.splice(0,this.parentRenderers.length);
this.endPassParentRenderers.splice(0,this.endPassParentRenderers.length);this.isBackBufferActive=!0;this.customTransform=null};var La=function(){var a=K.call(this)||this;a.texture=null;a.mTransformCache=new C;a.mTransform=null;a.mUseTransformCache=!1;a.mCanvas=document.createElement("canvas");a.mContext=a.mCanvas.getContext("2d");a.mContext.lineJoin="round";a.mContext.miterLimit=2;a.mMetrics=null;return a};$jscomp.inherits(La,K);La.prototype.preRender=function(a,b){this.endPassRequired=null!==this.gameObject.mClipRect&&
!1===this.gameObject.mClipRect.isEmpty;this.skipChildren=!(0<this.gameObject.mAlpha&&!0===this.gameObject.mVisible);this.skipSelf=!0===this.skipChildren};La.prototype.upload=function(a,b){b=this.gameObject;b.mDirty&16&&(b.onGetLocalBounds(),this.mMetrics=b.mMetrics);(b.mDirty&16||b.mDirty&8)&&this.updateTransform();this.mTransform=!0===this.mUseTransformCache?this.mTransformCache:this.gameObject.worldTransformation;a.setSnapToPixels(b.snapToPixels);a.setTransform(this.mTransform);a.setGlobalAlpha(this.alpha);
a.setGlobalBlendMode(this.blendMode);!0===this.endPassRequired&&a.beginClip(b.mClipRect,b.mPivotX,b.mPivotY)};La.prototype.renderSegment=function(a,b,c,d,e,f){d=this.gameObject;var g=e.baselineNormalized*b.style.size;!0===f?(c.lineWidth=b.style.strokeThickness,c.strokeStyle=x.intToRGBA(b.style.strokeColor,b.style.strokeAlpha)):c.fillStyle=x.intToRGBA(b.style.color,b.style.alpha);c.font=b.style.weight+" "+b.style.style+" "+b.style.size+'px "'+b.style.family+'"';e=b.bounds.x-Math.min(a.strokeBounds.x,
a.shadowBounds.x);g=g+b.bounds.y-Math.min(a.strokeBounds.y,a.shadowBounds.y);e+=d.padding.x;g+=d.padding.y;"center"===d.align?e+=.5*a.bounds.width-.5*a.lineWidth[b.lineIndex]:"right"===d.align&&(e+=a.bounds.width-a.lineWidth[b.lineIndex]);!0===f?c.strokeText(b.text,e,g):c.fillText(b.text,e,g)};La.prototype.render=function(a,b){var c=this.gameObject;!0===c.mHighQuality&&c.mDirty&8&&(c.mDirty^=8,c.mDirty|=16);if(c.mDirty&16){c.mDirty^=16;b=this.mCanvas;var d=this.mContext,e=1;d.textBaseline="alphabetic";
!0===c.mHighQuality&&(e=this.mTransform.data,e=Math.max(Math.sqrt(e[0]*e[0]+e[2]*e[2]),Math.sqrt(e[1]*e[1]+e[3]*e[3]))*a.renderScaleFactor);var f=this.mMetrics.strokeBounds.clone();f.union(this.mMetrics.shadowBounds);f.inflate(c.padding.right,c.padding.bottom);f.scale(e,e);b.width=f.width;b.height=f.height;c=Aa.get(c.mDefaultStyle.family);f=this.mMetrics.segments;d.save();d.scale(e,e);for(var g=0;g<f.length;g++)f[g].style.dropShadow&&(d.save(),d.shadowColor=x.intToRGBA(f[g].style.shadowColor,f[g].style.shadowAlpha),
d.shadowBlur=f[g].style.shadowBlur,d.shadowOffsetX=f[g].style.shadowDistanceX*e,d.shadowOffsetY=f[g].style.shadowDistanceY*e,this.renderSegment(this.mMetrics,f[g],d,a,c,!1),d.restore());for(g=0;g<f.length;g++){var h=f[g];0<h.style.strokeThickness&&(d.lineJoin="round",d.miterLimit=2,this.renderSegment(this.mMetrics,h,d,a,c,!0))}for(g=0;g<f.length;g++)this.renderSegment(this.mMetrics,f[g],d,a,c,!1);d.restore();null===this.texture?this.texture=new da(b,null,null,1/e):this.texture.set(b,null,null,1/e)}};
La.prototype.updateTransform=function(){var a=this.gameObject,b=a.worldTransformation,c=0,d=0,e=Math.min(this.mMetrics.strokeBounds.x,this.mMetrics.shadowBounds.x),f=Math.min(this.mMetrics.strokeBounds.y,this.mMetrics.shadowBounds.y);!1===a.mAutoSize&&("center"===a.align?c=.5*(a.mFieldWidth-this.mMetrics.bounds.width):"right"===a.align&&(c=a.mFieldWidth-this.mMetrics.bounds.width),"middle"===a.mVerticalAlign?d=.5*(a.mFieldHeight-this.mMetrics.bounds.height):"bottom"===a.mVerticalAlign&&(d=a.mFieldHeight-
this.mMetrics.bounds.height));!0===(0!==e||0!==f)||!1===a.mAutoSize?(this.mUseTransformCache=!0,b.copyTo(this.mTransformCache),this.mTransformCache.translate(e+c-a.padding.x,f+d-a.padding.y)):!1===a.padding.isEmpty?(this.mUseTransformCache=!0,b.copyTo(this.mTransformCache),this.mTransformCache.translate(-a.padding.x,-a.padding.y)):this.mUseTransformCache=!1};var xb=function(){var a=K.call(this)||this;a.mCanvas=document.createElement("canvas");a.mContext=a.mCanvas.getContext("2d");a.texture=null;return a};
$jscomp.inherits(xb,K);xb.prototype.render=function(a,b){a=this.gameObject;if(null!==a.mText&&a.mDirty&16){b=this.mCanvas;var c=this.mContext,d=a.mData,e=a.mText,f=a.onGetLocalBounds();a.mDirty^=16;var g=-1,h=0,k=0;b.width=f.width;b.height=f.height;for(f=0;f<e.length;f++){var p=e.charCodeAt(f);if(/(?:\r\n|\r|\n)/.test(e.charAt(f)))h=0,k+=d.lineHeight*a.mLineHeight,g=-1;else{var q=d.chars[p];if(null!=q){var m=q.texture;0<=g&&q.kerning[g]&&(h+=q.kerning[g]);var u=m.width,v=m.height;0!==u&&0!==v&&(c.drawImage(m.native,
m.region.x,m.region.y,u,v,~~(m.untrimmedRegion.x+q.xOffset+h),~~(m.untrimmedRegion.y+q.yOffset+k),u,v),h+=q.xAdvance,g=p)}}}null===this.texture?this.texture=new da(b):this.texture.set(b)}};var dc=function(){return K.call(this)||this};$jscomp.inherits(dc,K);var ib=function(){var a=K.call(this)||this;a.mCacheAsBitmapDirty=!0;a.mCacheAsBitmapMatrixCache=null;a.mCacheTexture=null;a.mCacheBounds=null;a.mIsClipped=!1;a.mIsCached=!1;a.mBakeInvertedMatrix=null;return a};$jscomp.inherits(ib,K);ib.prototype.preRender=
function(a,b){a=this.gameObject;this.endPassRequired=this.mIsClipped=null!==a.mClipRect;!0===a.mCacheAsBitmap&&(!1===a.mCacheAsBitmapDynamic?!1===this.mIsCached?(this.mIsCached=!0,a.setTransformDirty(),this.__refreshBitmapCache(),this.endPassRequired=this.mCacheAsBitmapDirty=!1):a.mDirty|=8:(b=a.checkStatic(!0),!0===b&&!0===this.mCacheAsBitmapDirty?(a.setTransformDirty(),this.__refreshBitmapCache(),this.endPassRequired=this.mCacheAsBitmapDirty=!1):!1===b&&(this.mCacheAsBitmapDirty=!0,a.mDirty|=8)));
this.skipChildren=!0===a.mCacheAsBitmap&&!1===this.mCacheAsBitmapDirty||this.mIsClipped&&a.mClipRect.isEmpty;this.skipSelf=!1;!0===this.skipChildren&&(this.endPassRequired=!1,this.skipSelf=!0)};ib.prototype.begin=function(a,b){a=this.gameObject;!0===this.skipChildren&&!0===b.isBackBufferActive?(this.alpha=1,this.blendMode=Ra.NORMAL,this.color=null,this.skipSelf=0>=a.mAlpha||!1===a.mVisible||this.mIsClipped&&a.mClipRect.isEmpty):(this.alpha=a.mAlpha*this.parent.alpha,this.color=null===a.mColor?this.parent.color:
a.mColor,this.blendMode=a.mBlendMode===Ra.AUTO?this.parent.blendMode:a.mBlendMode,this.skipChildren=0>=a.mAlpha||!1===a.mVisible,this.skipSelf=!0===this.skipChildren||!1===this.mIsClipped||this.mIsClipped&&a.mClipRect.isEmpty)};ib.prototype.upload=function(a,b){b=this.gameObject;var c=b.worldTransformation;!0===this.skipChildren&&this.mCacheAsBitmapMatrixCache&&(c=this.mCacheAsBitmapMatrixCache,!1===b.mCacheAsBitmapDynamic&&(c=(new C).append(this.gameObject.worldTransformation).append(this.mBakeInvertedMatrix).append(this.mCacheAsBitmapMatrixCache)));
if(!0===this.skipChildren||!0===this.endPassRequired)a.setSnapToPixels(b.snapToPixels),a.setTransform(c),a.setGlobalAlpha(this.alpha),a.setGlobalBlendMode(this.blendMode);!0===this.endPassRequired&&a.beginClip(b.mClipRect,b.mPivotX,b.mPivotY)};ib.prototype.render=function(a,b){!0===this.skipChildren&&!0===b.isBackBufferActive&&a.drawTexture(this.mCacheTexture)};ib.prototype.__refreshBitmapCache=function(){var a=this.gameObject.getBounds(r.stage,!0),b=r.stage.scaleFactor,c=r.driver.renderScaleFactor*
b,d=C.pool.get();d.set(1,0,0,1,~~(-a.x*b-r.stage.mX),~~(-a.y*b-r.stage.mY));!0===this.mIsClipped&&!0===this.skipChildren&&(d.data[4]+=this.gameObject.mPivotX*b,d.data[5]+=this.gameObject.mPivotY*b);null===this.mCacheBounds&&(this.mCacheBounds=new z);a.copyTo(this.mCacheBounds);a.width*=c;a.height*=c;null===this.mCacheTexture?this.mCacheTexture=new fb(a.width,a.height,1):this.mCacheTexture.resize(a.width,a.height,1);r.driver.render(this.gameObject,this.mCacheTexture,d);C.pool.release(d);null===this.mCacheAsBitmapMatrixCache&&
(this.mCacheAsBitmapMatrixCache=new C);this.mCacheAsBitmapMatrixCache.copyFrom(d);this.mCacheAsBitmapMatrixCache.scale(1/r.driver.renderScaleFactor,1/r.driver.renderScaleFactor);this.mCacheAsBitmapMatrixCache.data[4]=-this.mCacheAsBitmapMatrixCache.data[4];this.mCacheAsBitmapMatrixCache.data[5]=-this.mCacheAsBitmapMatrixCache.data[5];this.mBakeInvertedMatrix=this.gameObject.worldTransformationInverted.clone()};var ec=function(){return La.apply(this,arguments)||this};$jscomp.inherits(ec,La);ec.prototype.render=
function(a,b){La.prototype.render.call(this,a,b);a.drawTexture(K.getColoredTexture(this.texture,this.gameObject.mColor))};var fc=function(){return xb.apply(this,arguments)||this};$jscomp.inherits(fc,xb);fc.prototype.render=function(a,b){xb.prototype.render.call(this,a,b);a.drawTexture(K.getColoredTexture(this.texture,this.gameObject.mColor))};var yb=function(){};yb.prototype.getValue=function(){};yb.prototype.getValueAt=function(a){};var jb=function(){this.value=0;return this};$jscomp.inherits(jb,
yb);jb.prototype.getValue=function(){return this.getValueAt(Math.random())};var Y=function(a,b,c){a=void 0===a?0:a;b=void 0===b?null:b;c=void 0===c?null:c;var d=jb.call(this)||this;d.min=a;d.max=null===b?a:b;d.ease=c;return d};$jscomp.inherits(Y,jb);Y.prototype.getValueAt=function(a){null!==this.ease&&(a=this.ease(a));return this.value=this.min+a*(this.max-this.min)};Y.fromObject=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return b[0]instanceof jb?b[0]:new (Function.prototype.bind.apply(Y,
[null].concat($jscomp.arrayFromIterable(b))))};var za={PENDING:0,EMITTING:1,PAUSED:2,FINISHED:3},wc={FRONT_TO_BACK:"frontToBack",BACK_TO_FRONT:"backToFront"},L=function(a){this.mIsInitializer=void 0===a?!0:a;this.scatter=null;this.isActive=!0};L.prototype.preUpdate=function(a){};L.prototype.update=function(a,b,c){};L.prototype.postUpdate=function(a){};$jscomp.global.Object.defineProperties(L.prototype,{isInitializer:{configurable:!0,enumerable:!0,get:function(){return this.mIsInitializer}}});var gc=
function(){this.textureIndex=0;this.life=this.alpha=this.scaleY=this.scaleX=1;this.age=0;this.energy=this.age/this.life;this.ay=this.ax=this.vy=this.vx=this.r=this.y=this.x=this.mass=0;this.color=null;this.anchorY=this.anchorX=.5};gc.prototype.reset=function(){this.scaleX=this.scaleY=this.alpha=this.life=1;this.textureIndex=this.age=this.energy=this.mass=this.x=this.y=this.r=this.vx=this.vy=this.ax=this.ay=0;this.anchorX=this.anchorY=.5};gc.prototype.update=function(a){0>=this.life?this.life=0:(this.x+=
this.vx*a,this.y+=this.vy*a,0<this.mass&&(this.ax*=1/this.mass,this.ay*=1/this.mass),this.vx+=this.ax*a,this.vy+=this.ay*a,this.ay=this.ax=0,this.life-=a,this.age+=a,this.energy=this.age/(this.age+this.life))};var va=function(){var a=aa.call(this)||this;a.mTextures=[];a.mParticles=[];a.mRecycled=[];a.mInitializers=[];a.mActions=[];a.mSpace=null;a.mIsLocal=!0;a.mMaxParticles=1E4;a.mEmitCount=new Y(10);a.mEmitNumRepeats=new Y(0,Number.MAX_SAFE_INTEGER);a.mEmitNumRepeatsLeft=a.mEmitNumRepeats.getValue();
a.mEmitDuration=new Y(1/60);a.mEmitDurationLeft=a.mEmitDuration.getValue();a.mEmitInterval=new Y(1/60);a.mEmitIntervalLeft=a.mEmitInterval.getValue();a.mEmitDelay=new Y(1);a.mEmitDelayLeft=a.mEmitDelay.getValue();a.mNextUpdateAt=0;a.mState=za.PENDING;a.__tmpLocal=new C;a.__tmpWorld=new C;a.mSortOrder=wc.FRONT_TO_BACK;a.mTextureNames=null;a.mPresimulateSeconds=0;a.mCurrentPresimulationTime=0;return a};$jscomp.inherits(va,aa);va.prototype.play=function(){this.mState!==za.EMITTING&&this.mState!==za.PAUSED&&
(this.mEmitNumRepeatsLeft=this.mEmitNumRepeats.getValue(),this.mEmitDurationLeft=this.mEmitDuration.getValue(),this.mEmitIntervalLeft=this.mEmitInterval.getValue(),this.mEmitDelayLeft=this.mEmitDelay.getValue(),this.mState=za.PENDING)};va.prototype.pause=function(){this.mState=za.PAUSED};va.prototype.stop=function(){this.mParticles=[];this.mRecycled=[];this.mState=za.FINISHED};va.prototype.simulate=function(a){n.isNumber(a);n.assert(0<a);this.mCurrentPresimulationTime=0;for(this.mPresimulateSeconds=
a;this.mCurrentPresimulationTime<=this.mPresimulateSeconds;)this.onUpdate(),this.mCurrentPresimulationTime+=r.time.delta;this.mCurrentPresimulationTime=this.mPresimulateSeconds=0};va.prototype.getRenderer=function(){return r.driver.getRenderer("Emitter",this)};va.prototype.add=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];for(c=0;c<b.length;c++){var d=b[c];d instanceof L?this.addModifier(d):aa.prototype.add.call(this,d)}return this};va.prototype.addModifier=function(a){a.isInitializer?
this.mInitializers.push(a):this.mActions.push(a);return a};va.prototype.removeModifier=function(a){var b=this.mActions;a.isInitializer&&(b=this.mInitializers);a=b.indexOf(a);return 0<=a?(b.splice(a,1),!0):!1};va.prototype.__getTime=function(){return r.time.now};va.prototype.updateNextTick=function(a){a=void 0===a?0:a;var b=r.time.now,c=!1;this.mState===za.PENDING&&(this.mNextUpdateAt=b+this.mEmitDelayLeft,this.mEmitDelayLeft-=a,0>=this.mEmitDelayLeft&&(this.mEmitDelayLeft=this.mEmitDelay.getValue(),
this.mState=za.EMITTING,c=!0));this.mState===za.EMITTING&&(0>=this.mEmitDurationLeft?(this.mEmitDurationLeft=this.mEmitDuration.getValue(),this.mEmitNumRepeatsLeft--,0>=this.mEmitNumRepeatsLeft?(this.mState=za.FINISHED,this.post(O.COMPLETE)):this.mState=za.PENDING):(c?(this.mNextUpdateAt=b,this.mEmitIntervalLeft=this.mEmitInterval.getValue()):(this.mEmitIntervalLeft-=a,this.mNextUpdateAt=b+this.mEmitIntervalLeft,0>=this.mEmitIntervalLeft&&(this.mEmitIntervalLeft=this.mEmitInterval.getValue())),this.mEmitDurationLeft-=
a))};va.prototype.onUpdate=function(){if(this.mState!==za.PAUSED){var a=r.time.delta;this.updateNextTick(a);r.time.now>=this.mNextUpdateAt&&this.mState===za.EMITTING&&this.__create(this.mEmitCount.getValue());for(var b=this.mActions.length,c=this.mParticles.length,d=0;d<b;d++)!0===this.mActions[d].isActive&&this.mActions[d].preUpdate(a);for(d=c;d--;){c=this.mParticles[d];for(var e=0;e<b;e++)!0===this.mActions[e].isActive&&this.mActions[e].update(this,c,a);c.update(a);0===c.life&&(this.mRecycled.push(c),
this.mParticles.splice(d,1))}for(c=0;c<b;c++)!0===this.mActions[c].isActive&&this.mActions[c].postUpdate(a);!0===this.mVisible&&0<this.mAlpha&&this.setDirty(1,!1)}};va.prototype.__create=function(a){var b=this.worldTransformation.clone();if(!1===this.mIsLocal){var c=this.mSpace.worldTransformationInverted.clone();b.prepend(c)}for(c=0;c<a;c++){if(0<this.mRecycled.length)var d=this.mRecycled.pop();else{if(this.mParticles.length>=this.mMaxParticles)break;d=new gc}d.reset();for(var e=0;e<this.mInitializers.length;e++)!0===
this.mInitializers[e].isActive&&this.mInitializers[e].update(this,d,0);!1===this.mIsLocal&&(b.transformXY(d.x,d.y,t.__cache),d.x=t.__cache.x,d.y=t.__cache.y);this.mParticles.push(d)}};$jscomp.global.Object.defineProperties(va.prototype,{state:{configurable:!0,enumerable:!0,get:function(){return this.mState}},maxParticles:{configurable:!0,enumerable:!0,get:function(){return this.mMaxParticles},set:function(a){if(0>a)throw Error("Bad argument error.");this.mMaxParticles=a}},emitCount:{configurable:!0,
enumerable:!0,get:function(){return this.mEmitCount},set:function(a){this.mEmitCount=a}},emitNumRepeats:{configurable:!0,enumerable:!0,get:function(){return this.mEmitNumRepeats},set:function(a){this.mEmitNumRepeats=a;this.mEmitNumRepeatsLeft=this.mEmitNumRepeats.getValue()}},emitDuration:{configurable:!0,enumerable:!0,get:function(){return this.mEmitDuration},set:function(a){this.mEmitDuration=a;this.mEmitDurationLeft=this.mEmitDuration.getValue()}},emitInterval:{configurable:!0,enumerable:!0,get:function(){return this.mEmitInterval},
set:function(a){this.mEmitInterval=a;this.mEmitIntervalLeft=this.mEmitInterval.getValue()}},emitDelay:{configurable:!0,enumerable:!0,get:function(){return this.mEmitDelay},set:function(a){this.mEmitDelay=a;this.mEmitDelayLeft=this.mEmitDelay.getValue()}},space:{configurable:!0,enumerable:!0,get:function(){return this.mSpace},set:function(a){this.mSpace=a;this.mIsLocal=null===this.mSpace||this.mSpace===this;this.setRenderDirty()}},textures:{configurable:!0,enumerable:!0,get:function(){return this.mTextures},
set:function(a){this.mTextures=a;n.assert(!(null===this.mTextures||0===this.mTextures.length),"At least one texture must be provided.");this.setRenderDirty()}},textureNames:{configurable:!0,enumerable:!0,get:function(){return this.mTextureNames},set:function(a){this.mTextureNames=a;this.textures=a.map(function(b){return r.assets.getTexture(b)})}},sortOrder:{configurable:!0,enumerable:!0,get:function(){return this.mSortOrder},set:function(a){this.mSortOrder=a;this.setRenderDirty()}}});var zb=function(){var a=
K.call(this)||this;a.isLocal=!1;a.__tmpLocal=new C;a.__tmpWorld=new C;return a};$jscomp.inherits(zb,K);zb.prototype.preRender=function(a,b){a=this.gameObject;this.endPassRequired=null!==this.gameObject.mClipRect&&!1===this.gameObject.mClipRect.isEmpty;this.skipChildren=!(0<a.mAlpha&&0<a.mTextures.length&&!0===a.mVisible);this.skipSelf=!(0<a.mTextures.length&&0<a.mParticles.length)};zb.prototype.render=function(a,b){b=this.gameObject;a.setSnapToPixels(b.snapToPixels);var c=b.mParticles.length,d=this.__tmpLocal,
e=this.__tmpWorld;d.identity();if(b.sortOrder===wc.FRONT_TO_BACK)for(var f=0;f<c;f++)this.__renderParticle(b.mParticles[f],d,e,a);else for(--c;0<c;c--)this.__renderParticle(b.mParticles[c],d,e,a)};zb.prototype.__renderParticle=function(a,b,c,d){var e=this.gameObject,f=e.textures[a.textureIndex],g=f.displayWidth*a.anchorX,h=f.displayHeight*a.anchorY;if(0===a.r)b.set(a.scaleX,0,0,a.scaleY,a.x-g*a.scaleX,a.y-h*a.scaleY);else{var k=Math.cos(a.r),p=Math.sin(a.r),q=a.scaleX*k,m=a.scaleX*p;p=a.scaleY*-p;
k*=a.scaleY;b.set(q,m,p,k,a.x-g*q-h*p,a.y-g*m-h*k)}!0===e.mIsLocal?(c.identity(),c.copyFrom(b),c.prepend(e.worldTransformation)):(c.copyFrom(e.mSpace.worldTransformation),c.append(b));d.setGlobalAlpha(e.mAlpha*a.alpha);d.setTransform(c);d.drawTexture(K.getColoredTexture(f,null===a.color?e.mColor:a.color))};var Ab=function(){var a=K.call(this)||this;a.pattern=null;a.patternTexture=null;a.sliceTextureCache=null;a.sizeWidthCache=null;a.sizeHeightCache=null;a.textureCache=null;return a};$jscomp.inherits(Ab,
K);Ab.prototype.preRender=function(a,b){a=this.gameObject;b=null!==a.mClipRect&&a.mClipRect.isEmpty;this.endPassRequired=null!==a.mClipRect&&!a.mClipRect.isEmpty;this.skipChildren=b||0>=a.mAlpha||!1===a.mVisible;this.skipSelf=b||null===a.mTexture||0>=a.mAlpha||!1===a.mVisible};Ab.prototype.renderSlice9Grid=function(a,b,c){var d=a.mDevicePixelRatio,e=b.width*this.gameObject.mScaleX,f=b.height*this.gameObject.mScaleY;if(this.textureCache===b&&this.sizeWidthCache===e&&this.sizeHeightCache===f)return this.sliceTextureCache;
this.textureCache=b;this.sizeWidthCache=e;this.sizeHeightCache=f;a=b.region.x;var g=b.region.y,h=b.region.width,k=b.region.height,p=b.untrimmedRegion.x*d;d*=b.untrimmedRegion.y;null===this.sliceTextureCache?this.sliceTextureCache=new fb(e,f,1/b.scale):this.sliceTextureCache.resize(e,f,1/b.scale);var q=this.sliceTextureCache.renderTarget.context,m=Math.min(this.gameObject.scaleX,this.gameObject.scaleY);1>=m&&(q.setTransform(m,0,0,m,0,0),e/=m,f/=m);m=c.x/b.scale;var u=c.y/b.scale,v=h-c.right/b.scale;
c=k-c.bottom/b.scale;var y=a+h-v,G=p+e/b.scale-v,H=g+k-c,W=d+f/b.scale-c;q.drawImage(b.native,a,g,m,u,p,d,m,u);q.drawImage(b.native,y,g,v,u,G,d,v,u);q.drawImage(b.native,y,H,v,c,G,W,v,c);q.drawImage(b.native,a,H,m,c,p,W,m,c);y=a+m;G=p+m;H=g+u;W=d+u;var ta=a+h-v,xa=p+e/b.scale-v,vc=g+k-c,Ka=d+f/b.scale-c;h=h-m-v;e=e/b.scale-m-v;k=k-u-c;f=f/b.scale-u-c;q.drawImage(b.native,y,g,h,u,G,d,e,u);q.drawImage(b.native,ta,H,v,k,xa,W,v,f);q.drawImage(b.native,y,vc,h,c,G,Ka,e,c);q.drawImage(b.native,a,H,m,k,p,
W,m,f);q.drawImage(b.native,y,H,h,k,G,W,e,f);return this.sliceTextureCache};Ab.prototype.render=function(a,b){b=a.mCtx;var c=this.gameObject,d=K.getColoredTexture(c.mTexture,this.color);if(null!==c.mSlice9grid){var e=this.gameObject.worldTransformation.data;e=C.pool.get().set(e[0]/this.gameObject.scaleX,e[1]/this.gameObject.scaleX,e[2]/this.gameObject.scaleY,e[3]/this.gameObject.scaleY,e[4],e[5]);a.setTransform(e);C.pool.release(e);d=this.renderSlice9Grid(a,d,c.mSlice9grid)}if(null===c.mTiling)a.drawTexture(d);
else{if(null===this.pattern||this.patternTexture!==d){e=new db(d.width,d.height);var f=d.region,g=d.untrimmedRegion;e.context.drawImage(d.native,f.x,f.y,f.width,f.height,g.x,g.y,f.width,f.height);this.pattern=b.createPattern(e.native,"repeat");this.patternTexture=d}b.fillStyle=this.pattern;d=a.renderScaleFactor;e=c.worldTransformation.clone();e.scale(c.tiling.scaleX*d,c.tiling.scaleY*d);e.translate(c.tiling.wrapX/d,c.tiling.wrapY/d);a.setTransform(e);b.fillRect(-c.tiling.wrapX,-c.tiling.wrapY,c.tiling.width/
c.tiling.scaleX,c.tiling.height/c.tiling.scaleY);b.fillStyle="black"}};var Bb=function(){return dc.call(this)||this};$jscomp.inherits(Bb,dc);Bb.prototype.render=function(a,b){b=this.gameObject;this.__drawCommandBuffer(a);null!==b.mColor&&16777215!==b.mColor&&(a.context.globalCompositeOperation="multiply",this.__drawCommandBuffer(a,b.mColor))};Bb.prototype.__drawCommandBuffer=function(a,b){b=void 0===b?null:b;var c=this.gameObject,d=a.context;d.save();d.beginPath();var e=C.pool.get().copyFrom(c.worldTransformation);
e.translate(-c.mDataOffsetX,-c.mDataOffsetY);this.__renderNode(a,b,c.mGraphicsData,e);C.pool.release(e);d.restore()};Bb.prototype.__renderNode=function(a,b,c,d){var e=c.mCommandQueue,f=a.context,g=e.length,h=a.renderScaleFactor,k=c.mPivotX,p=c.mPivotY;d=d.clone().append(c.mTransform);a.setTransform(d);for(var q=0;q<g;q++){var m=e[q];switch(m.type){case I.LINE_STYLE:f.lineWidth=m.getNumber(0)*h;f.strokeStyle=x.intToRGBA(null===b?m.getNumber(1):b,m.getNumber(2));f.lineCap=m.getString(3);f.lineJoin=
m.getString(4);f.miterLimit=m.getNumber(5);break;case I.FILL_STYLE:f.fillStyle=x.intToRGBA(null===b?m.getNumber(0):b,m.getNumber(1));break;case I.FILL_GRD:var u=m.getObject(0),v=u.native;if(!v){v=r.driver.renderScaleFactor;var y=[];v=u.native=f.createLinearGradient(u.x0*v,u.y0*v,u.x1*v,u.y1*v);for(var G in u.stops)y.push({percent:parseFloat(G),color:u.stops[G]});y.sort(function(W,ta){return W.percent-ta.percent});u=0;for(var H=y.length;u<H;u++)m=y[u],v.addColorStop(m.percent,m.color)}f.fillStyle=
v;break;case I.FILL_PATTERN:y=m.getObject(0);v=y.native;v||(v=y.native=f.createPattern(y.image,y.repetition));f.fillStyle=v;break;case I.ARC:f.arc(m.getNumber(0)*h-k,m.getNumber(1)*h-p,m.getNumber(2)*h,m.getNumber(3),m.getNumber(4),m.getBoolean(5));break;case I.RECT:f.rect(m.getNumber(0)*h-k,m.getNumber(1)*h-p,m.getNumber(2)*h,m.getNumber(3)*h);break;case I.ROUNDED_RECT:y=m.getNumber(0);v=m.getNumber(1);u=m.getNumber(2);H=m.getNumber(3);m=m.getNumber(4);f.moveTo(y*h-k,(v+m)*h-p);f.quadraticCurveTo(y*
h-k,v*h-p,(y+m)*h-k,v*h-p);f.lineTo((y+u-m)*h-k,v*h-p);f.quadraticCurveTo((y+u)*h-k,v*h-p,(y+u)*h-k,(v+m)*h-p);f.lineTo((y+u)*h-k,(v+H-m)*h-p);f.quadraticCurveTo((y+u)*h-k,(v+H)*h-p,(y+u-m)*h-k,(v+H)*h-p);f.lineTo((y+m)*h-k,(v+H)*h-p);f.quadraticCurveTo(y*h-k,(v+H)*h-p,y*h-k,(v+H-m)*h-p);f.closePath();break;case I.BEZIER_CURVE_TO:f.bezierCurveTo(m.getNumber(0)*h-k,m.getNumber(1)*h-p,m.getNumber(2)*h-k,m.getNumber(3)*h-p,m.getNumber(4)*h-k,m.getNumber(5)*h-p);break;case I.QUADRATIC_CURVE_TO:f.quadraticCurveTo(m.getNumber(0)*
h-k,m.getNumber(1)*h-p,m.getNumber(2)*h-k,m.getNumber(3)*h-p);break;case I.BEGIN_PATH:f.beginPath();break;case I.CLOSE_PATH:f.closePath();break;case I.FILL:f.fill(!0===m.getBoolean(0)?"nonzero":"evenodd");break;case I.LINE_TO:f.lineTo(m.getNumber(0)*h-k,m.getNumber(1)*h-p);break;case I.MOVE_TO:f.moveTo(m.getNumber(0)*h-k,m.getNumber(1)*h-p);break;case I.LINE_DASH:f.setLineDash(m.getNumber(0));break;case I.STROKE:f.stroke();break;case I.SHADOW_BLUR:f.shadowBlur=m.getNumber(0)*h;break;case I.SHADOW_COLOR:y=
x.intToRGBA(null===b?m.getNumber(0):b,m.getNumber(1));f.shadowColor=y;break;case I.BOUNDS:break;default:n.error("Unsupported canvas command '"+m.type+"'.")}}e=0;for(f=c.mNodes.length;e<f;e++)this.__renderNode(a,b,c.mNodes[e],d)};var U=function(a,b,c){this.mContainerElement=a;this.mClientWidth=b;this.mClientHeight=c;this.mTransform=new C;this.mIdentityMatrix=new C;this.mActiveSession=new cc;this.mSessions=[];this.mLastRenderTexture=null;this.mSnapToPixels=!1;this.mDevicePixelRatio=!0===r.engine.useHiDPR?
r.device.getDevicePixelRatio():1;this.mGlobalBlendMode=Ra.AUTO;this.mGlobalAlpha=1;this.mStageRenderer=new K;this.mRendererMap={};r.engine.viewport.on("resize",this.__onResize,this)};U.prototype.render=function(a,b,c){};U.prototype.getRenderer=function(a,b){return null};U.prototype.__saveSession=function(){var a=U.sessionPool.get();a.reset();this.mSessions.push(a);return this.mActiveSession=a};U.prototype.__restoreSession=function(){this.mSessions.pop();this.mActiveSession=this.mSessions[this.mSessions.length-
1]||null};U.prototype.__collectParentRenderables=function(a,b,c){var d=b;if(null!==d){b=[];for(d=d.parent;null!==d;d=d.parent)b.splice(0,0,d);for(var e=0;e<b.length;e++)d=b[e],d=d.mRenderer,null!=d&&(a.parentRenderers.push(d),d.parent=c,c=d,d.preRender(this,a),!0===d.endPassRequired&&a.endPassParentRenderers.push(d))}};U.prototype.beginClip=function(a,b,c){};U.prototype.endClip=function(){};U.prototype.__onResize=function(a,b){K.__dirty=!0;a=this.mContainerElement.clientHeight;this.mClientWidth=this.mContainerElement.clientWidth;
this.mClientHeight=a};U.prototype.start=function(){};U.prototype.beginFrame=function(){this.clear()};U.prototype.endFrame=function(){};U.prototype.getTextureFromCanvas=function(a){return null};U.prototype.setTransform=function(a){this.mTransform=a};U.prototype.setSnapToPixels=function(a){this.mSnapToPixels=a};U.prototype.getGlobalAlpha=function(){return this.mGlobalAlpha};U.prototype.setGlobalAlpha=function(a){this.mGlobalAlpha=a};U.prototype.getGlobalBlendMode=function(){return this.mGlobalBlendMode};
U.prototype.setGlobalBlendMode=function(a){this.mGlobalBlendMode=a};U.prototype.drawTexture=function(a){};U.prototype.drawTextureWithOffset=function(a,b,c){};U.prototype.clear=function(){};U.prototype.dispose=function(){U.sessionPool.releaseAll()};$jscomp.global.Object.defineProperties(U.prototype,{context:{configurable:!0,enumerable:!0,get:function(){return null}},renderScaleFactor:{configurable:!0,enumerable:!0,get:function(){return this.mDevicePixelRatio}}});U.sessionPool=new T(cc);var pa=function(a,
b,c){a=U.call(this,a,b,c)||this;a.mCtx=null;a.__createCanvas();a.mRendererMap={DisplayObject:ib,Sprite:Ab,Emitter:zb,Text:ec,BitmapText:fc,Graphics:Bb};return a};$jscomp.inherits(pa,U);pa.prototype.getRenderer=function(a,b){a=new this.mRendererMap[a];a.gameObject=b;return a};pa.prototype.render=function(a,b,c){b=void 0===b?null:b;c=void 0===c?null:c;var d=null===b;if(!0!==K.skipUnchangedFrames||!0!==d||!1!==K.__dirty){var e=this.__saveSession();e.isBackBufferActive=d;e.customTransform=c;c=this.mStageRenderer;
if(null!==b){this.mLastRenderTexture=this.mCtx;this.mCtx=b.renderTarget.context;this.mGlobalAlpha=-1;this.mGlobalBlendMode=null;c.alpha=1;c.blendMode=Ra.NORMAL;c.color=null;this.__collectParentRenderables(e,a,this.mStageRenderer);d=0;for(var f=e.parentRenderers.length;d!==f;d++){var g=e.parentRenderers[d];g.begin(this,e);!1===g.skipSelf&&g.upload(this,e)}0<e.parentRenderers.length&&(c=e.parentRenderers[e.parentRenderers.length-1])}this.renderObject(a,e,c);if(null!==b){for(;0<e.endPassParentRenderers.length;)e.endPassParentRenderers.pop().end(this,
e);this.mCtx=this.mLastRenderTexture;this.mGlobalAlpha=-1;this.mGlobalBlendMode=null}this.__restoreSession()}};pa.prototype.renderObject=function(a,b,c){var d=!1,e=a.mRenderer;if(null!=e){e.parent=c;e.preRender(this,b);for(d=0;d<a.mComponents.length;d++)a.mComponents[d].onRender();a.onRender();e.begin(this,b);!1===e.skipSelf&&(e.upload(this,b),e.render(this,b));d=e.skipChildren}if(!1===d)for(d=0;d<a.mChildren.length;d++)this.renderObject(a.mChildren[d],b,e||c);null!=e&&!0===e.endPassRequired&&e.end(this,
b)};pa.prototype.__createCanvas=function(){var a=this.mDevicePixelRatio,b=document.createElement("canvas");b.style.position="absolute";b.id="canvas";b.width=this.mClientWidth*a;b.height=this.mClientHeight*a;b.style.width=this.mClientWidth+"px";b.style.height=this.mClientHeight+"px";this.mContainerElement.appendChild(b);this.mCtx=b.getContext("2d")};pa.prototype.__onResize=function(a,b){U.prototype.__onResize.call(this,a,b);this.mGlobalBlendMode=null;this.mGlobalAlpha=-1;a=this.mDevicePixelRatio;this.mCtx.canvas.width=
this.mClientWidth*a;this.mCtx.canvas.height=this.mClientHeight*a;this.mCtx.canvas.style.width=this.mClientWidth+"px";this.mCtx.canvas.style.height=this.mClientHeight+"px"};pa.prototype.drawTexture=function(a){if(!1!==a.isValid){var b=this.mDevicePixelRatio;this.mCtx.drawImage(a.native,a.region.x,a.region.y,a.region.width,a.region.height,a.untrimmedRegion.x*b,a.untrimmedRegion.y*b,a.renderWidth*b,a.renderHeight*b)}};pa.prototype.drawTextureWithOffset=function(a,b,c){if(!1!==a.isValid){var d=this.mDevicePixelRatio;
this.mCtx.drawImage(a.native,a.region.x,a.region.y,a.region.width,a.region.height,(b+a.untrimmedRegion.x)*d,(c+a.untrimmedRegion.y)*d,a.renderWidth*d,a.renderHeight*d)}};pa.prototype.beginClip=function(a,b,c){var d=this.mDevicePixelRatio;this.mCtx.save();this.mCtx.beginPath();this.mCtx.rect((a.x+b)*d,(a.y+c)*d,a.width*d,a.height*d);this.mCtx.clip()};pa.prototype.endClip=function(){this.mCtx.restore();this.mGlobalAlpha=-1;this.mGlobalBlendMode=null};pa.prototype.setTransform=function(a){var b=this.mDevicePixelRatio,
c=this.mActiveSession;!1===c.isBackBufferActive&&(null===c.customTransform?(a=a.clone(),a.data[4]-=r.stage.mX,a.data[5]-=r.stage.mY):(a=a.clone(),a.prepend(c.customTransform)));null!==r.camera&&(a=a.clone(),a.prepend(r.camera.worldTransformationInverted));this.mTransform=a;a=a.value;n.isNumber(a[0],a[1],a[2],a[3],a[4],a[5]);!0===this.mSnapToPixels?this.mCtx.setTransform(a[0],a[1],a[2],a[3],a[4]*b|0,a[5]*b|0):this.mCtx.setTransform(a[0],a[1],a[2],a[3],a[4]*b,a[5]*b)};pa.prototype.setGlobalAlpha=function(a){n.isNumber(a);
a!=this.mGlobalAlpha&&(this.mGlobalAlpha=a,this.mCtx.globalAlpha=a)};pa.prototype.setGlobalBlendMode=function(a){a!==Ra.AUTO&&(a=md[a],this.mGlobalBlendMode!==a&&(this.mGlobalBlendMode=a,this.mCtx.globalCompositeOperation=a))};pa.prototype.clear=function(){if(!0!==K.skipUnchangedFrames||!1!==K.__dirty){this.mCtx.setTransform(1,0,0,1,0,0);var a=r.engine.viewport;!1===a.isTransparent?(this.mCtx.fillStyle=x.hexColorToString(a.backgroundColor),this.mCtx.fillRect(0,0,a.size.width*this.mDevicePixelRatio,
a.size.height*this.mDevicePixelRatio)):this.mCtx.clearRect(0,0,a.size.width*this.mDevicePixelRatio,a.size.height*this.mDevicePixelRatio)}};pa.prototype.getTextureFromCanvas=function(a){return new da(a)};pa.prototype.dispose=function(){U.prototype.dispose.call(this);null!==this.mCtx&&this.mCtx.canvas.remove()};$jscomp.global.Object.defineProperties(pa.prototype,{context:{configurable:!0,enumerable:!0,get:function(){return this.mCtx}}});var Cb=function(a,b){a=void 0===a?null:a;b=void 0===b?!0:b;var c=
aa.call(this)||this;c.mTexture=null;c.mTextureName=null;c.mTiling=null;c.mSlice9grid=null;c.mUseTextureProps=b;null!==a&&a.constructor===String?(c.mTextureName=a,c.texture=r.assets.getTexture(a)):c.texture=a;return c};$jscomp.inherits(Cb,aa);Cb.prototype.getRenderer=function(){return r.driver.getRenderer("Sprite",this)};Cb.prototype.onGetLocalBounds=function(a){a=a||new z;if(!this.mTexture)return a;null!==this.mClipRect?this.mClipRect.copyTo(a):null!==this.tiling?a.set(0,0,this.tiling.width,this.tiling.height):
a.set(0,0,this.mTexture.displayWidth,this.mTexture.displayHeight);return a};$jscomp.global.Object.defineProperties(Cb.prototype,{texture:{configurable:!0,enumerable:!0,get:function(){return this.mTexture},set:function(a){this.mTexture!==a&&(null===a?this.mTextureName=this.mTexture=null:(this.mTexture=a,!0===this.mUseTextureProps&&(a.slice9borders&&(this.slice9grid=a.slice9borders.clone()),null!==a.registrationPoint&&this.alignPivotOffset(a.registrationPoint.x,a.registrationPoint.y))),this.setDirty(16,
!1),this.setRenderDirty())}},textureName:{configurable:!0,enumerable:!0,get:function(){return this.mTextureName},set:function(a){this.mTextureName!==a&&(null===a?this.texture=null:(this.mTextureName=a,this.texture=r.assets.getTexture(a)))}},tiling:{configurable:!0,enumerable:!0,get:function(){return this.mTiling},set:function(a){this.mTiling=a;this.setRenderDirty();this.setDirty(16,!1)}},slice9grid:{configurable:!0,enumerable:!0,get:function(){return this.mSlice9grid},set:function(a){this.mSlice9grid=
a;this.setRenderDirty();this.setDirty(16,!1)}}});var cd={NONE:"none",LEFT:"left",RIGHT:"right",CENTER:"center"},dd={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Ha=function(a,b,c,d,e,f,g,h){a=void 0===a?"":a;b=void 0===b?"sans-serif":b;c=void 0===c?0:c;d=void 0===d?14:d;e=void 0===e?Hb.NORMAL:e;f=void 0===f?Wb.NORMAL:f;g=void 0===g?0:g;h=void 0===h?16777215:h;var k=aa.call(this)||this;k.mText=a;k.mCacheBounds=new z;k.mTextWidth=0;k.mTextHeight=0;k.mDefaultStyle=new ab(b,c,d,e,f,g,h);k.mStyles={};k.mAutoSize=
!0;k.mAlign=cd.LEFT;k.mVerticalAlign=dd.MIDDLE;k.mMultiline=!1;k.mLineHeight=1.2;k.mTextBounds=new z;k.mFieldWidth=0;k.mFieldHeight=0;k.mPadding=new z(0,0,0,0);k.mMetrics=null;k.mHighQuality=!1;return k};$jscomp.inherits(Ha,aa);Ha.prototype.getRenderer=function(){return r.driver.getRenderer("Text",this)};Ha.prototype.onGetLocalBounds=function(a){a=a||new z;if(this.mDirty&16){var b=this.text;!1===this.mMultiline&&(b=b.replace(/\n/g,""));var c=[this.mDefaultStyle],d;for(d in this.mStyles)c.push(this.mStyles[d]);
this.mMetrics=cb.measure.apply(cb,[b,this.mLineHeight].concat($jscomp.arrayFromIterable(c)));this.mTextBounds.copyFrom(this.mMetrics.bounds)}if(null!==this.mClipRect)return this.mClipRect.copyTo(a),a;!1===this.mAutoSize?(a.width=this.mFieldWidth,a.height=this.mFieldHeight):(a.width=this.mTextBounds.width,a.height=this.mTextBounds.height);a.width+=this.mPadding.right;a.height+=this.mPadding.bottom;return a};Ha.prototype.setStyle=function(a,b){n.assert("def"!==a,"Please use 'setDefaultStyle' instead.");
b.name=a;this.mStyles[a]=b;this.setDirty(16,!1);this.setTransformDirty()};Ha.prototype.setDefaultStyle=function(a){this.mDefaultStyle=a;this.setDirty(16,!1);this.setTransformDirty()};Ha.prototype.removeStyle=function(a){delete this.mStyles[a];this.setDirty(16,!1);this.setTransformDirty()};Ha.prototype.getStyle=function(a){return this.mStyles.hasOwnProperty(a)?this.mStyles[a]:null};Ha.prototype.getAllStyles=function(){var a=[],b;for(b in this.mStyles)a.push(this.mStyles[b]);return a};Ha.prototype.getDefaultStyle=
function(a){return this.mDefaultStyle};$jscomp.global.Object.defineProperties(Ha.prototype,{multiline:{configurable:!0,enumerable:!0,set:function(a){this.mMultiline=a;this.setDirty(16,!1);this.setTransformDirty()},get:function(){return this.mMultiline}},lineHeight:{configurable:!0,enumerable:!0,set:function(a){this.mLineHeight=a;this.setDirty(16,!1);this.setTransformDirty()},get:function(){return this.mLineHeight}},size:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.size},
set:function(a){this.mDefaultStyle.size!==a&&(this.mDefaultStyle.size=a,this.setDirty(16,!1),this.setTransformDirty())}},font:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.family},set:function(a){this.mDefaultStyle.family!==a&&(this.mDefaultStyle.family=a,this.setDirty(16,!1),this.setTransformDirty())}},textColor:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.color},set:function(a){this.mDefaultStyle.color!==a&&(this.mDefaultStyle.color=a,this.setDirty(16,
!1),this.setTransformDirty())}},textAlpha:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.alpha},set:function(a){this.mDefaultStyle.alpha!==a&&(this.mDefaultStyle.alpha=a,this.setDirty(16,!1),this.setTransformDirty())}},fontStyle:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.style},set:function(a){this.mDefaultStyle.style!==a&&(this.mDefaultStyle.style=a,this.setDirty(16,!1),this.setTransformDirty())}},weight:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.weight},
set:function(a){this.mDefaultStyle.weight!==a&&(this.mDefaultStyle.weight=a,this.setDirty(16,!1),this.setTransformDirty())}},align:{configurable:!0,enumerable:!0,get:function(){return this.mAlign},set:function(a){this.mAlign!==a&&(this.mAlign=a,this.setDirty(16,!1),this.setTransformDirty())}},vAlign:{configurable:!0,enumerable:!0,get:function(){return this.mVerticalAlign},set:function(a){this.mVerticalAlign!==a&&(this.mVerticalAlign=a,this.setDirty(16,!1),this.setTransformDirty())}},strokeColor:{configurable:!0,
enumerable:!0,get:function(){return this.mDefaultStyle.strokeColor},set:function(a){this.mDefaultStyle.strokeColor!==a&&(this.mDefaultStyle.strokeColor=a,this.setDirty(24,!1))}},strokeAlpha:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.strokeAlpha},set:function(a){this.mDefaultStyle.strokeAlpha!==a&&(this.mDefaultStyle.strokeAlpha=a,this.setDirty(24,!1))}},strokeThickness:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.strokeThickness},set:function(a){a!==
this.mDefaultStyle.strokeThickness&&(this.mDefaultStyle.strokeThickness=a,this.setDirty(24,!1))}},fieldWidth:{configurable:!0,enumerable:!0,get:function(){return this.mFieldWidth},set:function(a){a!==this.mFieldWidth&&(this.mFieldWidth=a,this.setDirty(16,!1),this.setTransformDirty())}},fieldHeight:{configurable:!0,enumerable:!0,get:function(){return this.mFieldHeight},set:function(a){a!==this.mFieldHeight&&(this.mFieldHeight=a,this.setDirty(16,!1),this.setTransformDirty())}},text:{configurable:!0,
enumerable:!0,get:function(){return this.mText},set:function(a){this.mText!==a&&(this.mText=a,this.setDirty(16,!1),this.setTransformDirty(),this.post(O.CHANGE))}},autoSize:{configurable:!0,enumerable:!0,get:function(){return this.mAutoSize},set:function(a){this.mAutoSize!==a&&(this.mAutoSize=a,this.setDirty(16,!1),this.setTransformDirty())}},padding:{configurable:!0,enumerable:!0,get:function(){return this.mPadding},set:function(a){this.mPadding=a;this.setDirty(16,!1);this.setTransformDirty()}},dropShadow:{configurable:!0,
enumerable:!0,get:function(){return this.mDefaultStyle.dropShadow},set:function(a){a!==this.mDefaultStyle.dropShadow&&(this.mDefaultStyle.dropShadow=a,this.setDirty(16,!1),this.setTransformDirty())}},shadowColor:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowColor},set:function(a){a!==this.mDefaultStyle.shadowColor&&(this.mDefaultStyle.shadowColor=a,this.setDirty(24,!1))}},shadowAlpha:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowAlpha},
set:function(a){a!==this.mDefaultStyle.shadowAlpha&&(this.mDefaultStyle.shadowAlpha=a,this.setDirty(24,!1))}},shadowBlur:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowBlur},set:function(a){a!==this.mDefaultStyle.shadowBlur&&(this.mDefaultStyle.shadowBlur=a,this.setDirty(24,!1))}},shadowDistanceX:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowDistanceX},set:function(a){a!==this.mDefaultStyle.shadowDistanceX&&(this.mDefaultStyle.shadowDistanceX=
a,this.setDirty(24,!1))}},shadowDistanceY:{configurable:!0,enumerable:!0,get:function(){return this.mDefaultStyle.shadowDistanceY},set:function(a){a!==this.mDefaultStyle.shadowDistanceY&&(this.mDefaultStyle.shadowDistanceY=a,this.setDirty(24,!1))}},highQuality:{configurable:!0,enumerable:!0,get:function(){return this.mHighQuality},set:function(a){this.mHighQuality=a;this.setDirty(16,!1);this.setTransformDirty()}}});var Vb=function(a,b){b=void 0===b?"":b;var c=aa.call(this)||this;c.mData=null!==a&&
a.constructor===String?r.assets.getBitmapFont(a):a;c.mText=b;c.mAutoSize=!0;c.mMultiline=!1;c.mLineHeight=1.2;c.mBounds=new z;c.mTextBounds=new z;c.mFieldWidth=0;c.mFieldHeight=0;return c};$jscomp.inherits(Vb,aa);Vb.prototype.getRenderer=function(){return r.driver.getRenderer("BitmapText",this)};Vb.prototype.onGetLocalBounds=function(a){a=a||new z;if(null!==this.mClipRect)return this.mClipRect.copyTo(a),a;if(this.mDirty&16){var b=this.text;!1===this.mMultiline&&(b=b.replace(/\n/g,""));cb.measureBitmap(b,
this.mData,this.mLineHeight,this.mTextBounds)}!1===this.mAutoSize?(a.width=this.mFieldWidth,a.height=this.mFieldHeight):(a.width=this.mTextBounds.width,a.height=this.mTextBounds.height);return a};$jscomp.global.Object.defineProperties(Vb.prototype,{multiline:{configurable:!0,enumerable:!0,set:function(a){this.mMultiline=a;this.setDirty(16,!1)},get:function(){return this.mMultiline}},lineHeight:{configurable:!0,enumerable:!0,set:function(a){this.mLineHeight=a;this.setDirty(16,!1)},get:function(){return this.mLineHeight}},
fieldWidth:{configurable:!0,enumerable:!0,get:function(){return this.mFieldWidth},set:function(a){a!==this.mFieldWidth&&(this.mFieldWidth=a,this.setDirty(16,!1))}},fieldHeight:{configurable:!0,enumerable:!0,get:function(){return this.mFieldHeight},set:function(a){a!==this.mFieldHeight&&(this.mFieldHeight=a,this.setDirty(16,!1))}},text:{configurable:!0,enumerable:!0,get:function(){return this.mText},set:function(a){this.mText!==a&&(this.mText=a,this.setDirty(16,!1))}},autoSize:{configurable:!0,enumerable:!0,
get:function(){return this.mAutoSize},set:function(a){this.mAutoSize!==a&&(this.mAutoSize=a,this.setDirty(16,!1))}}});var Ma=function(){this.value=new t;return this};$jscomp.inherits(Ma,yb);Ma.prototype.getValue=function(){return this.getValueAt(Math.random())};var Db=function(){this.value=0;return this};$jscomp.inherits(Db,yb);Db.prototype.getValue=function(){return this.getValueAt(Math.random())};var Wa=function(a,b,c){b=void 0===b?null:b;c=void 0===c?null:c;var d=Db.call(this)||this;d.startColor=
a;d.endColor=null===b?a:b;d.ease=c;return d};$jscomp.inherits(Wa,Db);Wa.prototype.getValueAt=function(a){null!==this.ease&&(a=this.ease(a));return this.value=this.startColor===this.endColor?this.startColor:x.lerpHSV(this.startColor,this.endColor,a)};Wa.fromObject=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return b[0]instanceof Db?b[0]:new (Function.prototype.bind.apply(Wa,[null].concat($jscomp.arrayFromIterable(b))))};var sa=function(a,b,c,d,e){a=void 0===a?0:a;b=void 0===
b?0:b;c=void 0===c?null:c;d=void 0===d?null:d;e=void 0===e?null:e;var f=Ma.call(this)||this;f.minX=a;f.minY=b;f.maxX=null===c?a:c;f.maxY=null===d?b:d;f.ease=e;return f};$jscomp.inherits(sa,Ma);sa.prototype.getValue=function(){this.value.x=Math.random()*(this.maxX-this.minX)+this.minX;this.value.y=Math.random()*(this.maxY-this.minY)+this.minY;return this.value};sa.prototype.getValueAt=function(a){null!==this.ease&&(a=this.ease(a));this.value.x=this.minX+a*(this.maxX-this.minX);this.value.y=this.minY+
a*(this.maxY-this.minY);return this.value};sa.fromObject=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return b[0]instanceof Ma?b[0]:new (Function.prototype.bind.apply(sa,[null].concat($jscomp.arrayFromIterable(b))))};var hc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=Ma.call(this)||this;c.mCurve=new ea;c.mCurve.baked=!0;c.mCurve.set.apply(c.mCurve,$jscomp.arrayFromIterable(b));c.mPointsCache=b;c.mCache=new t;return c};$jscomp.inherits(hc,Ma);
hc.prototype.getValueAt=function(a){this.mCurve.interpolate(a,this.mCache);return this.mCache};$jscomp.global.Object.defineProperties(hc.prototype,{points:{configurable:!0,enumerable:!0,set:function(a){this.mPointsCache=a;this.mCurve.set.apply(this.mCurve,$jscomp.arrayFromIterable(a))},get:function(){return this.mPointsCache}}});var ic=function(a,b,c,d){a=void 0===a?0:a;b=void 0===b?0:b;c=void 0===c?0:c;d=void 0===d?null:d;var e=Ma.call(this)||this;e.x=a;e.y=b;e.minRadius=c;e.maxRadius=null===d?c:
d;return e};$jscomp.inherits(ic,Ma);ic.prototype.getValue=function(){return this.getValueAt(Math.random())};ic.prototype.getValueAt=function(a){var b=this.minRadius+a*(this.maxRadius-this.minRadius);a=2*Math.random()*Math.PI;b*=b;var c=this.y+Math.sqrt(b)*Math.sin(a);this.value.x=this.x+Math.sqrt(b)*Math.cos(a);this.value.y=c;return this.value};var jc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=jb.call(this)||this;c.mCurve=new ea;c.mCurve.baked=!0;c.mCurve.set.apply(c.mCurve,
$jscomp.arrayFromIterable(b));c.mPointsCache=b;c.mCache=new t;return c};$jscomp.inherits(jc,jb);jc.prototype.getValueAt=function(a){this.mCurve.interpolate(a,this.mCache);return this.value=this.mCache.y};$jscomp.global.Object.defineProperties(jc.prototype,{points:{configurable:!0,enumerable:!0,set:function(a){this.mPointsCache=a;this.mCurve.set.apply(this.mCurve,$jscomp.arrayFromIterable(a))},get:function(){return this.mPointsCache}}});var xc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-
0]=arguments[c];c=L.call(this,!1)||this;c.scatter=sa.fromObject.apply(sa,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(xc,L);xc.prototype.update=function(a,b,c){this.scatter.getValue();b.ax+=this.scatter.value.x;b.ay+=this.scatter.value.y};var yc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=Y.fromObject.apply(Y,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(yc,L);yc.prototype.update=function(a,b,c){b.alpha=this.scatter.getValueAt(b.energy)};
var zc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=Wa.fromObject.apply(Wa,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(zc,L);zc.prototype.update=function(a,b,c){b.color=this.scatter.getValueAt(b.energy)};var Ac=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=Y.fromObject.apply(Y,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Ac,L);Ac.prototype.update=function(a,
b,c){b.scaleX=b.scaleY=this.scatter.getValueAt(b.energy)};var Bc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=Y.fromObject.apply(Y,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Bc,L);Bc.prototype.update=function(a,b,c){b.r=this.scatter.getValueAt(b.energy)};var Cc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=Y.fromObject.apply(Y,$jscomp.arrayFromIterable(b));return c};
$jscomp.inherits(Cc,L);Cc.prototype.update=function(a,b,c){b.textureIndex=Math.round(this.scatter.getValueAt(b.energy))};var Dc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this,!1)||this;c.scatter=sa.fromObject.apply(sa,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Dc,L);Dc.prototype.update=function(a,b,c){this.scatter.getValueAt(b.energy);b.anchorX=this.scatter.value.x;b.anchorY=this.scatter.value.y};var Ec=function(a){a=void 0===a?0:a;var b=L.call(this,
!1)||this;b.angleShift=a;return b};$jscomp.inherits(Ec,L);Ec.prototype.update=function(a,b,c){b.r=(Math.atan2(b.vy,b.vx)*w.RAD2DEG-(90+this.angleShift))*c};var Eb=function(a,b,c,d,e){e=void 0===e?.1:e;var f=L.call(this,!1)||this;f.x=a;f.y=b;f.width=c;f.height=d;f.resolution=e;f.field=[];f.widthScaled=Math.floor(f.width*f.resolution);f.heightScaled=Math.floor(f.height*f.resolution);f.reset();return f};$jscomp.inherits(Eb,L);Eb.prototype.reset=function(){this.field.splice(0,this.field.length);for(var a=
0;a<this.heightScaled;a++)for(var b=0;b<this.widthScaled;b++)this.field.push(new t(0,0))};Eb.prototype.setData=function(a){for(var b=0;b<this.heightScaled;b++)for(var c=0;c<this.widthScaled;c++)a(c,b,this.field[c+b*this.widthScaled])};Eb.prototype.getVectorAt=function(a,b){a=Math.floor(a*this.resolution);b=Math.floor(b*this.resolution);a=~~(a+b*this.widthScaled);return 0>a||a>=this.field.length?null:this.field[a]};Eb.prototype.update=function(a,b,c){a=this.getVectorAt(b.x,b.y);null!==a&&(b.ax=a.x,
b.ay=a.y)};var Fc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=Y.fromObject.apply(Y,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Fc,L);Fc.prototype.update=function(a,b,c){b.life=this.scatter.getValue()};var Gc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=Y.fromObject.apply(Y,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Gc,L);Gc.prototype.update=function(a,b,c){b.mass=
this.scatter.getValue()};var Hc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=Y.fromObject.apply(Y,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Hc,L);Hc.prototype.update=function(a,b,c){b.scaleX=b.scaleY=this.scatter.getValue()};var Ic=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=sa.fromObject.apply(sa,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Ic,L);Ic.prototype.update=
function(a,b,c){this.scatter.getValue();b.vx=this.scatter.value.x;b.vy=this.scatter.value.y};var Jc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=sa.fromObject.apply(sa,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Jc,L);Jc.prototype.update=function(a,b,c){a=this.scatter.getValue();b.x=a.x;b.y=a.y};var Kc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=Y.fromObject.apply(Y,$jscomp.arrayFromIterable(b));
return c};$jscomp.inherits(Kc,L);Kc.prototype.update=function(a,b,c){b.r=this.scatter.getValue()};var Lc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=Y.fromObject.apply(Y,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Lc,L);Lc.prototype.update=function(a,b,c){b.textureIndex=Math.round(this.scatter.getValue())};var Mc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=Wa.fromObject.apply(Wa,
$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Mc,L);Mc.prototype.update=function(a,b,c){b.color=this.scatter.getValue()};var Nc=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=L.call(this)||this;c.scatter=sa.fromObject.apply(sa,$jscomp.arrayFromIterable(b));return c};$jscomp.inherits(Nc,L);Nc.prototype.update=function(a,b,c){a=this.scatter.getValue();b.anchorX=a.x;b.anchorY=a.y};var P=function(){};P.linear=function(a){return a};P.quadraticIn=function(a){return a*
a};P.quadraticOut=function(a){return a*(2-a)};P.quadraticInOut=function(a){return 1>(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)};P.cubicIn=function(a){return a*a*a};P.cubicOut=function(a){return--a*a*a+1};P.cubicInOut=function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)};P.quarticIn=function(a){return a*a*a*a};P.quarticOut=function(a){return 1- --a*a*a*a};P.quarticInOut=function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)};P.quinticIn=function(a){return a*a*a*a*a};P.quinticOut=function(a){return--a*
a*a*a*a+1};P.quinticInOut=function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)};P.sinusoidalIn=function(a){return 1-Math.cos(a*Math.PI/2)};P.sinusoidalOut=function(a){return Math.sin(a*Math.PI/2)};P.sinusoidalInOut=function(a){return.5*(1-Math.cos(Math.PI*a))};P.exponentialIn=function(a){return 0===a?0:Math.pow(1024,a-1)};P.exponentialOut=function(a){return 1===a?1:1-Math.pow(2,-10*a)};P.exponentialInOut=function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(-Math.pow(2,-10*
(a-1))+2)};P.circularIn=function(a){return 1-Math.sqrt(1-a*a)};P.circularOut=function(a){return Math.sqrt(1- --a*a)};P.circularInOut=function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)};P.elasticIn=function(a){return 0===a?0:1===a?1:-Math.pow(2,10*(a-1))*Math.sin(5*(a-1.1)*Math.PI)};P.elasticOut=function(a){return 0===a?0:1===a?1:Math.pow(2,-10*a)*Math.sin(5*(a-.1)*Math.PI)+1};P.elasticInOut=function(a){if(0===a)return 0;if(1===a)return 1;a*=2;return 1>a?-.5*Math.pow(2,
10*(a-1))*Math.sin(5*(a-1.1)*Math.PI):.5*Math.pow(2,-10*(a-1))*Math.sin(5*(a-1.1)*Math.PI)+1};P.backIn=function(a){return a*a*(2.70158*a-1.70158)};P.backOut=function(a){return--a*a*(2.70158*a+1.70158)+1};P.backInOut=function(a){return 1>(a*=2)?.5*a*a*(3.5949095*a-2.5949095):.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};P.bounceIn=function(a){return 1-P.bounceOut(1-a)};P.bounceOut=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*
(a-=2.625/2.75)*a+.984375};P.bounceInOut=function(a){return.5>a?.5*P.bounceIn(2*a):.5*P.bounceOut(2*a-1)+.5};P.smootherStep=function(a){return a*a*a*(a*(6*a-15)+10)};var Xa=function(){};Xa.linear=function(a,b,c){var d=a.length-1,e=d*b,f=Math.floor(e);c=c||w.lerp;return 0>b?c(a[0],a[1],e):1<b?c(a[d],a[d-1],d-e):c(a[f],a[f+1>d?d:f+1],e-f)};Xa.bezier=function(a,b){for(var c=0,d=a.length,e=Math.pow,f=0;f<d;f++){var g=e(1-b,d-f)*e(b,f)*a[f];var h=d;var k=f,p=Xa.__factorial;h=p(h)/p(k)/p(h-k);c+=g*h}return c};
Xa.catmullRom=function(a,b){var c=a.length-1,d=c*b,e=Math.floor(d),f=function(g,h,k,p,q){g=.5*(k-g);p=.5*(p-h);var m=q*q;return(2*(h-k)+g+p)*q*m+(3*(k-h)-2*g-p)*m+g*q+h};return a[0]===a[c]?(0>b&&(e=Math.floor(d=c*(1+b))),f(a[(e-1+c)%c],a[e],a[(e+1)%c],a[(e+2)%c],d-e)):0>b?a[0]-(f(a[0],a[0],a[1],a[1],-d)-a[0]):1<b?a[c]-(f(a[c],a[c],a[c-1],a[c-1],d-c)-a[c]):f(a[e?e-1:0],a[e],a[c<e+1?c:e+1],a[c<e+2?c:e+2],d-e)};Xa.__factorial=function(){var a=[1];return function(b){if(a[b])return a[b];for(var c=b;--b;)c*=
b;return a[b]=c}}();var Oc=P.smootherStep,la=function(a,b,c,d){b=void 0===b?.25:b;c=void 0===c?null:c;d=void 0===d?null:d;var e=Z.call(this)||this;e.mValues=a;e.mDuration=b;e.mProperties=c;e.mPlugins=d;e.mIsPlaying=!1;e.mIsPaused=!1;e.mStartTime=0;e.mPausedTime=0;e.mValuesStart={};e.mElapsed=0;e.mInterpolation=Xa.linear;e.mDelay=0;e.mRepeatDelay=0;e.mRepeats=0;e.mInitiated=!1;e.mStarted=!1;e.mReversed=!1;e.mYoyo=!1;e.mIsYoyoBack=!1;e.mReverseOnInit=!1;e.mRemoveOnComplete=!0;e.mPlayOnAdded=!0;e.mEase=
Oc;if(null!==e.mProperties)for(var f in e.mProperties)e[f]=e.mProperties[f];return e};$jscomp.inherits(la,Z);la.prototype.__start=function(a){this.mIsPlaying=!0;this.mStartTime=a+this.mDelay};la.prototype.play=function(){this.mIsPaused?this.__resume():this.__start(r.time.now);return this};la.prototype.stop=function(){if(!this.mIsPlaying)return this;this.mIsPlaying=!1;return this};la.prototype.reset=function(){this.mElapsed=0;this.mIsPlaying&&this.play();return this};la.prototype.to=function(a,b){this.mValues=
a=void 0===a?{}:a;this.mDuration=void 0===b?.25:b;this.mInitiated=!1;return this};la.prototype.pause=function(){if(!this.mIsPlaying)return this;this.mIsPaused=!0;this.mPausedTime=r.time.now;return this};la.prototype.__resume=function(){this.mIsPaused&&(this.mIsPaused=!1,this.mStartTime+=r.time.now-this.mPausedTime)};la.prototype.removeFromParent=function(){this.mIsPlaying&&this.stop();Z.prototype.removeFromParent.call(this)};la.prototype.chain=function(a){if(!a)return this;this.mRemoveOnComplete=
!1;a.playOnAdded=!1;this.on(O.COMPLETE,function(){a.play()});return a};la.prototype.onAdded=function(a){this.mPlayOnAdded&&this.__start(r.time.now)};la.prototype.__update=function(a){};la.prototype.set=function(a){this.mValues=a;for(var b in this.mValues)this.mValuesStart[b]=parseFloat(this.gameObject[b])};la.prototype.reverse=function(a){a=void 0===a?!1:a;this.mInitiated?this.__reverse():this.mReverseOnInit=!0;a&&(this.mIsYoyoBack=!this.mIsYoyoBack);return this};la.prototype.__reverse=function(){for(var a in this.mValues){var b=
$jscomp.makeIterator([this.mValuesStart[a],this.mValues[a]]);this.mValues[a]=b.next().value;this.mValuesStart[a]=b.next().value}};la.prototype.onRender=function(){if(0===r.engine.numUpdates){var a=r.time.now;if(!(a<this.mStartTime||!1===this.mIsPlaying||!0===this.mIsPaused)&&!1!==this.mStarted&&!1!==this.mInitiated){this.mElapsed=(a-this.mStartTime)/this.mDuration;1<this.mElapsed&&(this.mElapsed=1);a=this.mEase(this.mIsYoyoBack?1-this.mElapsed:this.mElapsed);for(var b in this.mValues){var c=this.mValuesStart[b],
d=this.mValues[b];null!==this.mPlugins&&this.mPlugins.hasOwnProperty(b)?(c=Array.isArray(d)?d:[c,d],this.gameObject[b]=Xa.linear(c,a,this.mPlugins[b])):Array.isArray(d)?this.gameObject[b]=this.mInterpolation(d,a):this.gameObject[b]=c+(d-c)*(this.mIsYoyoBack?1-a:a)}}}};la.prototype.onUpdate=function(){var a=r.time.now;if(!(a<this.mStartTime||!1===this.mIsPlaying||!0===this.mIsPaused)){this.__collectStartingValues();this.mElapsed=(a-this.mStartTime)/this.mDuration;1<this.mElapsed&&(this.mElapsed=1);
var b=this.mEase(this.mIsYoyoBack?1-this.mElapsed:this.mElapsed),c;for(c in this.mValues){var d=this.mValuesStart[c],e=this.mValues[c];null!==this.mPlugins&&this.mPlugins.hasOwnProperty(c)?(d=Array.isArray(e)?e:[d,e],this.gameObject[c]=Xa.linear(d,b,this.mPlugins[c])):Array.isArray(e)?this.gameObject[c]=this.mInterpolation(e,b):this.gameObject[c]=d+(e-d)*(this.mIsYoyoBack?1-b:b)}this.post(O.UPDATE,this.gameObject);if(1===this.mElapsed)if(0<this.mRepeats--)!0===this.mYoyo&&this.reverse(!0),this.mStartTime=
a+this.mRepeatDelay,this.post("loop",this.gameObject);else if(this.mIsPlaying=!1,this.post(O.COMPLETE,this.gameObject),this.mRemoveOnComplete)this.removeFromParent();else{for(var f in this.mValues)this.mValuesStart[f]=this.mValues[f];this.mStarted=!1}}};la.prototype.__collectStartingValues=function(){if(!1===this.mStarted){this.mStarted=!0;this.post("start",this.gameObject);for(var a in this.mValues)!this.mInitiated&&Array.isArray(this.mValues[a])&&(this.mValues[a]=[this.gameObject[a]].concat(this.mValues[a])),
this.mValuesStart[a]=parseFloat(this.gameObject[a]);!0!==this.mReversed&&!0!==this.mReverseOnInit||this.__reverse();this.mInitiated=!0}};$jscomp.global.Object.defineProperties(la.prototype,{ease:{configurable:!0,enumerable:!0,get:function(){return this.mEase},set:function(a){this.mEase=a}},interpolation:{configurable:!0,enumerable:!0,get:function(){return this.mInterpolation},set:function(a){this.mInterpolation=a}},elapsed:{configurable:!0,enumerable:!0,get:function(){return this.mElapsed}},delay:{configurable:!0,
enumerable:!0,get:function(){return this.mDelay},set:function(a){this.mDelay=a}},repeats:{configurable:!0,enumerable:!0,get:function(){return this.mRepeats},set:function(a){this.mRepeats=a}},repeatDelay:{configurable:!0,enumerable:!0,get:function(){return this.mRepeatDelay},set:function(a){this.mRepeatDelay=a}},loop:{configurable:!0,enumerable:!0,get:function(){return Infinity===this.mRepeats},set:function(a){this.mRepeats=a?Infinity:0}},yoyo:{configurable:!0,enumerable:!0,get:function(){return this.mYoyo},
set:function(a){this.mYoyo=a}},reversed:{configurable:!0,enumerable:!0,get:function(){return this.mReversed},set:function(a){this.mReversed=a}},removeOnComplete:{configurable:!0,enumerable:!0,get:function(){return this.mRemoveOnComplete},set:function(a){this.mRemoveOnComplete=a}},playOnAdded:{configurable:!0,enumerable:!0,get:function(){return this.mPlayOnAdded},set:function(a){this.mPlayOnAdded=a}},plugins:{configurable:!0,enumerable:!0,get:function(){return this.mPlugins},set:function(a){this.mPlugins=
a}},duration:{configurable:!0,enumerable:!0,get:function(){return this.mDuration}},isPlaying:{configurable:!0,enumerable:!0,get:function(){return!0===this.mIsPlaying&&!1===this.mIsPaused}}});$jscomp.global.Object.defineProperties(la,{defaultEase:{configurable:!0,enumerable:!0,get:function(){return Oc},set:function(a){Oc=a}}});var qb=function(a,b,c,d,e){d=void 0===d?14:d;e=void 0===e?!0:e;n.assert(0<d,"FPS must be greater than 0.");this.mController=a;this.mName=b;this.mFrames=c;this.mNextFrameAt=this.mCurrentFrame=
0;this.mFPS=d;this.mFrameDuration=1/this.mFPS;this.mLoop=e;this.mPaused=!1;this.mElapsed=0;this.mCompleted=this.mStopped=!1};qb.prototype.__play=function(){!0===this.mCompleted&&(this.mElapsed=this.mCurrentFrame=0);this.mCompleted=this.mStopped=this.mPaused=!1;this.mNextFrameAt=r.time.now+this.mFrameDuration-this.mElapsed;this.mElapsed=0;return this.mFrames[this.mCurrentFrame]};qb.prototype.__stop=function(){this.mStopped=!0;this.mCurrentFrame=0};qb.prototype.__pause=function(){this.mPaused=!0;this.mElapsed=
this.mNextFrameAt-r.time.now};qb.prototype.__update=function(){if(r.time.now<this.mNextFrameAt||!0===this.mPaused||!0===this.mStopped||!0===this.mCompleted)return null;this.mCurrentFrame++;if(this.mCurrentFrame>=this.mFrames.length)if(!0===this.mLoop)this.mCurrentFrame=0;else return this.mCurrentFrame=this.mFrames.length-1,this.mController.post(O.COMPLETE,this),this.mCompleted=!0,null;this.mNextFrameAt=r.time.now+this.mFrameDuration;return this.mFrames[this.mCurrentFrame]};$jscomp.global.Object.defineProperties(qb.prototype,
{fps:{configurable:!0,enumerable:!0,get:function(){return this.mFPS},set:function(a){n.assert(0<a,"FPS must be greater than 0.");this.mFPS=a;this.mFrameDuration=1/this.mFPS;this.mNextFrameAt+=this.mNextFrameAt-r.time.now}},loop:{configurable:!0,enumerable:!0,get:function(){return this.mLoop},set:function(a){this.mLoop=a}},frames:{configurable:!0,enumerable:!0,get:function(){return this.mFrames}},isPlaying:{configurable:!0,enumerable:!0,get:function(){return!1===this.mPaused&&!1===this.mStopped}},
isComplete:{configurable:!0,enumerable:!0,get:function(){return this.mCompleted}},name:{configurable:!0,enumerable:!0,get:function(){return this.mName}}});var Na=function(){var a=Z.call(this)||this;a.mAnimations={};a.mCurrentAnim=null;return a};$jscomp.inherits(Na,Z);Na.prototype.getByName=function(a){n.assert(null!==a,"Animation must be set first.");n.assert(this.mAnimations.hasOwnProperty(a),"Animation must be set first.");return this.mAnimations[a]};Na.prototype.remove=function(a){n.assert(null!==
a,"Animation name shall not be null.");n.assert(!0===this.mAnimations.hasOwnProperty(a),"Unable to find animation.");var b=this.mAnimations[a];null!==this.mCurrentAnim&&this.mCurrentAnim===b&&(this.stop(),delete this.mAnimations[a]);this.mCurrentAnim=null};Na.prototype.add=function(a,b,c,d){c=void 0===c?14:c;d=void 0===d?!0:d;n.assert(0<b.length,"Animation cannot be empty.");n.assert(0<c,"FPS must be greater than 0.");n.assert(0==this.mAnimations.hasOwnProperty(a),"Animation with same name already exists");
b=new qb(this,a,b,c,d);return this.mAnimations[a]=b};Na.prototype.play=function(a){n.assert(this.mAnimations.hasOwnProperty(a),"Animation must be set first.");this.mCurrentAnim=this.mAnimations[a];a=this.mCurrentAnim.__play();var b=this.gameObject;null!==b&&null!==a&&(b.texture=a)};Na.prototype.stop=function(){null!==this.mCurrentAnim&&this.mCurrentAnim.__stop()};Na.prototype.pause=function(){null!==this.mCurrentAnim&&this.mCurrentAnim.__pause()};Na.prototype.onRender=function(){if(null!==this.mCurrentAnim){var a=
this.mCurrentAnim.__update();null!==a&&(this.gameObject.texture=a)}};$jscomp.global.Object.defineProperties(Na.prototype,{currentAnimation:{configurable:!0,enumerable:!0,get:function(){return this.mCurrentAnim}}});var Oa=function(a,b){b=void 0===b?"":b;var c=aa.call(this)||this;a=r.assets.getJSON(a);var d=new spine.TextureAtlas("",function(u,v,y){});d.addTexture=A;for(var e={},f=0;f<a.skins.length;f++){var g=a.skins[f];for(q in g.attachments){var h=g.attachments[q];for(m in h){var k=h[m];if("point"!==
k.type&&"path"!==k.type&&"clipping"!==k.type){var p=k.path||m;k.name&&(p=k.name);e[p]||(k=d.addTexture(p,r.assets.getTexture(b+p)),e[p]=k)}}}}var q=new spine.AtlasAttachmentLoader(d);a=(new spine.SkeletonJson(q)).readSkeletonData(a);c.mSkeleton=new spine.Skeleton(a);c.mSkeleton.updateWorldTransform();c.mStateData=new spine.AnimationStateData(a);c.mState=new spine.AnimationState(c.mStateData);c.mTempClipContainers=[];c.mTexturesPath=b;b=0;for(a=c.mSkeleton.slots.length;b<a;b++){q=c.mSkeleton.slots[b];
e=q.attachment;var m=new aa;q.container=m;c.addChild(m);c.mTempClipContainers.push(null);e instanceof spine.RegionAttachment&&(d=e.region.name,e=c._createSprite(q,e,d),q.currentSprite=e,q.currentSpriteName=d,m.addChild(e))}c.mState.addListener({complete:function(u){return c.post("animationComplete",u.animation.name)}});return c};$jscomp.inherits(Oa,aa);Oa.prototype.play=function(a,b){this.mState.setAnimation(0,a,void 0===b?!1:b)};Oa.prototype.setMixing=function(a,b,c){this.mStateData.setMix(a,b,c)};
Oa.prototype.setTransition=function(a,b,c,d,e){var f=this;d=void 0===d?0:d;e=void 0===e?0:e;this.mState.addListener({complete:function(g){g.animation.name===a&&f.play(b,c)}});0<d&&this.mStateData.setMix(a,b,d);0<e&&this.mStateData.setMix(b,a,e)};Oa.prototype.changeSlotAttachment=function(a,b){this.mSkeleton.setAttachment(a,b)};Oa.prototype.onUpdate=function(){this.mState.update(r.time.delta);this.mState.apply(this.mSkeleton);this.mSkeleton.updateWorldTransform();for(var a=this.mSkeleton.slots,b=0,
c=a.length;b<c;b++){var d=a[b],e=d.attachment,f=d.currentSprite,g=d.container;if(e)if(g.visible=!0,e instanceof spine.RegionAttachment){var h=e.region;if(h&&(!d.currentSpriteName||d.currentSpriteName!==h.name)){var k=h.name;d.currentSprite&&(d.currentSprite.visible=!1);d.sprites=d.sprites||{};void 0!==d.sprites[k]?d.sprites[k].visible=!0:(f=this._createSprite(d,e,k),g.addChild(f));d.currentSprite=d.sprites[k];d.currentSpriteName=k;f=d.currentSprite}k=d.bone;f.scaleX=e.width/h.width*e.scaleX;f.scaleY=
e.height/h.height*e.scaleY;var p=-e.rotation*Math.PI/180;f.rotation=p;h=Math.cos(p);p=Math.sin(p);var q=-e.width/2*e.scaleX,m=-e.height/2*e.scaleY;f.x=e.x+q*h-m*p;f.y=-e.y+q*p+m*h;g.x=k.worldX;g.y=-k.worldY;g.rotation=Math.atan2(-k.c,k.a);f=Math.sqrt(k.b*k.b+k.d*k.d);g.scaleX=1*Math.sqrt(k.a*k.a+k.c*k.c);g.scaleY=1*f;g.alpha=this.mSkeleton.color.a*d.color.a*e.color.a}else e instanceof spine.PointAttachment&&(g.x=d.bone.worldX+e.x,g.y=-d.bone.worldY-e.y);else g.visible=!1}};Oa.prototype._createSprite=
function(a,b,c){a.tempAttachment===b&&(a.tempAttachment=null,a.tempRegion=null);var d=new Cb(this.mTexturesPath+c);d.alpha=b.color.a;d.region=b.region;this._setSpriteRegion(b,d,b.region);a.sprites=a.sprites||{};return a.sprites[c]=d};Oa.prototype._setSpriteRegion=function(a,b,c){b.region=c;c.size?(b.scaleX=c.size.width/c.width,b.scaleY=-c.size.height/c.height):(b.scaleX=a.scaleX*a.width/c.width,b.scaleY=-a.scaleY*a.height/c.height)};$jscomp.global.Object.defineProperties(Oa.prototype,{skeleton:{configurable:!0,
enumerable:!0,get:function(){return this.mSkeleton}}});var kc=function(a){a=void 0===a?.5:a;var b=Ja.call(this)||this;b.mWaveShaperNode=r.audio.context.createWaveShaper();b.mInputNode=b.mWaveShaperNode;b.mOutputNode=b.mWaveShaperNode;b.mSamples=44100;b.mCurve=new Float32Array(b.mSamples);b.mValue=a;b.distortion=a;return b};$jscomp.inherits(kc,Ja);kc.prototype.__makeDistortionCurve=function(a,b,c){a=~~(100*a);for(var d=Math.PI/180,e,f=0;f<b;++f)e=2*f/b-1,c[f]=(3+a)*e*20*d/(Math.PI+a*Math.abs(e));return c};
$jscomp.global.Object.defineProperties(kc.prototype,{distortion:{configurable:!0,enumerable:!0,set:function(a){this.mValue=w.clamp(a,0,1);this.__makeDistortionCurve(this.mValue,this.mSamples,this.mCurve);this.mWaveShaperNode.curve=this.mCurve},get:function(){return this.mValue}}});var kb=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=Ja.call(this)||this;b=b||[60,170,310,600,1E3,3E3,6E3,12E3,14E3,16E3];c.mFilters=[];for(var d=0;d<b.length;d++)c.mFilters.push(c.__createFilter(b[d])),
0<d&&c.mFilters[d-1].connect(c.mFilters[d]);c.mInputNode=c.mFilters[0];c.mOutputNode=c.mFilters[c.mFilters.length-1];c.mMaxGainLevel=16;c.mPresets={};return c};$jscomp.inherits(kb,Ja);kb.prototype.__createFilter=function(a){var b=r.audio.context.createBiquadFilter();b.type="peaking";b.frequency.setValueAtTime(a,0);b.Q.setValueAtTime(1,0);b.gain.setValueAtTime(0,0);return b};kb.prototype.setLevelByIndex=function(a,b){n.assert(0<=a&&a<this.mFilters.length,"Frequency index is out of range");0>a||a>=
this.mFilters.length||(b=w.clamp(b,-1,1),b*=this.mMaxGainLevel,this.mFilters[a].gain.setValueAtTime(b,0))};kb.prototype.setLevelByFrequency=function(a,b){for(var c=0;c<this.mFilters.length;c++)this.mFilters[c].frequency.value===a&&this.setLevelByIndex(c,b)};kb.prototype.addPreset=function(a,b){for(var c=[],d=1;d<arguments.length;++d)c[d-1]=arguments[d];n.assert(c.length!=this.mFilters.length,"Number of preset values must be equal to frequencies number");this.mPresets[a]=c};kb.prototype.savePreset=
function(a){var b=this;this.mPresets[a]=[];this.mFilters.forEach(function(c){return b.mPresets[a].push(c.frequency.value/b.mMaxGainLevel)})};kb.prototype.applyPreset=function(a){if(null!==this.mPresets[a])for(var b=0;b<this.mPresets[a].length;b++)this.setLevelByIndex(b,this.mPresets[a][b])};var Pc=function(a){var b=Ja.call(this)||this;b.mInputNode=r.audio._newGainNode();b.mOutputNode=r.audio._newGainNode();b.mConvolver=r.audio.context.createConvolver();b.mDry=r.audio._newGainNode();b.mWet=r.audio._newGainNode();
b.mTone=r.audio.context.createBiquadFilter();b.mConvolver.buffer=a;b.mInputNode.connect(b.mDry);b.mDry.connect(b.mOutputNode);b.mInputNode.connect(b.mTone);b.mTone.connect(b.mConvolver);b.mConvolver.connect(b.mWet);b.mWet.connect(b.mOutputNode);b.mDry.gain.setValueAtTime(1,0);b.mWet.gain.setValueAtTime(0,0);b.mTone.type="lowpass";b.mTone.frequency.setValueAtTime(350,0);b.mTone.Q.setValueAtTime(Math.SQRT1_2,0);return b};$jscomp.inherits(Pc,Ja);$jscomp.global.Object.defineProperties(Pc.prototype,{wet:{configurable:!0,
enumerable:!0,set:function(a){a=w.clamp(a,0,1);this.mWet.gain.setValueAtTime(a,0)},get:function(){return this.mWet.gain.value}},dry:{configurable:!0,enumerable:!0,set:function(a){a=w.clamp(a,0,1);this.mDry.gain.setValueAtTime(a,0)},get:function(){return this.mDry.gain.value}},tone:{configurable:!0,enumerable:!0,set:function(a){a=w.clamp(a,10,r.audio.context.sampleRate/2);this.mTone.frequency.setValueAtTime(a,0)},get:function(){return this.mTone.frequency.value}}});var Ya=function(a,b,c,d){b=void 0===
b?"master":b;c=void 0===c?!1:c;d=void 0===d?100:d;var e=Z.call(this)||this;e.mSoundClip=r.assets.getSound(a);e.mRolloff=d;e.mPlayOnAdded=!0;e.mStopOnRemove=!0;e.mSoundInstance=null;e.mCompleteBinding=null;e.mSpatialEffect=c;e.mChannelName=b;return e};$jscomp.inherits(Ya,Z);Ya.prototype.play=function(a,b,c){a=void 0===a?1:a;b=void 0===b?!1:b;(c=void 0===c?!1:c)&&this.mSoundInstance&&this.stop();if(!this.mSoundInstance||c)this.mSoundInstance=this.mSoundClip.play(this.mChannelName,a,b),this.mCompleteBinding=
this.mSoundInstance.on(O.COMPLETE,this.__onSoundComplete,this),this.spatialEffect=this.mSpatialEffect;return this.mSoundInstance};Ya.prototype.stop=function(){this.mSoundInstance&&(this.mCompleteBinding.off(),this.mSoundInstance.stop(),this.mSoundInstance=null)};Ya.prototype.__onSoundComplete=function(){this.mSoundInstance=null};Ya.prototype.onAdded=function(a){this.mPlayOnAdded&&this.play()};Ya.prototype.onRemoved=function(a){this.mStopOnRemove&&this.mSoundInstance&&this.mSoundInstance.stop()};Ya.prototype.onUpdate=
function(){if(this.mSpatialEffect&&null!=this.mSoundInstance&&!0===this.mSoundInstance.isPlaying){var a=r.stage,b=this.gameObject.localToGlobal(a.globalToLocal(new t(this.gameObject.pivotX,this.gameObject.pivotY)));this.mSoundInstance.mSpatialPanner.setPosition((b.x-a.centerX)/a.width*2,(b.y-a.centerY)/a.height*2,0)}};$jscomp.global.Object.defineProperties(Ya.prototype,{playOnAdded:{configurable:!0,enumerable:!0,set:function(a){this.mPlayOnAdded=a},get:function(){return this.mPlayOnAdded}},stopOnRemove:{configurable:!0,
enumerable:!0,set:function(a){this.mStopOnRemove=a},get:function(){return this.mStopOnRemove}},spatialEffect:{configurable:!0,enumerable:!0,set:function(a){(this.mSpatialEffect=a)&&null!=this.mSoundInstance&&!0===this.mSoundInstance.isPlaying&&(a=this.mSoundInstance.enableSpacePan(),a.rolloffFactor=this.mRolloff,a.refDistance=1,a.distanceModel="inverse")},get:function(){return this.mSpatialEffect}}});var Fb=function(){return Z.call(this)||this};$jscomp.inherits(Fb,Z);Fb.prototype.onRemoved=function(a){this.loose()};
Fb.prototype.listen=function(){r.audio.currentListener=this};Fb.prototype.loose=function(){r.audio.looseListener()};Fb.prototype.onRender=function(){if(r.audio.currentListener===this){var a=r.audio.context.listener,b=r.stage,c=this.gameObject.localToGlobal(b.globalToLocal(new t(this.gameObject.pivotX,this.gameObject.pivotY))),d=(c.x-b.centerX)/b.width*2;b=(c.y-b.centerY)/b.height*2;null!=a.positionX?(a.positionX.setValueAtTime(d,0),a.positionY.setValueAtTime(b,0),a.positionZ.setValueAtTime(1,0)):
a.setPosition(d,b,1)}};var Ga=function(){var a=Z.call(this)||this;a.mCollider=new Ea(0,0,0,0);a.mInGroup=!1;a.mIsSleeping=!1;a.mSleepTime=0;a.mContacts=[];a.mPivot=new t(Number.MAX_VALUE);a.mCachedPosition=new t;a.mPairs=[];a.mIsStatic=!1;a.mPosition=new t;a.mVelocity=new t;a.mForce=new t;a.mTransform=new C(Number.MAX_VALUE);a.mMass=1;a.mInvMass=1;a.frictionAir=.01;a.friction=.1;a.bounce=.1;return a};$jscomp.inherits(Ga,Z);Ga.prototype.update=function(){var a=this.gameObject,b=a.mCollidersCache,c=
this.mCollider,d=this.mPosition,e=a.worldTransformation,f=e.data,g=this.mTransform;if(g.data[0]!==f[0]||g.data[2]!==f[2]){g.set(f[0],f[1],f[2],f[3],0,0);c.mChanged=!0;f=0;for(var h=b.length;f<h;f++)b[f].mChanged=!0}if(a!==r.stage){f=this.mCachedPosition;h=f.x;var k=f.y;e.transformXY(a.pivotX,a.pivotY,f);d.x+=f.x-h;d.y+=f.y-k;a.parent.globalToLocal(d,f);a.x=f.x;a.y=f.y;a.worldTransformation.transformXY(a.pivotX,a.pivotY,f)}if(0===b.length)b=a.localBounds,a instanceof aa?null!==a.mClipRect?c.set(0,
0,b.width,b.height):c.set(-a.pivotX,-a.pivotY,b.width,b.height):c.set(-a.pivotX,-a.pivotY,b.width,b.height),c.refresh(g,d);else for(a=0,c=b.length;a<c;a++)b[a].refresh(g,d)};Ga.prototype.clearFlags=function(){var a=this.gameObject.mCollidersCache;this.mCollider.mChanged=!1;for(var b=0,c=a.length;b<c;b++)a[b].mChanged=!1};$jscomp.global.Object.defineProperties(Ga.prototype,{mass:{configurable:!0,enumerable:!0,get:function(){return this.mMass},set:function(a){this.mMass=a;this.mInvMass=0===a||this.mIsStatic?
0:1/a}},isStatic:{configurable:!0,enumerable:!0,get:function(){return this.mIsStatic},set:function(a){this.mIsStatic=a;this.mass=this.mMass}},x:{configurable:!0,enumerable:!0,set:function(a){this.mPosition.x=a},get:function(){return this.mPosition.x}},y:{configurable:!0,enumerable:!0,set:function(a){this.mPosition.y=a},get:function(){return this.mPosition.y}},forceX:{configurable:!0,enumerable:!0,set:function(a){this.mIsSleeping=!1;this.mForce.x=a},get:function(){return this.mForce.x}},forceY:{configurable:!0,
enumerable:!0,set:function(a){this.mIsSleeping=!1;this.mForce.y=a},get:function(){return this.mForce.y}},velocityX:{configurable:!0,enumerable:!0,set:function(a){this.mVelocity.x=a},get:function(){return this.mVelocity.x}},velocityY:{configurable:!0,enumerable:!0,set:function(a){this.mVelocity.y=a},get:function(){return this.mVelocity.y}}});var rb=function(){this.verticesB=this.verticesA=this.axis=null;this.rangeA=new Qc;this.rangeB=new Qc;this.offset=0};rb.prototype.set=function(a,b,c){this.verticesA=
a;this.verticesB=b;this.axis=c;this.refresh()};rb.prototype.refresh=function(){rb.__project(this.verticesA,this.axis,this.rangeA);rb.__project(this.verticesB,this.axis,this.rangeB)};rb.__project=function(a,b,c){for(var d=Number.MAX_VALUE,e=-Number.MAX_VALUE,f=0,g=a.length;f<g;f++){var h=a[f].dot(b);d=h<d?h:d;e=h>e?h:e}c.min=d;c.max=e};var Qc=function(){this.max=this.min=0},ed=5,fd=1,gd=.2,hd=1,id=.1,jd=1,fa=function(){this.bodyB=this.bodyA=this.b=this.a=null;this.mIsStatic=this.mInCollision=!1;this.mMass=
this.mBias=this.mFriction=this.mPositionImpulse=this.mTangentImpulse=this.mNormalImpulse=0;this.mOffset=new t;this.mNormal=new t;this.mOverlap=0;this.mChanged=!1};fa.prototype.test=function(){return this.mInCollision};fa.prototype.preSolve=function(){var a=this.mNormal.x,b=this.mNormal.y,c=this.bodyA.mPosition,d=this.bodyB.mPosition,e=this.bodyA.mVelocity,f=this.bodyB.mVelocity,g=this.bodyA.mInvMass,h=this.bodyB.mInvMass,k=this.mOffset,p=this.mNormalImpulse*a+this.mTangentImpulse*-b,q=this.mNormalImpulse*
b+this.mTangentImpulse*+a;k.x=d.x-c.x;k.y=d.y-c.y;e.x-=p*g;e.y-=q*g;f.x+=p*h;f.y+=q*h;a=(f.x-e.x)*a+(f.y-e.y)*b;this.mBias=a<-(fa.bounceTreshhold*fa.unitsPerMeter*r.stage.mScaleX)?-Math.max(this.bodyA.bounce,this.bodyB.bounce)*a:0;this.mMass=1/(g+h);this.mFriction=Math.min(this.bodyA.friction,this.bodyB.friction);this.mPositionImpulse=0};fa.prototype.solveVelocity=function(){var a=this.mNormal.x,b=this.mNormal.y,c=-b,d=+a,e=this.bodyA.mVelocity,f=this.bodyB.mVelocity,g=this.bodyA.mInvMass,h=this.bodyB.mInvMass,
k=-((f.x-e.x)*a+(f.y-e.y)*b-this.mBias)*this.mMass,p=Math.max(this.mNormalImpulse+k,0);k=p-this.mNormalImpulse;this.mNormalImpulse=p;a*=k;b*=k;e.x-=a*g;e.y-=b*g;f.x+=a*h;f.y+=b*h;b=-((f.x-e.x)*c+(f.y-e.y)*d)*this.mMass;k=this.mFriction*this.mNormalImpulse;k=w.clamp(this.mTangentImpulse+b,-k,k);b=k-this.mTangentImpulse;this.mTangentImpulse=k;c*=b;d*=b;e.x-=c*g;e.y-=d*g;f.x+=c*h;f.y+=d*h};fa.prototype.solvePosition=function(){var a=this.mNormal.x,b=this.mNormal.y,c=this.bodyA.mInvMass,d=this.bodyB.mInvMass,
e=this.bodyA.mPosition,f=this.bodyB.mPosition,g=this.mOffset;g=(this.mOverlap+((g.x-f.x+e.x)*a+(g.y-f.y+e.y)*b)-fa.slop)*fa.baumgarte;if(!(0>=g)){g*=this.mMass;var h=this.mPositionImpulse;this.mPositionImpulse=Math.max(h+g,0);g=this.mPositionImpulse-h;a*=g;b*=g;e.x-=a*c;e.y-=b*c;f.x+=a*d;f.y+=b*d}};fa.__id=function(a,b){return a.mId>b.mId?a.mId+"&"+b.mId:b.mId+"&"+a.mId};$jscomp.global.Object.defineProperties(fa,{timeToSleep:{configurable:!0,enumerable:!0,get:function(){return ed},set:function(a){ed=
a}},slop:{configurable:!0,enumerable:!0,get:function(){return fd},set:function(a){fd=a}},baumgarte:{configurable:!0,enumerable:!0,get:function(){return gd},set:function(a){gd=a}},unitsPerMeter:{configurable:!0,enumerable:!0,get:function(){return hd},set:function(a){hd=a}},sleepThreshold:{configurable:!0,enumerable:!0,get:function(){return id},set:function(a){id=a}},bounceTreshhold:{configurable:!0,enumerable:!0,get:function(){return jd},set:function(a){jd=a}}});var Rc=null,Pa=function(){var a=fa.call(this)||
this;a.a=null;a.b=null;for(var b=[],c=0;4>c;c++)b.push(new rb);a.mProjections=b;return a};$jscomp.inherits(Pa,fa);Pa.prototype.set=function(a,b,c,d){this.a=a;this.b=b;this.bodyA=c;this.bodyB=d;c=this.mProjections;for(var e=d=0;4>d;d+=2,e+=1)c[d].set(a.mVertices,b.mVertices,a.mNormals[e]),c[d+1].set(a.mVertices,b.mVertices,b.mNormals[e]);return this};Pa.prototype.__refreshProjectionsRanges=function(){for(var a=this.mProjections,b=0;4>b;b++)a[b].refresh()};Pa.prototype.test=function(){var a=this.a,
b=this.b;if(a.mChanged||b.mChanged)this.mChanged=!0;if(a.mMax.x<b.mMin.x||a.mMin.x>b.mMax.x||a.mMax.y<b.mMin.y||a.mMin.y>b.mMax.y)return this.mInCollision=!1;a=this.mProjections;b=this.mNormal;var c=this.bodyB.mPosition.x-this.bodyA.mPosition.x,d=this.bodyB.mPosition.y-this.bodyA.mPosition.y;this.mChanged&&(this.mChanged=!1,this.__refreshProjectionsRanges());this.mOverlap=Number.MAX_VALUE;for(var e=0;4>e;e++){var f=a[e];f.offset=f.axis.x*c+f.axis.y*d;var g=f.rangeA.max,h=f.rangeB.min+f.offset;if(f.rangeA.min>
f.rangeB.max+f.offset||h>g)return this.mInCollision=!1}for(c=0;4>c;c++){d=a[c];e=d.rangeA.min;f=d.rangeA.max;g=d.rangeB.min+d.offset;h=d.rangeB.max+d.offset;var k=f-g,p=h-e;k=k<p?k:-p;e<g&&f<h?k=f-g:f>h&&(k=e-h);e=Math.abs(k);e<this.mOverlap&&(this.mOverlap=e,b.copyFrom(d.axis),0>k&&b.multiplyScalar(-1))}return this.mInCollision=!0};$jscomp.global.Object.defineProperties(Pa,{pool:{configurable:!0,enumerable:!0,get:function(){null===Rc&&(Rc=new T(Pa,100));return Rc}}});var Sc=null,Qa=function(){var a=
fa.call(this)||this;a.a=null;a.b=null;a.mBoxHalfWidth=0;a.mBoxHalfHeight=0;a.mBoxRotate=new t;a.mCircleCenter=new t;return a};$jscomp.inherits(Qa,fa);Qa.prototype.set=function(a,b,c,d){this.a=a;this.b=b;this.bodyA=c;this.bodyB=d;return this};Qa.prototype.__rotate=function(a,b,c,d,e){var f=a.x-b,g=a.y-c;a.x=d*f-e*g+b;a.y=e*f+d*g+c};Qa.prototype.test=function(){var a=this.a,b=this.b;a.mChanged&&(this.mChanged=!0);if(a.mMax.x<b.mMin.x||a.mMin.x>b.mMax.x||a.mMax.y<b.mMin.y||a.mMin.y>b.mMax.y)return this.mInCollision=
!1;if(this.mChanged){this.mChanged=!1;var c=this.bodyA.mTransform.data,d=Math.sqrt(c[0]*c[0]+c[1]*c[1]),e=Math.sqrt(c[2]*c[2]+c[3]*c[3]);this.mBoxRotate.set(c[0]/d,c[1]/d);this.mBoxHalfWidth=a.mRect.width/2*d;this.mBoxHalfHeight=a.mRect.height/2*e}c=this.mBoxRotate;d=this.mNormal;var f=this.mCircleCenter.copyFrom(b.mCenter),g=this.mBoxHalfWidth,h=this.mBoxHalfHeight;(e=0!==c.y)&&this.__rotate(f,a.mCenter.x,a.mCenter.y,c.x,-c.y);var k=f.x-a.mCenter.x;f=f.y-a.mCenter.y;if(0===k&&0===f)return this.mOverlap=
b.mRadius+g,d.set(-1,0),this.mInCollision=!0;var p=w.clamp(k,-g,g),q=w.clamp(f,-h,h);(a=k===p&&f===q)&&(Math.abs(k)>Math.abs(f)?p=0<p?g:-g:q=0<q?h:-h);g=k-p;h=f-q;k=g*g+h*h;b=b.mRadius;if(k>b*b&&!a)return this.mInCollision=!1;0===k?(this.mOverlap=b,d.set(0,1)):(k=Math.sqrt(k),this.mOverlap=b-k,a?d.set(-g/k,-h/k):d.set(g/k,h/k));e&&this.__rotate(d,0,0,c.x,c.y);return this.mInCollision=!0};$jscomp.global.Object.defineProperties(Qa,{pool:{configurable:!0,enumerable:!0,get:function(){null===Sc&&(Sc=new T(Qa,
100));return Sc}}});var Tc=null,Za=function(){var a=fa.call(this)||this;a.a=null;a.b=null;return a};$jscomp.inherits(Za,fa);Za.prototype.set=function(a,b,c,d){this.a=a;this.b=b;this.bodyA=c;this.bodyB=d;return this};Za.prototype.test=function(){var a=this.a,b=this.b,c=b.mCenter.x-a.mCenter.x,d=b.mCenter.y-a.mCenter.y;a=a.mRadius+b.mRadius;if(0===c&&0===d)return this.mOverlap=a,this.mNormal.set(1,0),this.mInCollision=!0;b=c*c+d*d;if(b>a*a)return this.mInCollision=!1;b=Math.sqrt(b);this.mOverlap=a-
b;this.mNormal.set(c/b,d/b);return this.mInCollision=!0};$jscomp.global.Object.defineProperties(Za,{pool:{configurable:!0,enumerable:!0,get:function(){null===Tc&&(Tc=new T(Za,100));return Tc}}});var Uc=function(){};Uc.prototype.test=function(a){};var oa=function(){var a=ka.call(this)||this;a.mBodies=[];a.mPairs=[];a.mContacts=[];a.mBroadPhase=new Uc;a.mPairsHash=Object.create(null);a.mBoundsBody=null;a.mBoundsLeft=new Ea(0,0,0,0);a.mBoundsRight=new Ea(0,0,0,0);a.mBoundsTop=new Ea(0,0,0,0);a.mBoundsBottom=
new Ea(0,0,0,0);a.mGravity=new t(0,1E3);a.mIterations=5;a.mSleepEnabled=!0;a.delta=1/60;return a};$jscomp.inherits(oa,ka);oa.prototype.collisionInfo=function(a,b,c,d,e){for(var f=[],g=4;g<arguments.length;++g)f[g-4]=arguments[g];if((g=this.mPairsHash[fa.__id(a,b)])&&g.mInCollision){var h=g.a===a?1:-1;c.call.apply(c,[d,g.mNormal.x*h,g.mNormal.y*h,g.mOverlap].concat($jscomp.arrayFromIterable(f)))}};oa.prototype.isColliding=function(a,b,c,d,e){for(var f=[],g=4;g<arguments.length;++g)f[g-4]=arguments[g];
b=void 0===b?null:b;c=void 0===c?null:c;d=void 0===d?null:d;g=a.mPairs;if(null===b){f=0;for(var h=g.length;f<h;f++)if(g[f].mInCollision)return!0;return!1}h=0;for(var k=g.length;h<k;h++){var p=g[h];if(!1!==p.mInCollision){var q=p.bodyA===a&&p.bodyB===b?1:p.bodyA===b&&p.bodyB===a?-1:0;if(0!==q)return c&&c.call.apply(c,[d,p.mNormal.x*q,p.mNormal.y*q,p.mOverlap].concat($jscomp.arrayFromIterable(f))),!0}}return!1};oa.prototype.onChildrenAdded=function(a){var b=this;B.forEach(a,function(c){(c=c.getComponent(Ga))&&
b.__addBody(c)})};oa.prototype.onChildrenRemoved=function(a){var b=this;B.forEach(a,function(c){(c=c.getComponent(Ga))&&b.__removeBody(c,a)})};oa.prototype.onComponentAdded=function(a,b){b instanceof Ga?this.__addBody(b):b instanceof Ca&&this.__addCollider(a,b)};oa.prototype.onComponentRemoved=function(a,b){b instanceof Ga?this.__removeBody(b,a):b instanceof Ca&&this.__removeCollider(a,b)};oa.prototype.__addBody=function(a){var b=this.mBodies,c=a.gameObject.mCollidersCache;a.mPairs.length=0;if(0===
c.length)this.__addPairs(a.mCollider,a);else for(var d=0,e=c.length;d<e;d++)this.__addPairs(c[d],a);b.push(a)};oa.prototype.__removeBody=function(a,b){var c=this.mBodies;b=b.mCollidersCache;if(0===b.length)this.__removePairs(a.mCollider);else for(var d=0,e=b.length;d<e;d++)this.__removePairs(b[d]);a.mPairs.length=0;c.splice(c.indexOf(a),1)};oa.prototype.__addCollider=function(a,b){var c=a.getComponent(Ga);c&&-1!==this.mBodies.indexOf(c)&&(this.__addPairs(b,c),1===a.mCollidersCache.length&&this.__removePairs(c.mCollider))};
oa.prototype.__removeCollider=function(a,b){var c=a.getComponent(Ga);if(c&&-1!==this.mBodies.indexOf(c)){this.__removePairs(b);for(var d=c.mPairs,e=d.length-1;0<=e;e--){var f=d[e];f.a!==b&&f.b!==b||d.splice(e,1)}0===a.mCollidersCache.length&&this.__addCollider(a,c.mCollider)}};oa.prototype.__addPairs=function(a,b){var c=this.mBodies;a.mChanged=!0;for(var d=0,e=c.length;d<e;d++){var f=c[d],g=f.gameObject.mCollidersCache;if(f!==b)if(0===g.length)this.__addPair(a,f.mCollider,b,f);else for(var h=0,k=
g.length;h<k;h++)this.__addPair(a,g[h],b,f)}};oa.prototype.__addPair=function(a,b,c,d){var e=a.constructor===Ea,f=b.constructor===Ea;if(e&&f)e=Pa.pool.get();else if(e||f){if(e=Qa.pool.get(),f){f=c;var g=a;a=b;c=d;b=g;d=f}}else e=Za.pool.get();e.mChanged=!0;e.set(a,b,c,d);e.mInCollision=!1;this.mPairs.push(e);this.mPairsHash[fa.__id(a,b)]=e;c.mPairs.push(e);d.mPairs.push(e)};oa.prototype.__removePairs=function(a){for(var b=this.mPairs,c=this.mPairsHash,d=b.length-1;0<=d;d--){var e=b[d];if(e.a===a||
e.b===a)b.splice(d,1),e instanceof Pa?Pa.pool.release(e):e instanceof Qa?Qa.pool.release(e):e instanceof Za&&Za.pool.release(e),delete c[fa.__id(e.a,e.b)],e.bodyA.mPairs.splice(e.bodyA.mPairs.indexOf(e),1),e.bodyB.mPairs.splice(e.bodyB.mPairs.indexOf(e),1)}};oa.prototype.onPostUpdate=function(){for(var a=this.delta,b=this.mContacts,c=this.mBodies,d=this.mPairs,e=b.length=0,f=c.length;e<f;e++){var g=c[e];g.update();g.mContacts.length=0;g.mInGroup=!1}e=0;for(f=d.length;e<f;e++)g=d[e],g.mIsStatic=(g.bodyA.mIsSleeping||
0===g.bodyA.mInvMass)&&(g.bodyB.mIsSleeping||0===g.bodyB.mInvMass),!1===g.mIsStatic&&(g.mInCollision=!0);e=0;for(f=d.length;e<f;e++)g=d[e],g.mInCollision&&!1===g.mIsStatic&&g.test();e=0;for(f=d.length;e<f;e++)g=d[e],g.mInCollision?(!1===g.mIsStatic&&b.push(g),g.bodyA.mContacts.push(g),g.bodyB.mContacts.push(g)):(g.mNormalImpulse=0,g.mTangentImpulse=0);this.__solve(a);if(this.mSleepEnabled)for(a=[],b=[],d=0,e=c.length;d<e;d++)if(f=c[d],f.clearFlags(),!f.mInGroup&&!f.mIsSleeping&&0!==f.mInvMass){a.length=
0;b.length=0;for(b.push(f);0!==b.length;){f=b.pop();g=f.mContacts;a.push(f);f.mInGroup=!0;for(var h=0,k=g.length;h<k;h++){var p=g[h];p=p.bodyA===f?p.bodyB:p.bodyA;p.mInGroup||0===p.mInvMass||b.push(p)}}f=!0;g=fa.sleepThreshold*fa.unitsPerMeter*r.stage.mScaleX;h=0;for(k=a.length;h<k;h++){p=a[h];var q=p.mVelocity;p.mSleepTime=q.x*q.x+q.y*q.y<g?p.mSleepTime+1:0;f=f&&p.mSleepTime>fa.timeToSleep}g=0;for(h=a.length;g<h;g++)a[g].mIsSleeping=f}};oa.prototype.__solve=function(a){for(var b=this.mIterations,
c=this.mContacts,d=this.mBodies,e=this.mGravity,f=0,g=d.length;f<g;f++){var h=d[f];if(0!==h.mInvMass&&!h.mIsSleeping){var k=h.mForce,p=h.mVelocity,q=h.mInvMass;h=1-h.frictionAir;p.x=(p.x+(k.x*q+e.x)*a)*h;p.y=(p.y+(k.y*q+e.y)*a)*h}}e=0;for(f=c.length;e<f;e++)c[e].preSolve();for(e=0;e<b;e++)for(f=0,g=c.length;f<g;f++)c[f].solveVelocity();a*=r.stage.mScaleX*fa.unitsPerMeter;e=0;for(f=d.length;e<f;e++)k=d[e],k.mForce.set(0,0),0===k.mInvMass||k.mIsSleeping||(g=k.mPosition,k=k.mVelocity,g.x+=k.x*a,g.y+=
k.y*a);for(d=0;d<b;d++)for(a=0,e=c.length;a<e;a++)c[a].solvePosition()};oa.prototype.__setBounds=function(){var a=r.stage.bounds,b=Number.MAX_SAFE_INTEGER;this.mBoundsLeft.set(-b,0,b,a.height);this.mBoundsRight.set(a.width,0,b,a.height);this.mBoundsTop.set(-b,-b,a.width+2*b,b);this.mBoundsBottom.set(-b,a.height,a.width+2*b,b)};$jscomp.global.Object.defineProperties(oa.prototype,{boundsEnabled:{configurable:!0,enumerable:!0,set:function(a){a?(this.mBoundsBody||(this.mBoundsBody=new Ga,this.mBoundsBody.isStatic=
!0,r.stage.addComponent(this.mBoundsLeft),r.stage.addComponent(this.mBoundsRight),r.stage.addComponent(this.mBoundsTop),r.stage.addComponent(this.mBoundsBottom),this.__setBounds()),r.stage.addComponent(this.mBoundsBody)):r.stage.removeComponent(this.mBoundsBody)}},gravityX:{configurable:!0,enumerable:!0,set:function(a){this.mGravity.x=a},get:function(){return this.mGravity.x}},gravityY:{configurable:!0,enumerable:!0,set:function(a){this.mGravity.y=a},get:function(){return this.mGravity.y}},iterations:{configurable:!0,
enumerable:!0,set:function(a){this.mIterations=a},get:function(){return this.mIterations}},sleepEnabled:{configurable:!0,enumerable:!0,set:function(a){this.mSleepEnabled=a},get:function(){return this.mSleepEnabled}}});var lc=function(a){a=void 0===a?4200:a;var b=M.call(this,!1)||this;b.mDuration=a;b.mSvgLogo='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 241.8 220.2"><defs><style>.b{fill:#f5f5f5}.c{fill:url(#a)}</style><pattern id="a" width="17.6" height="14.87" patternUnits="userSpaceOnUse" viewBox="0 0 17.6 14.9"><path fill="none" d="M0 0h17.6v14.87H0z"/><path class="b" d="M0 13.4v1.5h1.5A1.5 1.5 0 0 1 0 13.4z"/><path class="b" d="M8.8 0a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 1 1-3 0A1.5 1.5 0 0 1 8.8 0H0v13.4a1.5 1.5 0 0 1 1.5-1.5A1.5 1.5 0 0 1 3 13.4a1.5 1.5 0 0 1-1.5 1.5h4.3a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.4 1.4 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5h6a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 3 0 1.5 1.5 0 0 1-1.5 1.5h5.8V0zm6.6.7a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5 1.4 1.4 0 0 1-1.5-1.5A1.5 1.5 0 0 1 15.4.7zM.4 2.2A1.5 1.5 0 0 1 1.9.7a1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5A1.5 1.5 0 0 1 .4 2.2zm1.7 5.7A1.5 1.5 0 0 1 .6 6.4a1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 0 3zm2 3.8a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5zm.2-8a1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.4 1.4 0 0 1-1.5 1.5 1.5 1.5 0 0 1-1.5-1.5zm2.2 3.5a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0zm2.2 5.3a1.5 1.5 0 1 1 1.5-1.5 1.5 1.5 0 0 1-1.5 1.5zm1.4-8a1.5 1.5 0 0 1 3 0 1.5 1.5 0 1 1-3 0zm2.5 5.7a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.4 1.4 0 0 1 1.5 1.5 1.5 1.5 0 0 1-1.5 1.5zm3 3.5a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.4 1.4 0 0 1-1.5 1.5zm0-5.5a1.5 1.5 0 0 1-1.5-1.5 1.5 1.5 0 0 1 1.5-1.5 1.5 1.5 0 0 1 1.5 1.5 1.4 1.4 0 0 1-1.5 1.5z"/></pattern></defs><path class="c" d="M25.8 105.2c12.1 8.8 29.7 6.7 59.8 6.8-7.9-7.3-9.1-18.7-7.1-27.3-6.6 7.3-5.1 19.3-12.8 19.4-3.4.1-6.9-4.7-8.3-10.8-5.3 9.4-12 10.7-14.7-4.5-2.3 2-3.9 8.2-9.5 6.2S26.8 81.8 30 71.3A28.3 28.3 0 0 1 14.6 61c-1.4 20.8.5 36.4 11.2 44.2zM51.9 39.9c29.7-3.6 54-22.8 69.5-26.3-.1 0-40.7-.3-72.3 1.9 6.2 3.5 10.5 16.3 2.8 24.4zM170.4 34.2c5.6-2 32.1-9.5 54.4-2.7-3-13.7-22.9-17-71.8-17.8a32.2 32.2 0 0 1 17.4 20.5zM211.3 109.3c-12.2 2.1-12.8-8.8-32.9-8.9-15.5 0-35.2 13.2-36.1 13.7h49.3c19.1 0 32.5-.6 35.5-7.3s-2.7-12.3-10.7-15.6c5.3 5.6 4.1 16.5-5.1 18.1zM66 189.2c-5.9 5-26 17.8-43.6 6.3 3.6 8.4 13.6 12.7 45.1 12-1.6-2.4-5.3-10.4-1.5-18.3zM32 161.5c7.3 7.8 18.1 2.6 33.7-6.2 10.5-6 27.5-9.9 40.6-1.1 3.7-8.7 5.4-10.9 6.7-10.6s.7 2.7 5.6 7c.4-1 3.8-7.9 3.8-12l-59.9-.8c-1.5 6.6-9.9 19-23.9 17.4-2.4-.3-2.5-11.6 2.4-16.9a36.7 36.7 0 0 0-7.4.9c-4.4 5.1-7 16.4-1.6 22.3zM150.9 148.1c23.6-.5 26 19.9 41.1 21 10.9.9 13.6-16.8 35.7-11.8-1.3-11.1-7.7-16.2-22.2-17.4 3 10.3-6.6 28.5-19.3 21.5a1.5 1.5 0 0 1-.8-1.1c-.9-11 2.8-15.8 7.5-20.7l-55.7-.7a18.5 18.5 0 0 1 3.7 12.4 20.7 20.7 0 0 1 10-3.2zM162 195.9c-3.9 3.6-3.8 9.5-2.5 12.5h4.1c0-14.8 17-12.8 21.2-.8 22.7-1.5 30.9-3.2 36-8.7s6.4-15.3 6.8-27.1c-2.6 3-9.8 14.7-10.9 16.4-17.8 26.3-39.9-5.9-54.7 7.7z"/><path class="b" d="M150 42.6c-.2 10.4-9.8 13.6-9.4-.7-16.2 1.9-14.5 8.5-13.7 9.5 4.4 5.6 29 4.5 27.3-4.3a5.7 5.7 0 0 0-4.2-4.5z"/><path class="b" d="M162.2 46.4c-1.7-15.7-17.2-18.2-28.4-15.6s-22.3 12.7-15.6 25.4 46.2 10.3 44-9.8zm-37.8 6.7c-5.4-9.7 10.6-13.4 13.2-13.8 7.5-1.3 18.2-1.2 19.6 7.6 2 13.2-28.8 13.3-32.8 6.2zM184.7 68.8c-1.1 0-1.1 3.3-5.4 12.5.3 0 5.8 0 8.6.2-.7-9.1-2.1-12.7-3.2-12.7zM162.5 82.9l7-1.1c-2.5-4.6-5.8-8.6-7 1.1zM153.1 74.5a55.8 55.8 0 0 0-7.8 2c6.4 9.4 7.4 2.2 7.8-2zM134.8 94.6c.4-.2 4.9-3.1 6.9-4.1-1.9-2-8.1-9.9-6.9 4.1zM190.9 81.8a58.3 58.3 0 0 1 9 1.5 77.7 77.7 0 0 0 .4-8.8c-1.7-.3-7.2-1.2-10.3-1.5a52 52 0 0 1 .9 8.8z"/><path class="b" d="M216.5 76.2a39.1 39.1 0 0 1-5.6 10.4c13 3 25.3 10.8 18.1 23.1-3.8 6.6-16.4 7.5-37.4 7.5l-55.4-.2a32.3 32.3 0 0 1-18.8 1.1c-6.8 1.5-18.2 3.7-28.2-3.1-30.8-.4-49.7 3.2-64.9-7.1C6.4 95.7 11.6 60.3 12 56.8c-6.4-12.5-.8-29.4 2.3-34.1S29.4 7.5 44.4 13c.2-.1 27.5-2.4 76-2.4 74.4 0 105.2.8 107.6 22.3 6 2.4 13.2 13 6.2 21 4.8 9.4.1 19.1-9.7 21.5a37.4 37.4 0 0 1 10.7 5.7c1.4-2.5 8.5-19.8 4.8-41.9-4.5-27.1-17.9-33.2-35.4-34.9C157.9 0 88.5.2 81.7.1 38.1-.3 18.2-.5 8.1 22.2-3.1 47.6-2.6 91.7 9.1 108c7.7 10.7 19.1 15.3 37.9 15.3 34.5 0 141.3 1.4 165.3 1.8 11-.3 27.9-3.4 29.3-19.7s-6.8-25.2-25.1-29.2z"/><path class="b" d="M202.7 88.6c1.3-.2 6.5-2 10.7-12.6-3-.2-6.3-.5-10.1-1.1.8 11.4-3 14-.6 13.7z"/><path class="b" d="M231.9 56c-7.6 5.5-18.2 1.8-19.8-3.4-2.6-8.6 4.4-10.9 6.7-10.6 7.7.8 7 6.1 4 8.1a1.5 1.5 0 0 1-1.9-2.4c1.8-1.3 0-2.8-2.1-2.7s-5.4 1-3.8 6.7 17.1 7.3 18.9-4.4c1-6.8-5.8-16.4-32.5-15.4a108.5 108.5 0 0 0-30.4 5.2c1.2 8.3-1.9 15.7-8.5 20.1-5.3 11.2-41.6 17.9-48.4-2.7-7.5.8-13.1 10-13.9 14.9a1.4 1.4 0 0 1-1.6 1.2c-6.5-.7-16.7 3.6-17.9 20-1.3 18.3 14.9 29.2 31.7 25.4a21.7 21.7 0 0 1-5-3.5c-5.7-.2-13.7-1.1-17.4-12.1-.6-1.7 2.1-3.2 2.9-.9 2.5 7.8 8.3 9.6 11.8 10a23.3 23.3 0 0 1-4.4-13.3c-.1-2.5 3-2 3-.2-.1 12.3 14.5 29.4 42 13 33.9-20.2 50.8-8.1 55.8-5 1.4.9 9.2 5.2 13.7.1 1.8-2 4.1-10.3-6.4-14.9-4.2 3.7-11.5 3.3-8.9-3-32.1-5.7-50.2 2.7-61.8 10.2s-16.4.3-17-2.5c-1.8-8.4 16.6-26.2 60.2-24.6 1.3-3.9 5.3-5.7 8.1.6 7.4.6 18 3.2 28.9 3.2s18.2-5.3 14-17.1z"/><path class="b" d="M176 81.3l3.8-9.1a107.7 107.7 0 0 0-23.6 1.6c-1.1 15.7-9.6 10.9-13.8 3.6-27.3 10.6-19.1 22.7-10.5 18.6-1.6-15.7 6-15 12.5-7a77.4 77.4 0 0 1 15.1-5.4c1.4-15.6 10-9.6 13.3-2.1zM65.8 101.1c5.2-.4 1.4-10.4 17-26.2 13.1-13.2-7.9-26.6-17.9-13s-4.4 39.6.9 39.2z"/><path class="b" d="M49.8 63.9c-4.7 6.2-6.6 20.2-2.4 30.6 2.9 7 6.9-1.5 9.3-5.4-1.2-8.8 0-20.5 5.2-28.1-5.6-3.5-10.1.3-12.1 2.9zM32.3 74.3c-2.4 10.4-.6 17.3 2.6 18.1s4.7-5.4 7.3-7.6c-.6-7.7.9-15.8 4.2-21.2-8.7-3.1-12.8 5.3-14.1 10.7z"/><path class="b" d="M12.2 39.9c-1.8 22.1 15.2 28 18.9 28.5 1.7-3.6 6.8-11.4 17.2-7.3 5.5-6.4 12-4.8 15.5-2.5C73.9 48.2 92 53.8 89.6 69.3a16.6 16.6 0 0 1 7.9-1.7c1.7-5.9 7.7-14.9 15.9-16.1a18.6 18.6 0 0 1 5.1-15.2c-4 1.6-20.6 10.6-28.1 12.3-1.4.3-2.4-2.4-.3-3 9.3-2.5 26.9-13.5 42.8-17.6 19.5-5.2 34.5 6.7 32.1 22.8 10.1-14.5-5.4-34.6-20.7-36.4-33.4-4.1-53.3 26.5-98.8 28.9-7 .4-11.9-2-13.7-6s-.9-9 3.7-10.6c2.1-.7 3.5 2.3 1.1 2.8s-4.9 9.2 4.8 10.7c12.7 2 14.5-14.3 7.3-21.2s-34-9.4-36.5 20.9zM108.8 156a30.1 30.1 0 0 1 6.8 8.2 45.5 45.5 0 0 1 2-10.6 17.4 17.4 0 0 1-5-5.7 47.5 47.5 0 0 0-3.8 8.1zM40.3 152.4c7.2.6 18.4-6.1 19.7-17.7-20.3-.3-20.5 13-19.7 17.7zM105.5 182.8c-9.5-20.1-30.2-13.6-46.7-2.2-14.8 10.3-29.4 7.7-35.8.1a31.5 31.5 0 0 1-4.6-32.4C5 168 14.6 187.8 24.8 193.5c18.7 10.5 37.8-5 41.6-8.5 12.4-11.2 28.8-11.8 33.4 2.2 4 12.2-7.6 21.6-15.9 18.1-10.7-4.4-6.4-13.5-3.1-15.1a7.4 7.4 0 0 1 8.7 1.9c1.2 1.3-.5 3.6-2.1 2.1s-3.5-2.1-5.1-1.3-4.3 7.6 2.6 9.6c8.9 2.6 14.7-7.1 12-14.4-3.9-10.7-15.2-8.9-19.9-6.6-14.5 7.2-12.8 30 6 30.7 23.2.9 27-19.8 22.5-29.4zM188.4 159.2c11.6 4.5 18.7-15.8 11.7-23.9-4.2 7.6-13.1 10.2-11.7 23.9z"/><path class="b" d="M191.9 172.1c-15.6-.4-20.8-23.1-41.9-20.9-24 2.5-24.8 45.6-13.1 57.6h3.1c-4.1-9.4-6.7-28.1 7.8-38.2 1.7-1.1 3.6 1.3 1.7 2.5-13.6 9.4-10.2 27.6-6.2 35.7h3.5c-4.2-8.4-3.6-21.3 2.4-27.3 18.5-18.3 44.9 16.4 57.1-.5 8-11.1 12.7-17.8 26.8-16.9a13.3 13.3 0 0 0-7-4c-19.7-4.1-20.7 12.4-34.2 12z"/><path class="b" d="M208.6 182.8c-13.7 18.8-40.7-15.8-57.2.7-5.4 5.4-5.6 18-1.2 25.1h6.1c-2-5.6.6-12.1 3.8-14.9 17.6-15 37.6 17.6 54.2-7.3 1-1.5 8.3-14.5 13.9-19.3-10.5.6-14.4 8.6-19.6 15.7z"/><path class="b" d="M238.8 151.3c-4-14.1-13.7-23-25.3-23.2-.3 0-120-1.8-163.5-1.8-40.8 0-44.9 21.4-47.3 34.2-3.8 20.4 3.9 40.1 8.9 46.1 9.4 11.4 25.3 13.6 48 13.6l128.4-.3c35.9 0 44.8-12.6 48.4-23.6 4.7-14 5.7-33.3 2.4-45zm-1.3 15.2c-1.5 1.5-3.3-.7-6.8 2.3.1 26.5-6.3 35.4-19 38.4-16.1 3.8-43.4 4.7-112.7 4.4-5.8 3.8-19.8 6.6-29-1.2-23.1.7-48.8.4-51.7-18.1-4.9-4.8-12.3-15.9-8.2-33.2 5.2-21.3 22.1-24.3 34.6-23.9 4.2-2.6 10-3.9 17-3.4 2 .2 1.4 2.5 1.3 3l59.3.8c.1-2-.9-2.5.1-3.9s8.9 1.7 11.8 4.1l61.1 1c4.2-4.3 3.6-10 9.2 0 12.4.9 25 4.3 26.3 21.8 3.7 1.8 8.1 6.4 6.7 7.9z"/><path class="b" d="M166.6 208.3l15.1-.6c-3.8-8.4-15.4-10.2-15.1.6zM113.3 166.2c-11.1-19.9-33.8-15.2-46.1-8.3-16.4 9.1-28.6 15.1-37.4 5.6-5.7-6.1-4.3-16.7-.5-23.4-12.8 6.6-13.3 28.1-4 38.6 5.7 6.5 18.5 8.7 31.8-.5 16.2-11.4 36.6-18.1 48.8-1.1 5.5 7.7 6.4 22.9-3 31.6h7.1c8-7 11.2-28.4 3.3-42.5z"/><path class="b" d="M137.7 153.6c1.7-13.2-7.4-17.4-12.4-18.8 1.6 11.6-8 17-6.8 36 4.6 13.7 2 29.9-4.4 38h19c-8.6-12.6-10-41.8 4.6-55.2z"/></svg>';
b.mSvgText='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 228.9 29"><defs><style>.a{fill:#f5f5f5}</style></defs><path class="a" d="M9.7 19a3.7 3.7 0 0 1 2.9 1.4 6 6 0 0 1 .9 3.6 4.6 4.6 0 0 1-1.4 3.8c-.9.7-2.5 1-4.7 1L0 28.7V10.1l6.6-.2a9.4 9.4 0 0 1 4.9 1c.9.7 1.4 2 1.4 3.9a5.1 5.1 0 0 1-.7 3A3.3 3.3 0 0 1 9.7 19zm-6.4-1.1h3.4a3.3 3.3 0 0 0 2.3-.6 2.5 2.5 0 0 0 .7-2.1 2.9 2.9 0 0 0-.7-2.1 5.1 5.1 0 0 0-2.6-.5H3.3zm0 8.3h3.5a3.9 3.9 0 0 0 2.6-.6c.5-.3.7-1.1.7-2.2a3 3 0 0 0-.7-2.4 3.8 3.8 0 0 0-2.7-.7H3.3zM22.9 10.1v14.3a2.1 2.1 0 0 0 .3 1.2 2.3 2.3 0 0 0 1.3.3h6.4l.2 2.6c-1.8.2-4.3.2-7.4.2s-4.2-1.2-4.2-3.8V10.1zM46.2 23.4h-6.9l-1.5 5.3h-3.5L39.9 11a1.2 1.2 0 0 1 1.2-.9h3.3a1.2 1.2 0 0 1 1.2.9l5.6 17.7h-3.5zm-.8-2.7l-1.9-6.4c-.2-1-.4-1.5-.4-1.6h-.7l-.4 1.6-1.9 6.4zM68.2 25.8l.3 2.5a18.5 18.5 0 0 1-5.7.7c-2.8 0-4.7-.7-5.8-2.1s-1.7-4-1.7-7.5.5-6 1.7-7.4 3-2.2 5.8-2.2a19.8 19.8 0 0 1 5.3.6l-.3 2.6a39.4 39.4 0 0 0-5-.2c-1.5 0-2.6.4-3.1 1.4s-.9 2.7-.9 5.2.3 4.3.9 5.2a3.2 3.2 0 0 0 3.1 1.5 37.5 37.5 0 0 0 5.4-.3zM79.1 20.3h-1.8a11.1 11.1 0 0 1 .2 1.9v6.5h-3.4V10.1h3.4v5.5a12.5 12.5 0 0 1-.2 2.1h1.8l5.1-7.6h3.7l-5 7.5a4.3 4.3 0 0 1-1.3 1.4 4.5 4.5 0 0 1 1.5 1.6l5.1 8h-3.7zM100 21.4l-3.8-1.2a5.1 5.1 0 0 1-2.8-2 5.9 5.9 0 0 1-.9-3.4c0-2 .5-3.4 1.4-4s2.6-1 5-1a24 24 0 0 1 5.8.6l-.2 2.4H99a4.7 4.7 0 0 0-2.5.4c-.4.2-.6.8-.6 1.7a2.5 2.5 0 0 0 .4 1.7 3.8 3.8 0 0 0 1.7.8l3.5 1.1a5.3 5.3 0 0 1 3 2 5.9 5.9 0 0 1 .9 3.4c0 2.1-.5 3.4-1.5 4.2s-2.7 1-5.1 1a30.8 30.8 0 0 1-6.1-.6L93 26l5.8.2a4.4 4.4 0 0 0 2.5-.5 2.2 2.2 0 0 0 .6-1.8 2.2 2.2 0 0 0-.4-1.6 3.5 3.5 0 0 0-1.5-.9zM126 10.1h3.5a1.2 1.2 0 0 1 1.3 1.4l.8 17.2h-3.3l-.7-15.8h-.5l-3.2 12.3a1.3 1.3 0 0 1-1.4 1.1H120a1.4 1.4 0 0 1-1.5-1.1l-3.2-12.3h-.5l-.6 15.8h-3.3l.7-17.2c.1-.9.5-1.4 1.4-1.4h3.5a1.2 1.2 0 0 1 1.3 1.2l2.7 10 .5 2.6h.4a26.1 26.1 0 0 1 .6-2.6l2.6-10a1.4 1.4 0 0 1 1.4-1.2zM141.4 28.7H138V10.1h3.4zM161.5 13h-5.7v15.7h-3.4V13h-5.7v-2.9h14.8zM180.9 10.1v18.6h-3.4v-8.5h-7.3v8.5h-3.4V10.1h3.4v7.3h7.3v-7.3zM196 13.1l-.2-2.6a24.4 24.4 0 0 1 5.9-.7 8.9 8.9 0 0 1 4.5.9 3.5 3.5 0 0 1 1.5 3.3 6.4 6.4 0 0 1-.7 3.1 13.3 13.3 0 0 1-2.4 3.3l-4.9 5.3 2.8-.2h5.8v3.2h-12.7v-2a2 2 0 0 1 .5-1.4l4.9-5.4c2.2-2.4 3.3-4.2 3.3-5.6a1.3 1.3 0 0 0-.7-1.3 5.7 5.7 0 0 0-2.2-.3 52.9 52.9 0 0 0-5.4.4zM214.3 28.7V10.1l7-.2c2.8 0 4.8.7 5.9 2.1s1.7 3.8 1.7 7.4-.6 6.1-1.7 7.5-3.1 2-5.9 2-4.5 0-7-.2zm3.4-16v13.4h3.6a3.6 3.6 0 0 0 3.2-1.4 12.6 12.6 0 0 0 .8-5.3c0-2.5-.3-4.3-.9-5.3a3.3 3.3 0 0 0-3.1-1.4h-3.6zM.1 8.1v-8h2.7a2.9 2.9 0 0 1 2.1.5 3 3 0 0 1 .5 2 2.9 2.9 0 0 1-.5 1.9 2.5 2.5 0 0 1-1.9.6H1.2v3zm1.1-4h1.6a1.6 1.6 0 0 0 1.1-.3 2.1 2.1 0 0 0 .3-1.2 2.3 2.3 0 0 0-.3-1.3A1.6 1.6 0 0 0 2.8 1H1.2zM9.7 0a3 3 0 0 1 2.5.9 5.2 5.2 0 0 1 .7 3.2 5 5 0 0 1-.7 3.2 3 3 0 0 1-2.5.9 2.8 2.8 0 0 1-2.4-.9 5 5 0 0 1-.7-3.2A5.2 5.2 0 0 1 7.3.9 2.8 2.8 0 0 1 9.7 0zm1.6 1.7A1.7 1.7 0 0 0 9.7 1a1.6 1.6 0 0 0-1.5.7 4.5 4.5 0 0 0-.4 2.4 4.5 4.5 0 0 0 .4 2.4 1.6 1.6 0 0 0 1.5.7 1.7 1.7 0 0 0 1.6-.7 4.5 4.5 0 0 0 .4-2.4 4.5 4.5 0 0 0-.4-2.4zM24.2.1l-1.6 7.6a.4.4 0 0 1-.4.4h-1.3a.4.4 0 0 1-.4-.4l-1.2-5.8a3.4 3.4 0 0 1-.1-.9h-.3l-.2.9-1.1 5.8V8h-1.7c-.3 0-.4-.1-.5-.4L13.9.1h1.2l1.2 6.1a5.1 5.1 0 0 0 .1 1h.3c0-.3.1-.7.1-1L18 .5a.4.4 0 0 1 .4-.4h1.3a.2.2 0 0 1 .2.2.2.2 0 0 1 .2.2l1.1 5.7c.1.3.1.6.2 1h.3v-.5a1.1 1.1 0 0 0 .1-.5L22.9.1zM30.3 7.1V8H27a1.6 1.6 0 0 1-1.2-.4 1.2 1.2 0 0 1-.4-1v-5a1.4 1.4 0 0 1 .4-1.1A2.1 2.1 0 0 1 27 .1h3.4V1h-3.2l-.5.2a.7.7 0 0 0-.1.5v1.7h3.3v1h-3.3v2a1.1 1.1 0 0 0 .1.6h3.6zM37.6 8.1h-1.2l-.7-2.5a1.1 1.1 0 0 0-1-.8h-1.6v3.3h-1.2v-8h2.8a3.4 3.4 0 0 1 2 .5 2.4 2.4 0 0 1 .6 1.8 2.8 2.8 0 0 1-.3 1.4 2 2 0 0 1-1.2.6 1.4 1.4 0 0 1 1 1.2zm-4.5-4.3h1.6a1.6 1.6 0 0 0 1.1-.3 1.4 1.4 0 0 0 .3-1.1 1.6 1.6 0 0 0-.3-1.1 1.6 1.6 0 0 0-1.1-.3h-1.6zM43.9 7.1V8h-3.3a1.6 1.6 0 0 1-1.2-.4 1.2 1.2 0 0 1-.4-1v-5a1.4 1.4 0 0 1 .4-1.1 2.1 2.1 0 0 1 1.2-.4H44V1h-3.2a.6.6 0 0 0-.5.2.8.8 0 0 0-.2.5v1.7h3.4v1h-3.4v2a1.1 1.1 0 0 0 .2.6h3.6zM45.5 8.1v-8h2.9a3 3 0 0 1 2.4.9 5.2 5.2 0 0 1 .7 3.2 5.2 5.2 0 0 1-.7 3.2 3 3 0 0 1-2.4.9zm1.1-7v6h1.8a1.6 1.6 0 0 0 1.5-.7 5.7 5.7 0 0 0 .4-2.4 6.5 6.5 0 0 0-.4-2.4 1.8 1.8 0 0 0-1.5-.6h-1.8zM59.6 3.9a1.5 1.5 0 0 1 1.3.6 2.8 2.8 0 0 1 .3 1.5 2.2 2.2 0 0 1-.5 1.6 3.4 3.4 0 0 1-2 .5h-3v-8h2.6a3.7 3.7 0 0 1 2.1.4 1.8 1.8 0 0 1 .6 1.6 2.3 2.3 0 0 1-.3 1.3 1.4 1.4 0 0 1-1.1.5zm-2.8-.4h1.6a2.9 2.9 0 0 0 1.2-.2 1.3 1.3 0 0 0 .3-1c0-.5-.1-.9-.4-1a1.7 1.7 0 0 0-1.2-.3h-1.5zm0 3.7h1.7a1.7 1.7 0 0 0 1.2-.3c.3-.1.4-.5.4-1a1.7 1.7 0 0 0-.4-1.2 1.9 1.9 0 0 0-1.3-.3h-1.6zM65.6 5.3v2.8h-1.1V5.3L61.8.1h1.3l1.6 3.3a4.2 4.2 0 0 0 .3.9h.1a8.5 8.5 0 0 1 .3-.9L67 .1h1.2z"/></svg>';
return b};$jscomp.inherits(lc,M);lc.prototype.show=function(){var a=this,b=.001*this.mDuration;b="#logo,#splash-screen{position:relative;box-sizing:border-box}#logo-inner,#logo-name{margin-left:auto;margin-right:auto}#splash-screen{z-index:999;top:0;left:0;width:100%;height:100%;display:block;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAIklEQVQYV2OUkpL6/+zZMwYpKSkGEM3IwMDwnwEJMBJUAQCLUhABUGRZzwAAAABJRU5ErkJggg==);opacity:1;animation:hide 0s ease-in "+b+"s forwards}@keyframes hide{to{opacity:0}}#logo{top:20%;left:50%;animation:fadein "+
b+"s linear forwards}@keyframes fadein{0%{opacity:0}100%,40%{opacity:1}}#logo-name{width:100%;margin-top:108px}";var c=document.createElement("style");c.type="text/css";c.innerHTML=b;document.getElementsByTagName("head")[0].appendChild(c);var d=document.getElementById(r.engine.containerElementId),e=d.style.overflow;d.style.overflow="hidden";var f=document.createElement("div");f.id="splash-screen";d.appendChild(f);var g=document.createElement("div");g.id="logo";f.appendChild(g);var h=document.createElement("div");
h.id="logo-inner";h.innerHTML=this.mSvgLogo;g.appendChild(h);var k=document.createElement("div");k.id="logo-name";k.innerHTML=this.mSvgText;g.appendChild(k);var p=function(){var v=f.offsetWidth,y=f.offsetHeight;v=a.calculateAspectRatioFit(v,y,.5*v,.5*y);g.style.width=v.width+"px";g.style.height=v.height+"px";g.style.marginLeft=.5*-v.width+"px";h.style.width=Math.min(v.width,v.height)+"px";h.style.height=Math.min(v.width,v.height)+"px";k.style.width=.9*Math.min(v.width,v.height)+"px";k.style.height=
Math.min(v.width,v.height)+"px";k.style.marginTop="12px"};p();var q=d.offsetWidth,m=d.offsetHeight,u=setInterval(function(v){if(q!==d.offsetWidth||m!==d.offsetHeight)q=d.offsetWidth,m=d.offsetHeight,p()},1E3/60);setTimeout(function(){clearTimeout(u);c.parentNode.removeChild(c);f.parentNode.removeChild(f);d.style.overflow=e;a.post(O.COMPLETE)},this.mDuration);this.post(O.COMPLETE)};lc.prototype.calculateAspectRatioFit=function(a,b,c,d){c=Math.min(c/a,d/b);return{width:a*c,height:b*c}};var $a=function(a,
b,c){a=void 0===a?1:a;b=void 0===b?1:b;c=void 0===c?!0:c;var d=Z.call(this)||this;n.assert(0<a,"the interval value must be greater than 0");n.assert(0<b,"the ticksCount value must be greater than 0");d.mStartOnAdded=c;d.mInterval=a;d.mTicksCount=b;d.mIsRunning=!1;d.mTick=0;d.mElapsedSeconds=0;d.mTotalElapsedSeconds=0;return d};$jscomp.inherits($a,Z);$a.prototype.onAdded=function(){this.mStartOnAdded&&this.start()};$a.prototype.onUpdate=function(){if(!1!==this.mIsRunning&&(this.mElapsedSeconds+=r.time.delta,
this.mTotalElapsedSeconds+=r.time.delta,this.mElapsedSeconds>=this.mInterval)){this.mElapsedSeconds=0;for(var a=Math.max(1,~~(r.time.delta/this.mInterval)),b=0;b<a;b++)if(this.mTick++,this.post("tick",this.mTick),this.mTick>=this.mTicksCount){this.mIsRunning=!1;this.post("complete");break}}};$a.prototype.start=function(){this.mIsRunning=!0;return this};$a.prototype.stop=function(){this.mIsRunning=!1;this.reset();return this};$a.prototype.pause=function(){this.mIsRunning=!1;return this};$a.prototype.reset=
function(){this.mTotalElapsedSeconds=this.mElapsedSeconds=this.mTick=0;return this};$jscomp.global.Object.defineProperties($a.prototype,{ticksLeft:{configurable:!0,enumerable:!0,get:function(){return this.mTicksCount-this.mTick}},currentTick:{configurable:!0,enumerable:!0,get:function(){return this.mTick}},elapsedSeconds:{configurable:!0,enumerable:!0,get:function(){return this.mElapsedSeconds}},secondsToNextTick:{configurable:!0,enumerable:!0,get:function(){return this.mInterval-this.mElapsedSeconds}},
isRunning:{configurable:!0,enumerable:!0,get:function(){return!0===this.mIsRunning}},isComplete:{configurable:!0,enumerable:!0,get:function(){return this.mTick>=this.mTicksCount}},ticksCount:{configurable:!0,enumerable:!0,get:function(){return this.mTicksCount},set:function(a){n.assert(0<a,"the ticksCount value must be greater than 0");this.mTicksCount=a}},interval:{configurable:!0,enumerable:!0,get:function(){return this.mInterval},set:function(a){n.assert(0<a,"the interval value must be greater than 0");
this.mInterval=a}},totalElapsedSeconds:{configurable:!0,enumerable:!0,get:function(){return this.mTotalElapsedSeconds}},startOnAdded:{configurable:!0,enumerable:!0,get:function(){return this.mStartOnAdded},set:function(a){this.mStartOnAdded=a}}});var wd=0,V=function(a,b,c,d){d=void 0===d?null:d;var e=M.call(this)||this;e.id=++wd;r.engine=e;e.mContainerElementId=a;e.mContainerElement=null;e.mVideoDriverClass=c;e.mSystemClasses=d;e.mStageWidth=0;e.mStageHeight=0;e.mLastUpdateTime=0;e.mFrameNum=0;e.mNumUpdates=
0;e.mMaxUpdatesPerFrame=60;e.mLastRenderTime=0;e.mSystems=[];e.mGameObject=null;e.mIsRunning=!1;e.mIsStarted=!1;e.mIsPanic=!1;e.mRAFHandle=-1;e.mViewport=null;e.mVideo=null;e.mPaused=!1;e.mUnpausing=!1;e.mPauseOnHide=!0;e.mPauseOnBlur=!0;e.mTagCache={};e.mGameClass=b;e.mStage=null;e.mWasStopped=!1;e.mFrameTimes=[];e.mUseHiDPR=!1;e.mPendingDispose=!1;e.__initialize();return e};$jscomp.inherits(V,M);V.prototype.__initialize=function(){console.log("%c                         >>> BLACK <<<                         ",
"background: #000; color: #fff;");this.mContainerElement=document.getElementById(this.mContainerElementId);if(!this.mContainerElement)throw Error("Container element was not found");r.device=new Zb;this.mStageWidth=this.mContainerElement.clientWidth;this.mStageHeight=this.mContainerElement.clientHeight;this.mUseHiDPR=r.device.isMobile;this.__bootViewport();this.__update=this.__update.bind(this)};V.prototype.pause=function(){this.mPaused=!0;for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onPause();
this.post("paused")};V.prototype.resume=function(){!0===this.mPaused&&(this.mUnpausing=!0)};V.prototype.__setUnpaused=function(){this.mPaused=!1;for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onResume();this.post("unpaused")};V.prototype.__bootViewport=function(){this.mViewport=new Ia(this.mContainerElement)};V.prototype.__bootSystems=function(){if(null!==this.mSystemClasses)for(var a=0;a<this.mSystemClasses.length;a++)this.__addSystem(new this.mSystemClasses[a])};V.prototype.__checkVisibility=
function(){var a=this;"undefined"===typeof document.hidden?(document.hidden=!1,document.visibilityState="visible",window.onpagehide=function(b){return a.__onVisibilityChangeFallback(b)},window.onpageshow=function(b){return a.__onVisibilityChangeFallback(b)}):document.addEventListener("visibilitychange",function(b){return a.__onVisibilityChange(b)},!1);window.onblur=function(b){return a.__onVisibilityChangeFallback(b)};window.onfocus=function(b){return a.__onVisibilityChangeFallback(b)}};V.prototype.__bootStage=
function(){this.mStage=new Da;this.__checkVisibility();document.hidden&&!0===this.mPauseOnHide&&this.pause()};V.prototype.__onVisibilityChangeFallback=function(a){a=a.type;"blur"===a&&!0===this.mPauseOnBlur?this.pause():"pagehide"===a&&!0===this.mPauseOnHide?this.pause():("focus"===a||"pageshow"===a)&&!1===document.hidden&&this.resume()};V.prototype.__onVisibilityChange=function(){!0===this.mPauseOnHide&&"hidden"===document.visibilityState?this.pause():"visible"===document.visibilityState&&this.resume()};
V.prototype.hasSystem=function(a){for(var b=0;b<this.mSystems.length;b++)if(this.mSystems[b]instanceof a)return!0;return!1};V.prototype.__addSystem=function(a){this.mSystems.push(a);return a};V.prototype.getSystem=function(a){for(var b=0;b<this.mSystems.length;b++){var c=this.mSystems[b];if(c instanceof a)return c}return null};V.prototype.__bootVideo=function(){this.mVideo=new this.mVideoDriverClass(this.mViewport.mViewportElement,this.mStageWidth,this.mStageHeight)};V.prototype.start=function(){if(!0===
this.mWasStopped)n.error("Black engine cannot be re-started.");else if(r.engine=this,!0!==this.mIsStarted){r.time=new qc;this.__bootSystems();this.__bootStage();this.__bootVideo();this.mStage.__refresh();this.post(O.READY);this.mGameObject=new this.mGameClass;this.mStage.addChild(this.mGameObject);var a=this;this.mIsStarted=!0;this.mVideo.start();this.mRAFHandle=window.requestAnimationFrame(function(b){a.mIsRunning=!0;a.mLastUpdateTime=b;a.mLastRenderTime=a.mLastUpdateTime;a.__update(b,!0)})}};V.prototype.stop=
function(){this.mIsRunning=this.mIsStarted=!1;window.cancelAnimationFrame(this.mRAFHandle);console.log("%c                        <<< BYE BYE >>>                        ","background: #000; color: #fff;")};V.prototype.destroy=function(){this.mPendingDispose=!0};V.prototype.__dispose=function(){this.stop();this.mVideo.dispose();this.mViewport.dispose();r.assets.dispose();r.assets=null;for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].dispose();M.dispose();this.mFrameNum=this.mNumUpdates=0;r.engine=
null};V.prototype.__update=function(a,b){var c=r.time;!0===this.mPaused&&!0===this.mUnpausing&&(this.mUnpausing=!1,this.mLastRenderTime=this.mLastUpdateTime=a,this.__setUnpaused());this.mRAFHandle=window.requestAnimationFrame(this.__update);if(!0!==this.mPaused){var d=Math.floor((a-this.mLastUpdateTime)/c.mDeltaTimeMs);!0===b&&(d=1);d>this.mMaxUpdatesPerFrame&&(this.post("looped",d),n.warn("Unable to catch up "+d+" update(s)."),d=this.mMaxUpdatesPerFrame);this.mNumUpdates=d;for(b=0;b<d;b++)c.mActualTime+=
c.delta,c.mTime=c.mActualTime,this.__internalUpdate(),this.__internalSystemPostUpdate();for(b=a-c.mDeltaTimeMs;this.mLastUpdateTime<b;)this.mLastUpdateTime+=c.mDeltaTimeMs;c.mAlphaTime=0===d?(a-this.mLastUpdateTime)/c.mDeltaTimeMs:0;c.mTime=c.mActualTime+.001*(a-this.mLastUpdateTime)*c.mScale;this.__internalSystemRender();this.mVideo.beginFrame();this.mVideo.render(this.mStage);this.mVideo.endFrame();this.mFrameNum++;this.mIsPanic=!1;K.__dirty=!1;this.mLastRenderTime=a;!0===this.mPendingDispose&&
this.__dispose()}};V.prototype.__internalUpdate=function(){this.mViewport.__update();for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onUpdate();this.mStage.__update()};V.prototype.__internalSystemPostUpdate=function(){for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onPostUpdate()};V.prototype.__internalSystemRender=function(){for(var a=0;a<this.mSystems.length;a++)this.mSystems[a].onRender()};V.prototype.onTagUpdated=function(a,b,c){if(null!==b){var d=this.mTagCache[b];d.splice(d.indexOf(a),
1);0===d.length&&delete this.mTagCache[b]}null!==c&&(!1===this.mTagCache.hasOwnProperty(c)&&(this.mTagCache[c]=[]),this.mTagCache[c].push(a))};V.prototype.onChildrenAdded=function(a,b){var c=this;if(b.root instanceof Da){K.__dirty=!0;for(b=0;b<this.mSystems.length;b++)this.mSystems[b].onChildrenAdded(a);B.forEach(a,function(d){if(!0!==d.mAdded){c.onTagUpdated(d,null,d.mTag);d.mAdded=!0;d.onAdded();for(var e=0;e<d.mComponents.length;e++){var f=d.mComponents[e];!0!==f.mAdded&&(f.mAdded=!0,f.onAdded(d))}}})}};
V.prototype.onChildrenChanged=function(a){K.__dirty=!0;for(var b=0;b<this.mSystems.length;b++)this.mSystems[b].onChildrenChanged(a)};V.prototype.onChildrenRemoved=function(a){var b=this;K.__dirty=!0;for(var c=0;c<this.mSystems.length;c++)this.mSystems[c].onChildrenRemoved(a);B.forEach(a,function(d){if(!0===d.mAdded){b.onTagUpdated(d,null,d.mTag);d.mAdded=!1;d.onRemoved();for(var e=0;e<d.mComponents.length;e++){var f=d.mComponents[e];!1!==f.mAdded&&(f.mAdded=!1,f.onRemoved(d))}}})};V.prototype.onComponentAdded=
function(a,b){K.__dirty=!0;for(var c=0;c<this.mSystems.length;c++)this.mSystems[c].onComponentAdded(a,b);!0!==b.mAdded&&(b.mAdded=!0,b.onAdded(a))};V.prototype.onComponentRemoved=function(a,b){K.__dirty=!0;for(var c=0;c<this.mSystems.length;c++)this.mSystems[c].onComponentRemoved(a,b);!1!==b.mAdded&&(b.mAdded=!1,b.onRemoved(a))};$jscomp.global.Object.defineProperties(V.prototype,{ups:{configurable:!0,enumerable:!0,get:function(){return.001*r.time.mDeltaTimeMs},set:function(a){n.isNumber(a);n.assert(0<
a);r.time.mDeltaTimeMs=1E3/a;r.time.mDeltaTime=.001*r.time.mDeltaTimeMs}},viewport:{configurable:!0,enumerable:!0,get:function(){return this.mViewport}},containerElement:{configurable:!0,enumerable:!0,get:function(){return this.mContainerElement}},pauseOnHide:{configurable:!0,enumerable:!0,get:function(){return this.mPauseOnHide},set:function(a){this.mPauseOnHide=a}},pauseOnBlur:{configurable:!0,enumerable:!0,get:function(){return this.mPauseOnBlur},set:function(a){this.mPauseOnBlur=a}},isPaused:{configurable:!0,
enumerable:!0,get:function(){return this.mPaused}},stage:{configurable:!0,enumerable:!0,get:function(){return this.mStage}},containerElementId:{configurable:!0,enumerable:!0,get:function(){return this.mContainerElementId}},useHiDPR:{configurable:!0,enumerable:!0,get:function(){return this.mUseHiDPR},set:function(a){this.mUseHiDPR=a}},frameNum:{configurable:!0,enumerable:!0,get:function(){return this.mFrameNum}},numUpdates:{configurable:!0,enumerable:!0,get:function(){return this.mNumUpdates}},maxUpdatesPerFrame:{configurable:!0,
enumerable:!0,get:function(){return this.mMaxUpdatesPerFrame},set:function(a){this.mMaxUpdatesPerFrame=a}}});l.Acceleration=xc;l.AlphaOverLife=yc;l.AnchorOverLife=Dc;l.AnimationController=Na;l.AnimationInfo=qb;l.Arcade=oa;l.Asset=N;l.AssetLoader=wa;l.AssetManager=R;l.AssetManagerState=pb;l.AssetType=J;l.AtlasTexture=Fa;l.AtlasTextureAsset=Pb;l.BVGAsset=Ub;l.BVGParser=ya;l.BVGStyle=ob;l.BindingType=tb;l.BitmapFontAsset=mb;l.BitmapFontCharData=ad;l.BitmapFontData=$c;l.BitmapTextField=Vb;l.BitmapTextRenderer=
xb;l.BitmapTextRendererCanvas=fc;l.Black=r;l.BlendMode=Ra;l.BoxCollider=Ea;l.BoxToBoxPair=Pa;l.BoxToCirclePair=Qa;l.BroadPhase=Uc;l.Camera=rc;l.CanvasDriver=pa;l.CanvasRenderTexture=fb;l.CapsStyle=hb;l.Circle=ja;l.CircleCollider=Ib;l.CircleToCirclePair=Za;l.Collider=Ca;l.ColorHelper=x;l.ColorOverLife=zc;l.ColorScatter=Wa;l.ColorScatterBase=Db;l.Component=Z;l.Curve=ea;l.Debug=n;l.Device=Zb;l.DisplayObject=aa;l.DisplayObjectRendererCanvas=ib;l.DistortionEffect=kc;l.Ease=P;l.Emitter=va;l.EmitterRendererCanvas=
zb;l.EmitterSortOrder=wc;l.EmitterState=za;l.Engine=V;l.FillRule=Tb;l.FloatCurveScatter=jc;l.FloatScatter=Y;l.FloatScatterBase=jb;l.FontAlign=cd;l.FontAsset=Ob;l.FontFaceAssetLoader=gb;l.FontMetrics=Aa;l.FontStyle=Hb;l.FontVerticalAlign=dd;l.FontWeight=Wb;l.GameObject=B;l.Glob=Q;l.Graphics=ba;l.GraphicsCommand=vb;l.GraphicsCommandType=I;l.GraphicsData=S;l.GraphicsGradient=ac;l.GraphicsLinearGradient=Va;l.GraphicsPath=sc;l.GraphicsPattern=Sb;l.GraphicsRenderer=dc;l.GraphicsRendererCanvas=Bb;l.HSV=
D;l.ImageAssetLoader=Jb;l.InitialAnchor=Nc;l.InitialColor=Mc;l.InitialLife=Fc;l.InitialMass=Gc;l.InitialPosition=Jc;l.InitialRotation=Kc;l.InitialScale=Hc;l.InitialTexture=Lc;l.InitialVelocity=Ic;l.Input=ha;l.InputComponent=Sa;l.Interpolation=Xa;l.JSONAsset=Mb;l.JointStyle=Ua;l.Key={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,DIGIT_0:48,DIGIT_1:49,DIGIT_2:50,DIGIT_3:51,DIGIT_4:52,DIGIT_5:53,DIGIT_6:54,DIGIT_7:55,
DIGIT_8:56,DIGIT_9:57,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,PAUSE_BREAK:19,CAPS_LOCK:20,ESCAPE:27,PAGE_UP:33,PAGE_DOWN:34,END:35,
HOME:36,INSERT:45,DELETE:46,LEFT_WINDOW:91,RIGHT_WINDOW:92,CONTEXT_MENU:93,NUM_LOCK:144,SCROLL_LOCK:145,SEMI_COLON:186,EQUAL_SIGN:187,COMMA:188,DASH:189,PERIOD:190,FORWARD_SLASH:191,BACKQUOTE:192,BRAKET_LEFT:219,BACK_SLASH:220,BRAKET_RIGHT:221,SINGLE_QUOTE:222,SPACE:32};l.KeyInfo=Yc;l.Line=X;l.LoaderType=qa;l.MapMap=ia;l.MasterAudio=ma;l.MathEx=w;l.Matrix=C;l.Message=O;l.MessageBinding=Gb;l.MessageDispatcher=M;l.MessageType=sb;l.Modifier=L;l.ObjectPool=T;l.Orientation=Yb;l.Oriented=Ec;l.Pair=fa;l.ParserBase=
bc;l.Particle=gc;l.Perlin=E;l.Polygon=ca;l.Projection=rb;l.RGB=lb;l.RadialScatter=ic;l.Range=Qc;l.Rectangle=z;l.RenderSession=cc;l.RenderTarget=ub;l.RenderTargetCanvas=db;l.Renderer=K;l.ReverbEffect=Pc;l.RigidBody=Ga;l.RotationOverLife=Bc;l.ScaleOverLife=Ac;l.Scatter=yb;l.SimpleEQ=kb;l.Sound=Ya;l.SoundAsset=Qb;l.SoundAtlasAsset=Rb;l.SoundAtlasClip=nb;l.SoundChannel=Ba;l.SoundClip=Ta;l.SoundEffect=Ja;l.SoundInstance=ua;l.SoundListener=Fb;l.SoundState=ra;l.Spine=Oa;l.SplashScreen=lc;l.Sprite=Cb;l.SpriteRendererCanvas=
Ab;l.Stage=Da;l.StageScaleMode=eb;l.StereoPanner=$b;l.System=ka;l.TextField=Ha;l.TextMetricsData=Wc;l.TextMetricsEx=cb;l.TextRenderer=La;l.TextRendererCanvas=ec;l.TextSegmentMetricsData=Xc;l.TextStyle=ab;l.Texture=da;l.TextureAsset=Lb;l.TextureOverLife=Cc;l.TilingInfo=function(a,b,c,d,e,f){this.width=void 0===a?0:a;this.height=void 0===b?0:b;this.scaleX=void 0===c?1:c;this.scaleY=void 0===d?1:d;this.wrapX=void 0===e?0:e;this.wrapY=void 0===f?0:f};l.Time=qc;l.Timer=$a;l.Tween=la;l.Vector=t;l.VectorCurveScatter=
hc;l.VectorField=Eb;l.VectorScatter=sa;l.VectorScatterBase=Ma;l.VectorTextureAsset=wb;l.VideoNullDriver=U;l.Viewport=Ia;l.XHRAssetLoader=Kb;l.XMLAsset=Nb;Object.defineProperty(l,"__esModule",{value:!0})});
